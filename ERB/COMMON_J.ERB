@GET_SUCCESS_RATE
#FUNCTION
VARSET LOCAL

;反抗的.素直
LOCAL -= TALENT:態度 * 5
;気丈
SIF TALENT:度胸 > 0
	LOCAL -= 5

;プライド高い
SIF TALENT:プライド > 0
	LOCAL -= 15
;プライド低い
SIF TALENT:プライド < 0
	LOCAL += 5
;目立ちたがり
SIF TALENT:目立ちたがり
	LOCAL += 2
;即落ち
SIF TALENT:即落ち
	LOCAL += 10
;性別嗜好
SIF (TALENT:性別嗜好 & 1 && !(TALENT:PLAYER:2 & 1)) || (TALENT:性別嗜好 & 2 && TALENT:PLAYER:2 & 1)
	LOCAL -= 7

;調教者の素質
;謎の魅力
SIF TALENT:PLAYER:謎の魅力
	LOCAL += 6

;相性チェック
R = NO:PLAYER
IF RELATION:R > 0 && RELATION:R < 30
	LOCAL -= 10
ELSEIF RELATION:R > 0 && RELATION:R < 70
	LOCAL -= 6
ELSEIF RELATION:R > 0 && RELATION:R < 100
	LOCAL -= 3
ELSEIF RELATION:R >= 100 && RELATION:R < 130
	LOCAL += 3
ELSEIF RELATION:R >= 100 && RELATION:R < 170
	LOCAL += 6
ELSEIF RELATION:R >= 100 && RELATION:R >= 170
	LOCAL += 10
ENDIF

;好感度
LOCAL += CFLAG:好感度レベル / 10

;恋慕
SIF TALENT:恋慕
	LOCAL += 20
;親愛
SIF TALENT:恋慕 > 1
	LOCAL += 40

SIF LOCAL < 0
	LOCAL = 0

RETURNF LOCAL



