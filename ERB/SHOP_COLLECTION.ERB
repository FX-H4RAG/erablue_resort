@SHOW_COLLECTION
DRAWLINE
VARSET LOCAL
FOR LOCAL,0,CHARANUM
	FOR LOCAL:1,0,25
		LOCALS = %CALLNAME:LOCAL%{LOCAL:1}/
		IF STRCOUNT(SAVESTR:10,LOCALS)
			SIF STRCOUNT(SAVESTR:10,LOCALS) > 1
				LOCAL:4 ++
			IF !LOCAL:2
				PRINTL
				PRINTFORML 【%CALLNAME:LOCAL%】
			ENDIF
			LOCALS:1 = %PANTSNAME(LOCAL:1)% {STRCOUNT(SAVESTR:10,LOCALS)}枚
			PRINTFORM %LOCALS:1,25,LEFT%
			LOCAL:2 ++
			LOCAL:3 ++
			SIF LOCAL:2 % 4 == 0 && LOCAL:2
				PRINTL
		ENDIF
	NEXT
	SIF LOCAL:3
		PRINTL
	LOCAL:2 = 0
	LOCAL:3 = 0
NEXT
PRINT [0] - 戻る 
SIF LOCAL:4
	PRINT [1] - 1枚残して全て売却する
INPUT
IF RESULT == 1 && LOCAL:4
	VARSET LOCAL
	VARSET LOCALS
	FOR LOCAL,1,CHARANUM
		FOR LOCAL:1,0,25
			LOCALS = %CALLNAME:LOCAL%{LOCAL:1}/
			SIF STRCOUNT(SAVESTR:10,LOCALS) > 1
				LOCAL:2 += STRCOUNT(SAVESTR:10,LOCALS) - 1
		NEXT
	NEXT
	LOCALS:2 = /
	FOR LOCAL,1,CHARANUM
		FOR LOCAL:1,0,25
			LOCALS = /%CALLNAME:LOCAL%{LOCAL:1}/
			IF STRCOUNT(SAVESTR:10,LOCALS)
				LOCALS:1 = %CALLNAME:LOCAL%{LOCAL:1}/
				LOCALS:2 += LOCALS
			ENDIF
		NEXT
	NEXT
	SAVESTR:10 = %LOCALS:2%
	PRINTFORMW 全部で{LOCAL:2}枚 {100 * LOCAL:2}%MONEYLABEL%で売れました
	MONEY += 100 * LOCAL:2
ELSE
	RETURN 0
ENDIF
RESTART
