;-------------------------------------------------------------------------------------------
;モードを検索し配列番号や相手キャラなどを返す関数群
;-------------------------------------------------------------------------------------------
@MODE_確認_プレイヤー側(判定モード名, 判定キャラ番号 = -1)
#FUNCTION
#DIM 配列番号
#DIMS 判定モード名
#DIM 判定キャラ番号

IF 判定キャラ番号 == -1
	判定キャラ番号 = PLAYER
ENDIF

;判定モード名があるかどうかを見る
FOR 配列番号, 0, DT_ROW_LENGTH("体位モードデータベース")
	IF DT_CELL_GET("体位モードデータベース", 配列番号, "実行キャラ") == 判定キャラ番号
		IF 判定モード名 == "ALL"
			RETURNF 配列番号
		ELSEIF DT_CELL_GETS("体位モードデータベース", 配列番号, "モード名") == 判定モード名
			RETURNF 配列番号
		ELSEIF MODE系統確認(DT_CELL_GETS("体位モードデータベース", 配列番号, "モード名"), 判定モード名)
			RETURNF 配列番号
		ENDIF
	ENDIF
NEXT

RETURNF -1


@MODE_確認_ターゲット側(判定モード名, 判定キャラ番号 = -1)
#FUNCTION
#DIM 配列番号
#DIMS 判定モード名
#DIM 判定キャラ番号

IF 判定キャラ番号 == -1
	判定キャラ番号 = TARGET
ENDIF

;判定モード名があるかどうかを見る
FOR 配列番号, 0, DT_ROW_LENGTH("体位モードデータベース")
	IF DT_CELL_GET("体位モードデータベース", 配列番号, "対象キャラ") == 判定キャラ番号
		IF 判定モード名 == "ALL"
			RETURNF 配列番号
		ELSEIF DT_CELL_GETS("体位モードデータベース", 配列番号, "モード名") == 判定モード名
			RETURNF 配列番号
		ELSEIF MODE系統確認(DT_CELL_GETS("体位モードデータベース", 配列番号, "モード名"), 判定モード名)
			RETURNF 配列番号
		ENDIF
	ENDIF
NEXT

RETURNF -1


@MODE_確認_完全一致(判定モード名, 実行キャラ番号 = -1, 対象キャラ番号 = -1)
#FUNCTION
#DIM 配列番号
#DIMS 判定モード名
#DIM 実行キャラ番号
#DIM 対象キャラ番号

IF 実行キャラ番号 == -1
	実行キャラ番号 = PLAYER
ENDIF
IF 対象キャラ番号 == -1
	対象キャラ番号 = TARGET
ENDIF

;判定モード名があるかどうかを見る
FOR 配列番号, 0, DT_ROW_LENGTH("体位モードデータベース")
	IF DT_CELL_GET("体位モードデータベース", 配列番号, "実行キャラ") == 実行キャラ番号 && DT_CELL_GET("体位モードデータベース", 配列番号, "対象キャラ") == 対象キャラ番号
		IF 判定モード名 == "ALL"
			RETURNF 配列番号
		ELSEIF DT_CELL_GETS("体位モードデータベース", 配列番号, "モード名") == 判定モード名
			RETURNF 配列番号
		ELSEIF MODE系統確認(DT_CELL_GETS("体位モードデータベース", 配列番号, "モード名"), 判定モード名)
			RETURNF 配列番号
		ENDIF
	ENDIF
NEXT

RETURNF -1
