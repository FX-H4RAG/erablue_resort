@イベント関数_エンディングイベント_愛の宮殿(動作モード, イベント行id)
#DIMS 動作モード
#DIM イベント行id

SELECTCASE 動作モード
	CASE "設定取得"
		;GE:General Endingの略。汎用エンドの意
		TSTR:コマンド名受渡 = GE02

		;解説文もここで取得
		TSTR:ツールチップ受渡 = 
		TSTR:ツールチップ受渡 += "■エンディングNo.GE02『愛の宮殿』<br>"
		TSTR:ツールチップ受渡 += "<br>"
		TSTR:ツールチップ受渡 += "恋慕系陥落キャラが１００人に達することで迎える汎用エンド。<br>"
		TSTR:ツールチップ受渡 += "愛する人たちに囲まれた幸せな生活を過ごす。<br>"
		TSTR:ツールチップ受渡 += "<br>"
		TSTR:ツールチップ受渡 += "実行条件：5,000ZPの所持/恋慕系陥落キャラ１００人以上<br>"
		TSTR:ツールチップ受渡 += "解放要素：定住枠を２０枠増加<br>"
		TSTR:ツールチップ受渡 += "エンディング視聴後：現在の周回を継続<br>"
	CASE "発生条件"
		;リストに表示するための条件
		;一回表示したらその後条件を満たさなくなっても表示したままなので注意
		SIF リゾートランク < 2
			RETURN 0
		SIF あなた恋慕人数() < 100
			RETURN 0
		RETURN 1
	CASE "実行条件"
		;リストから実行するための条件
		;満たしてない間は実行ボタンが灰色で表示され、クリック不可
		SIF FLAG:ZP所持量 < 5000
			RETURN 0
		SIF あなた恋慕人数() < 100
			RETURN 0
		RETURN 1
	CASE "実処理"
		FLAG:ZP所持量 -= 5000

		;文章部分はここに記載するよりも別関数に分ける方が見やすいし書きやすいので推奨
		CALL エンディングイベント_シナリオ_愛の宮殿()
		RETURN RESULT
ENDSELECT

@エンディングイベント_シナリオ_愛の宮殿()
DRAWLINE
PRINTL 星晶獣era：
PRINTW 「――確かに。5000ZPきっちり頂いたよ」
PRINTL 
PRINTL あなたは星晶獣eraが要求する額のZPをようやく献上することが出来た。
PRINTW 当初の契約通り、これであなたは力や富を手にしたままこの契約から解放されることになる。
PRINTL 
PRINTL 星晶獣era：
PRINTL 「私はこのZPで再び100年の眠りにつくつもりだが、お前はこれからどうするのかね？」
PRINTW 「……あぁ、何。これはただの世間話だ。既にお前との間に契約関係は無い、答えたくなければ答えなくてもいいが」
PRINTL 
PRINTW 星晶獣eraの問いに、あなたは――
PRINTW 
PRINTW ――愛する人達全員と共に生きていく、と答えた。
PRINTL 
PRINTL 星晶獣era：
PRINTW 「……本気で１００人を超える全員と暮らすのかい？」
PRINTW 「私も空の世界とそれなりに長く付き合ってきたつもりだが……お前のような人を見るのは初めてだよ」
PRINTL 
PRINTW 呆れたような声色だが、否定するような感情はない。
PRINTW あなたにはそれが嬉しく、笑顔で全員を幸せにするつもりだ、と答えた。
PRINTL 
PRINTL 星晶獣era：
PRINTW 「お前なら出来てしまいそうなのが恐ろしいところだ」
PRINTW 「我が優秀な元契約者。愛する人達と共に、健やかに過ごしたまえ」
PRINTL 
PRINTL とだけ言い残し、輝く白髪の少女である星晶獣eraは空気に溶けるように姿を消した。
PRINTW あなたの胸には一抹の寂しさと、仕事を終えた達成感だけが残っている。
PRINTL 
PRINTL あなたの生活はこれからも続いていく。
PRINTW さあ、君が愛し、愛してくれる恋人たちの元へ戻らなければ――――
PRINTL 
PRINTL 
PRINTW 
PRINTW エンディングNo.GE02『愛の宮殿』
PRINTW 


