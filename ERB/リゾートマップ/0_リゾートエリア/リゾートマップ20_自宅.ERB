

@マップ紹介_20
;とりあえず5行
PRINTFORML ※紹介文募集中※
PRINTFORML 
PRINTFORML 
PRINTFORML 
PRINTFORML 


@MAP_RESORT_0_20(AA)
#DIMS REF AA, 0
#DIM MAP

MAP = 0
AA:(MAP++) = １Ｆ
AA:(MAP++) = ┌─────────┬──┬───┬───────┐
AA:(MAP++) = │　　　　　　　　　│　　│　↑　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　│03　│　02　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　│　　│　　　│　　　　　　　│
AA:(MAP++) = │　　　　04　　　　├　　┘　　　│　　　　　　　│　
AA:(MAP++) = │　　　　　　　　　│　　　　　　　　　　01　　　　
AA:(MAP++) = │　　　　　　　　　│　　　　　　　　　　　　　　　
AA:(MAP++) = ├─────　　　─┴───　　─┼───────┤
AA:(MAP++) = │　　　　　　　　　　　　　　　　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　　　　　　　　　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　　　　　　　　　　　07　　　│
AA:(MAP++) = │　　　　　　　　　　　　　　　　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　┌─┐　　　├　　─────┤
AA:(MAP++) = │　　　　　05　　　　│　│　　　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　│　│　06　│　　　08　　　│
AA:(MAP++) = │　　　　　　　　　　│　│　　　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　│◯│　　　│　　　　　　　│
AA:(MAP++) = │　　　　　　　　　　│◯│　　　│　　　　　　　│
AA:(MAP++) = └───　　　　───┴─┴───┴───────┘
AA:(MAP++) = 
AA:(MAP++) = 
AA:(MAP++) = 　　　　　　09
AA:(MAP++) = 
AA:(MAP++) = 
AA:(MAP++) = 一：玄関　　　　　　二：２階へ　　　　　三：トイレ　　　　　四：和室
AA:(MAP++) = 五：リビング　　　　六：キッチン　　　　七：脱衣所　　　　　八：お風呂場
AA:(MAP++) = 九：庭



@GETPLACENAME_0_20(ARG)
#FUNCTION
SELECTCASE ARG
	CASE 2003
		TSTR:場所名受渡 = プールサイド
	CASE 2004
		TSTR:場所名受渡 = メインプール
	CASE 2005
		TSTR:場所名受渡 = ボールプール
	CASE 2006
		TSTR:場所名受渡 = 流れるプール
	CASE 2013
		TSTR:場所名受渡 = 男子更衣室へ
	CASE 2014
		TSTR:場所名受渡 = 女子更衣室へ
ENDSELECT


@DRAW_MAP_BG_0_20(SLICED, 表示文字列)
#DIMS REF 表示文字列
#DIMS SLICED
SELECTCASE SLICED
;下部一覧の数字を表示しつつボタン化させる
CASE "ミ"
	表示文字列 += @"<button value='2003'>2003</button>"
CASE "四"
	表示文字列 += @"<button value='2004'>2004</button>"
CASE "五"
	表示文字列 += @"<button value='2005'>2005</button>"
CASE "六"
	表示文字列 += @"<button value='2006'>2006</button>"
CASE "オ"
	表示文字列 += @"<button value='2013'>2013</button>"
CASE "エ"
	表示文字列 += @"<button value='2014'>2014</button>"
;ふつうの
CASEELSE
	表示文字列 += @"%SLICED%"
ENDSELECT

@自宅改造メニュー()
#FUNCTIONS
;100~199と999は大本のメニュー操作で使うため、使用しないこと

LOCALS = %CALLNAME:MASTER%が住む自宅を建設・改装します<br><br>
IF 施設改造度:20:0 < 1
	LOCALS += @"■<button value='200'>[自宅の建設]</button>（必要:100,000ルピ）<br>"
ELSE
	LOCALS += @"■[自宅の建設] Lv上限<br>"
ENDIF

RETURNF LOCALS

@自宅改造実行関数(ARG)

SELECTCASE ARG
	CASE 200
		DRAWLINE
		PRINTL 以下の施設を持つ自宅を建設します。
		PRINTBUTTON "■自宅個別マップの解放", 2000
		PRINTL 
		PRINTBUTTON "■寝室の導入", 2001
		PRINTL 
		PRINTBUTTON "■メインプールの導入", 2002
		PRINTL 
		PRINTBUTTON "■ボールプールの導入", 2003
		PRINTL 
		PRINTBUTTON "■流れるプールの導入", 2004
		PRINTL 
		PRINTL 
		PRINTL プールを改造しますか？（必要:200,000ルピ）
		PRINTBUTTONLC "[0] はい", 0
		PRINTBUTTONLC "[1] いいえ", 1
		INPUT
		SELECTCASE RESULT
			CASE 0
				IF MONEY < 200000
					PRINTW ルピが足りません。
					RETURN
				ENDIF
				施設改造度:20:0 = 1
				MONEY -= 200000
				PRINTL プールを改造しました！
				PRINTW (滞在キャラ上限＋５)
				CALL 滞在可能キャラ数再計算
				CALL RESET_GRAPH_0
				CALL 履歴データベース登録(CFLAG:MASTER:人物番号, @"プールをLv1に改造した","実績")
				FOR LOCAL, 1, CHARANUM
					SIF 現在仕事:LOCAL:1 == 20
						現在仕事:LOCAL:1 = 2003
				NEXT
				RETURN
			CASE 1
				RETURN
			CASE 2000
				DRAWLINE
				PRINTL マップの解放により、自室が自宅に変更され、自宅に移動すると個別のマップへと移動するようになります。
				PRINTL 改造が進むと更にマップが拡張され、内部の施設を強化出来るようになります。（未実装です）
				PRINTW
			CASE 2001
				DRAWLINE
				PRINTL 大きなベッドが備え付けられた寝室です。
				PRINTFORML 建設以降、%CALLNAME:MASTER%の就寝場所がこの部屋に変更されます。
				PRINTL また、婚姻状態になったキャラの就寝場所もここに変更されます。
				PRINTW
			CASE 2002
				DRAWLINE
				PRINTL １００ｍの大きなプールです。
				PRINTL 自由に泳いだり、浮き輪を持ち込んだりして遊ぶことが出来ます。
				PRINTW
			CASE 2003
				DRAWLINE
				PRINTL たくさんのボールが浮かぶ浅めのプールです。
				PRINTL ハーヴィンでも足が付く深さのため安心して遊ぶことが出来ます。
				PRINTL 水鉄砲などの遊び道具なども備え付けられています。
				PRINTW
			CASE 2004
				DRAWLINE
				PRINTL 魔法で常に水が流れているプールです。
				PRINTL 普通のプールとはまた違った楽しさを味わえるでしょう。
				PRINTL 女性キャラと一緒に遊ぶと、ポロリイベントが起こることがあります。（未実装）
				PRINTW
		ENDSELECT
		RESTART
ENDSELECT
