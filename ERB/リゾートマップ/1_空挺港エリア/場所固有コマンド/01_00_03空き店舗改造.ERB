
;-------------------------------------------------
;店舗を改装する
;-------------------------------------------------
@COMNAME_PLACE_380_1_3
#FUNCTION
TSTR:コマンド名受渡 = 店舗を改装する
RETURNF 1

;===================================================
;コマンドタイプ
;===================================================
@COMTYPE_380_1_3
#FUNCTION
TFLAG:コマンドタイプ受渡 = COMTYPE("単独可能")

@COM_TOOLTIP_380_1_3
LOCALS = <br>■店舗を改装する<br>
LOCALS += "ルピを消費し、店舗を改装するコマンド。"
LOCALS += "<br>COMタイプ：単独可能<br>取得ソース：なし"
LOCALS += "<br>固有の取得経験：なし<br>"
TSTR:ツールチップ受渡 = %LOCALS%

@COM380_1_3
CALL 空挺港_店舗改装処理(3)
RETURN RESULT

;-------------------------------------------------
;実行判定
;-------------------------------------------------
@COM_ABLE380_1_3
;条件に合う場合0（不許可）を返す
;どの条件にも引っかからないなら1（許可）を返す
;一括管理
SIF GLOBAL_COMABLE(380)
	RETURN RESULT
;睡眠中
SIF CFLAG:睡眠
	RETURN 0
;隠密中はダメ
SIF CFLAG:PLAYER:隠密
	RETURN 0
;気力0
SIF BASE:MASTER:気力 <= 0
	RETURN 0
RETURN 1

;-------------------------------------------------
;実行時メッセージ
;-------------------------------------------------
@MESSAGE_COM380_1_3

PRINTFORM %CALLNAME:PLAYER%は%CALLNAME:TARGET%\@ GET_TARGETNUM() > 1 ? 達 # \@と
SELECTCASE TFLAG:コマンド結果受渡し変数３
	CASE 1
		;ボール遊び
		PRINT ボールを使って遊んだ
	CASE 2
		;模擬戦
		PRINT 模擬戦で体を動かした
	CASE 3
		;お散歩
		PRINT のんびりと歩きながらお喋りをした
ENDSELECT

SELECTCASE TFLAG:コマンド結果受渡し変数
	CASE IS <= -1
		;失敗時
		PRINTL が、
		PRINTW あまり盛り上がらなかった…
	CASE IS <= 9
		;成功時
		PRINTL 
		PRINTFORMW \@ GET_TARGETNUM() > 1 ? みんなで # ふたりで\@楽しい時を過ごせた…
	CASEELSE
		;大成功時
		PRINTL 
		PRINTFORMW \@ GET_TARGETNUM() > 1 ? みんなで # ふたりで\@とても盛り上がった！
ENDSELECT


@空挺港_店舗改装処理(店番号)
#DIM 店番号

DRAWLINE
PRINTL 空挺港エリアの店舗を改装します。
PRINTL どのような店舗にしますか？
DRAWLINE
LOCALS = <div rect='13px,5px,310px,450px' border='5px' bcolor='#C0C0C0'></div><div rect='328px,5px,620px,450px' border='5px' bcolor='#C0C0C0'></div>
LOCALS += "<div rect='25px,25px,310px,450px'>"
LOCAL = 100
IF 空挺港店舗状況:店番号:0 != 0
	LOCALS += "<button value='0'>[0] 空き部屋</button>"
	LOCALS += "<br>"
ENDIF
IF 空挺港店舗状況:店番号:0 != 1
	LOCALS += @"<button value='1'>[1] 道具屋</button>"
	LOCALS += "<br>"
ENDIF
IF 空挺港店舗状況:店番号:0 != 2
	LOCALS += @"<button value='2'>[2] 土産物屋</button>"
	LOCALS += "<br>"
ENDIF
IF 空挺港店舗状況:店番号:0 != 3
	LOCALS += @"<button value='3'>[3] 食事処</button>"
	LOCALS += "<br>"
ENDIF
LOCALS += "<button value='999'>[999] 戻る</button>"
LOCALS += "<br>"
LOCALS += "</div>"

HTML_PRINT LOCALS
FOR LOCAL, 0, 25
	PRINTL
NEXT
DRAWLINE

$INPUT_LOOP
INPUT

LOCAL = RESULT
SELECTCASE LOCAL
	CASE 0 TO 3
		IF 空挺港店舗状況:店番号:0 == LOCAL
			REUSELASTLINE 
			GOTO INPUT_LOOP
		ENDIF

	CASE 110
		CALL 従業員仕事割り振り
	CASE 999
		RETURN 0
	CASEELSE
ENDSELECT
