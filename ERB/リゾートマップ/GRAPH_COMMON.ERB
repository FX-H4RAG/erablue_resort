;-----------------------------------------------------------
;グラフ共通処理
;-----------------------------------------------------------

@FLOYD_WARSHALL(NODE_COUNT, _DIST, _NEXT)
#DIM NODE_COUNT
#DIM REF _DIST, 0, 0
#DIM REF _NEXT, 0, 0
#DIM I_始点
#DIM J_終点
#DIM K_経由点

FOR K_経由点, 0, NODE_COUNT
	FOR I_始点, 0, NODE_COUNT
		FOR J_終点, 0, NODE_COUNT
			IF _DIST:I_始点:J_終点 > _DIST:I_始点:K_経由点 + _DIST:K_経由点:J_終点
				_DIST:I_始点:J_終点 = _DIST:I_始点:K_経由点 + _DIST:K_経由点:J_終点
				_NEXT:I_始点:J_終点 = _NEXT:I_始点:K_経由点
			ENDIF
		NEXT
	NEXT
NEXT
