
@固有アビ_1019_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 28
	アビ名 = オリガミ・ミサイル＋＋
	効果数値 = 330
	消費ＭＰ = 90
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 13
	アビ名 = オリガミ・ミサイル＋
	効果数値 = 330
	消費ＭＰ = 70
ELSE
	アビ名 = オリガミ・ミサイル
	効果数値 = 280
	消費ＭＰ = 50
ENDIF


アビ汎用文字列:実行時メッセージ１ = 桜色オリガミ群が様々な軌道を描いて敵へ飛び、炸裂する！
アビ汎用文字列:実行時メッセージ２ = _I_KBAM！KBAM！KBAM！

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
		;アビ汎用文字列:選択時メッセージ１ = ◆対象な◆
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>自属性の［攻撃力✕{効果数値}％］敵全体へ攻撃。
	IF アビ名 == "オリガミ・ミサイル＋＋"
		詳細文文字列受け渡し変数 += @"<br>対象にスロウ［1］効果を与える。基礎成功率20％"
		ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性
	IF アビ名 == "オリガミ・ミサイル＋＋"
		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 1
		アビ汎用変数:基礎成功確率 = 20
		CALL アビテンプレート_不利効果_スロウ
	ENDIF
ENDSELECT

@固有アビ_1019_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 33
	アビ名 = サクラ・エンハンスメント＋＋
	消費ＭＰ = 80
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 24
	アビ名 = サクラ・エンハンスメント＋
	消費ＭＰ = 70
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
	アビ名 = サクラ・エンハンスメント
	消費ＭＰ = 60
ELSE
	アビ名 = 
ENDIF

アビ汎用文字列:実行時メッセージ１ = ヤモトのカタナに、そしてその眼に桜色の光が満ちる！

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
		;アビ汎用文字列:選択時メッセージ１ = ◆対象な◆
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>攻撃力30％ＵＰ、命中率補正100％（3ターン）。
	IF アビ名 == "サクラ・エンハンスメント＋"
		詳細文文字列受け渡し変数 += "<br>クリティカル率に50％の補正。"
	ELSEIF アビ名 == "サクラ・エンハンスメント＋＋"
		詳細文文字列受け渡し変数 += "<br>更にクリティカル率に100％の、DA/TA確率に50％の補正。"
	ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果割合 = 30
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力C
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
			CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 100
		アビ汎用文字列:バフ・デバフ枠 = 命中率A
		アビ汎用文字列:バフ・デバフ対象能力 = 命中率
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
	IF アビ名 == "サクラ・エンハンスメント＋"
			CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 50
		アビ汎用文字列:バフ・デバフ枠 = クリティカル率A
		アビ汎用文字列:バフ・デバフ対象能力 = クリティカル率
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
	ELSEIF アビ名 == "サクラ・エンハンスメント＋＋"
			CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 100
		アビ汎用文字列:バフ・デバフ枠 = クリティカル率A
		アビ汎用文字列:バフ・デバフ対象能力 = クリティカル率
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
			CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 50
		アビ汎用文字列:バフ・デバフ枠 = TA率A
		アビ汎用文字列:バフ・デバフ対象能力 = TA率
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
			CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量= 50
		アビ汎用文字列:バフ・デバフ枠 = DA率A
		アビ汎用文字列:バフ・デバフ対象能力 = DA率
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
	ENDIF
ENDSELECT


@固有アビ_1019_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 28
	アビ名 = イアイドー＋＋
	効果数値 = 300
	消費ＭＰ = 75
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 20
	アビ名 = イアイドー＋
	効果数値 = 250
	消費ＭＰ = 50
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 10
	アビ名 = イアイドー
	効果数値 = 200
	消費ＭＰ = 35
ELSE
	アビ名 = 
ENDIF

;初期状態で習得しない場合は以下のようにする

アビ汎用文字列:選択時メッセージ１ = ◆対象な◆

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
		
		;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
		;これらを使わない場合は「誰に使用しますか？」と表示される。		
		;アビ汎用文字列:実行時メッセージ１ = 
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>単体に{効果数値}の攻撃を行い、10％奥義ゲージＵＰ。
			IF アビ名 == "イアイドー＋＋"
		詳細文文字列受け渡し変数 += "<br>更に攻撃を受けた場合、その敵に対して倍率200％で反撃する（1ターンのみ）。"
		ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵単体
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性
			CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果量 = 10
		CALL アビテンプレート_有利効果_奥義ゲージUP
	IF アビ名 == "イアイドー＋＋"
			CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = カウンター
		アビ汎用文字列:バフ・デバフ対象能力 = カウンター
		アビ汎用変数:効果割合 = 200
		アビ汎用変数:持続ターン = 1
		CALL アビテンプレート_有利効果_バフ効果セット
	ENDIF
ENDSELECT

@固有アビ_1019_4(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIM 効果数値
#DIMS アビ名

IF 基礎BATTLE_STATE:キャラ番号:Lv >= 35
	アビ名 = シの蝶＋
	消費ＭＰ = 100
	効果数値 = 50
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 22
	アビ名 = シの蝶
	消費ＭＰ = 60
	効果数値 = 30
ELSE
	アビ名 = 
ENDIF


アビ汎用文字列:実行時メッセージ１ = 夥しい数の蝶のオリガミがヤモトの姿を覆い隠すように舞う！

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
		
		;下の４つの文字列に文章を入れると、対象選択時の文章を変化させることが出来る。
		;これらを使わない場合は「誰に使用しますか？」と表示される。		
		;アビ汎用文字列:選択時メッセージ１ = ◆対象な◆
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>攻撃を受けた際、3ターンの間その敵の命中・攻撃力・回避を{効果数値}％DOWN、及びヤモトに対する敵対心増加
			IF アビ名 == "シの蝶＋"
		詳細文文字列受け渡し変数 += "<br>ヤモトの回避率{効果数値}％UP"
		ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 敵対心C
		アビ汎用文字列:バフ・デバフ対象能力 = 敵対心
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_有利効果_バフ効果セット
		
		CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = %アビ名%
		アビ汎用文字列:バフ・デバフ対象能力 = 特殊反応_被タゲ時
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
	IF アビ名 == "シの蝶＋"
			CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 回避率C
		アビ汎用文字列:バフ・デバフ対象能力 = 回避率
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:効果量 = 効果数値
		CALL アビテンプレート_有利効果_バフ効果セット
	ENDIF
ENDSELECT

@特殊反応_被タゲ時_シの蝶(攻撃者隊列, 被タゲ回数)
#DIM 攻撃者隊列
#DIM 被タゲ回数

VARSET アビテンプレート用_対象保存, -1
アビテンプレート用_対象保存:0 = 攻撃者隊列

CALL アビ汎用変数文字列リセット
アビ汎用変数:効果割合 = 30
アビ汎用文字列:バフ・デバフ枠 = 命中率C
アビ汎用文字列:バフ・デバフ対象能力 = 命中率
アビ汎用変数:持続ターン = 3
CALL アビテンプレート_不利効果_デバフ効果セット

CALL アビ汎用変数文字列リセット
アビ汎用変数:効果割合 = 30
アビ汎用文字列:バフ・デバフ枠 = 回避率C
アビ汎用文字列:バフ・デバフ対象能力 = 回避率
アビ汎用変数:持続ターン = 3
CALL アビテンプレート_不利効果_デバフ効果セット

CALL アビ汎用変数文字列リセット
アビ汎用変数:効果割合 = 30
アビ汎用文字列:バフ・デバフ枠 = 攻撃力C
アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
アビ汎用変数:持続ターン = 3
CALL アビテンプレート_不利効果_デバフ効果セット

@特殊反応_被タゲ時_シの蝶＋(攻撃者隊列, 被タゲ回数)
#DIM 攻撃者隊列
#DIM 被タゲ回数

VARSET アビテンプレート用_対象保存, -1
アビテンプレート用_対象保存:0 = 攻撃者隊列

CALL アビ汎用変数文字列リセット
アビ汎用変数:効果割合 = 50
アビ汎用文字列:バフ・デバフ枠 = 命中率C
アビ汎用文字列:バフ・デバフ対象能力 = 命中率
アビ汎用変数:持続ターン = 3
CALL アビテンプレート_不利効果_デバフ効果セット

CALL アビ汎用変数文字列リセット
アビ汎用変数:効果割合 = 50
アビ汎用文字列:バフ・デバフ枠 = 回避率C
アビ汎用文字列:バフ・デバフ対象能力 = 回避率
アビ汎用変数:持続ターン = 3
CALL アビテンプレート_不利効果_デバフ効果セット

CALL アビ汎用変数文字列リセット
アビ汎用変数:効果割合 = 50
アビ汎用文字列:バフ・デバフ枠 = 攻撃力C
アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
アビ汎用変数:持続ターン = 3
CALL アビテンプレート_不利効果_デバフ効果セット
