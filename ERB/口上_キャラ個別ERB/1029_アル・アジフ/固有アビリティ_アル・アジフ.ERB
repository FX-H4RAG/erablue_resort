
@固有アビ_1029_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
	アビ名 = バルザイの偃月刀＋＋
	消費ＭＰ = 50
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
	アビ名 = バルザイの偃月刀＋
	消費ＭＰ = 50
ELSE
	アビ名 = バルザイの偃月刀
	消費ＭＰ = 50
ENDIF


;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
SELECTCASE RAND:3
	CASE 0
		アビ汎用文字列:実行時メッセージ１ = アル・アジフはバルザイの偃月刀を握った！
	CASE 1
		アビ汎用文字列:実行時メッセージ１ = アル・アジフはバルザイの偃月刀を呼び出した！
	CASEELSE
		アビ汎用文字列:実行時メッセージ１ = アル・アジフはバルザイの偃月刀を振るった！
ENDSELECT


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>バルザイの偃月刀を召喚する
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
			詳細文文字列受け渡し変数 += @"<br>自己に[40％]の追撃・通常攻撃強化[5ターン]"
		ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
			詳細文文字列受け渡し変数 += @"<br>自己に[35％]の追撃・通常攻撃強化[4ターン]"
		ELSE
			詳細文文字列受け渡し変数 += @"<br>自己に[30％]の追撃・通常攻撃強化[4ターン]"
		ENDIF
		RETURN 消費ＭＰ

	CASE "アビ効果"
		;バルザイの偃月刀がレムリア・インパクトを強化してしまうのはおかしいので
		;通常攻撃強化・追撃付与にしています
		CALL アビ対象選択テンプレート_自己のみ
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 24
			アビ汎用変数:効果割合 = 40
			アビ汎用変数:持続ターン = 5
		ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 12
			アビ汎用変数:効果割合 = 35
			アビ汎用変数:持続ターン = 4
		ELSE
			アビ汎用変数:効果割合 = 30
			アビ汎用変数:持続ターン = 4
		ENDIF
		アビ汎用文字列:バフ・デバフ枠 = 通常攻撃力_偃月刀
		アビ汎用文字列:バフ・デバフ対象能力 = 通常攻撃ダメージ補正_割合
		CALL アビテンプレート_有利効果_バフ効果セット
		
		アビ汎用文字列:バフ・デバフ枠 = 追撃_偃月刀
		アビ汎用文字列:バフ・デバフ対象能力 = 追撃
		CALL アビテンプレート_有利効果_バフ効果セット
		
ENDSELECT

@固有アビ_1029_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
	アビ名 = 旧き印＋
	消費ＭＰ = 40
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 4
	アビ名 = 旧き印
	消費ＭＰ = 30
ELSE
	アビ名 = 
ENDIF


;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
アビ汎用文字列:実行時メッセージ１ = 宙に刻まれた歪んだ五芒星が光を放つ！
;アビ汎用文字列:実行時メッセージ２ = 
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
			詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>自身にバリア効果[回復力100％/破壊されるまで永続]
		ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 4
			詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>自身にバリア効果[回復力70％/破壊されるまで永続]
		ENDIF
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		IF 基礎BATTLE_STATE:キャラ番号:Lv >= 16
			アビ汎用変数:効果量 = 基礎BATTLE_STATE:キャラ番号:回復力
		ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 4
			アビ汎用変数:効果量 = (基礎BATTLE_STATE:キャラ番号:回復力 * 7 / 10)
		ENDIF
		アビ汎用文字列:バフ・デバフ枠 = バリア
		アビ汎用文字列:バフ・デバフ対象能力 = バリア
		アビ汎用変数:持続ターン = -1
		CALL アビテンプレート_有利効果_バフ効果セット
ENDSELECT


@固有アビ_1029_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名

;レベルなどの条件でアビを強化する場合、アビ名の文字列を条件分岐で変化させる
IF 基礎BATTLE_STATE:キャラ番号:Lv >= 30
	アビ名 = ド・マリニーの時計
	消費ＭＰ = 80
ELSE
	アビ名 = 
ENDIF


;下の４つの文字列に文章を入れると、アビ使用時の文章を変化させることが出来る。
;これらを使わない場合は「（キャラ名）の（アビ名）！」と表示される。
;アビ汎用文字列:実行時メッセージ１ = 
;アビ汎用文字列:実行時メッセージ２ = 
;アビ汎用文字列:実行時メッセージ３ = 
;アビ汎用文字列:実行時メッセージ４ = 


SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>時間を遅延させ、このターンの通常攻撃を必ずTAにする
		詳細文文字列受け渡し変数 += @"<br>このアビリティは行動回数を消費しない"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用変数:効果割合 = 500
		アビ汎用変数:消去不可オプション = 1
		アビ汎用文字列:バフ・デバフ枠 = TA率_時計
		アビ汎用文字列:バフ・デバフ対象能力 = TA率
		アビ汎用変数:持続ターン = 1
		CALL アビテンプレート_有利効果_バフ効果セット
		
		アビテンプレート用_行動消費無しフラグ = 1
ENDSELECT

@固有アビ_1029_4(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 効果数値
#DIM 消費ＭＰ
#DIMS アビ名


IF 基礎BATTLE_STATE:キャラ番号:Lv >= 43
	アビ名 = クトゥグア＝イタクァ＋＋
	効果数値 = 150
	消費ＭＰ = 90
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 36
	アビ名 = クトゥグア＝イタクァ＋
	効果数値 = 120
	消費ＭＰ = 80
ELSEIF 基礎BATTLE_STATE:キャラ番号:Lv >= 20
	アビ名 = クトゥグア＝イタクァ
	効果数値 = 100
	消費ＭＰ = 80
ELSE
	アビ名 = 
ENDIF

SELECTCASE RAND:2
	CASE 0
	アビ汎用文字列:実行時メッセージ１ = 二挺拳銃が歌い、炎と氷の弾丸が乱舞する！
	CASEELSE
	アビ汎用文字列:実行時メッセージ１ = 炎と氷、相反する二つの力が二挺拳銃から迸る！
ENDSELECT

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
			詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体に自属性・火属性・水属性でそれぞれ{効果数値}％のダメージを与える。
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_自属性

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_火属性
		
		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果割合 = 効果数値
		CALL アビテンプレート_ダメージ処理_水属性
	ENDSELECT

;----------------------------------------------------------------------------------
;アビリティテンプレート例
;----------------------------------------------------------------------------------
;敵単体に、攻撃力の200%威力で火属性のダメージを与える効果
;----------------------------------------------------------------------------------	
	; CALL アビ対象選択テンプレート_敵単体
	; アビ汎用変数:効果割合 = 200
	; CALL アビテンプレート_ダメージ処理_火属性

;----------------------------------------------------------------------------------
;戦闘不能ではない敵全体に、防御力の300%威力で自属性のダメージを与える効果
;----------------------------------------------------------------------------------	
	; CALL アビ対象選択テンプレート_敵全体_生者のみ
	; アビ汎用変数:効果割合 = 300
	; アビ汎用文字列:攻撃側使用能力値 = 防御力
	; CALL アビテンプレート_ダメージ処理_自属性

;----------------------------------------------------------------------------------
;戦闘不能ではない味方全体に、3ターン持続する30%の攻撃力UPを与える効果
;----------------------------------------------------------------------------------
	; CALL アビ対象選択テンプレート_味方全体_生者のみ
	; アビ汎用変数:効果割合 = 30
	; アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
	; アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
	; アビ汎用変数:持続ターン = 3
	; CALL アビテンプレート_有利効果_バフ効果セット

;----------------------------------------------------------------------------------
;敵縦列に、3ターン持続する暗闇（攻撃失敗率40%）を与える効果　基礎成功率70％
;----------------------------------------------------------------------------------
	; CALL アビ対象選択テンプレート_敵縦列
	; アビ汎用変数:効果割合 = 40
	; アビ汎用文字列:バフ・デバフ枠 = 暗闇
	; アビ汎用文字列:バフ・デバフ対象能力 = 暗闇
	; アビ汎用変数:持続ターン = 3
	; アビ汎用変数:基礎成功確率 = 70
	; CALL アビテンプレート_不利効果_デバフ効果セット

;----------------------------------------------------------------------------------
;戦闘不能状態の味方単体を蘇生し、回復力の100%威力でHPを回復する効果
;----------------------------------------------------------------------------------	
	; CALL アビ対象選択テンプレート_味方単体_死者のみ
	; アビ汎用変数:効果割合 = 100
	; アビ汎用変数:蘇生可能オプション = 1
	; CALL アビテンプレート_回復処理

