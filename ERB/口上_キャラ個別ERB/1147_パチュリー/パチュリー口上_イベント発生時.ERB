;--------------------------------------------------
;●パチュリー・ノーレッジ口上＠erablue_resort用
;　――ターン開始時や一日開始時・終了時に条件を満たしていた時表示される文章
;--------------------------------------------------

;--------------------------------------------------
;●ライセンス/更新履歴/概要/使用フラグ
;--------------------------------------------------
;　いずれもパチュリー口上_readme.txt記載に従う
;--------------------------------------------------

;--------------------------------------------------
;●挨拶時
;--------------------------------------------------
;一日に一回、初めて顔を合わせたときに表示。マスターが隠密状態のときは発生しない
;--------------------------------------------------
@KOJO_EVENT_挨拶_1147(対象キャラ)
#DIM 対象キャラ
	CALL 口上変数初期化

	;挨拶の時間・内容は地の文では言及されないので適宜変更してもOK
	;/
	;ここのLOCALSは多分システム的には特に意味がない（わかりやすいように置いてるだけ？）
	SELECTCASE TIME
		;朝　5時～11時
		CASE 5*60 TO 11*60
			LOCALS = おはよう
		;昼　11時～18時
		CASE 11*60 TO 18*60
			LOCALS = こんにちは
		;夜　それ以外
		CASEELSE
			LOCALS = こんばんは
	ENDSELECT
	
	;パチュリーはいつでも本を読んでいる……ということで、関係値に応じて挨拶が変動するようにする
	;（時間による変動要素は薄め）
	IF 0
	;好感度レベルが5以上
	ELSEIF MAX(CFLAG:対象キャラ:好感度レベル, CFLAG:対象キャラ:恋慕レベル) > 関係閾値:4
		SELECTCASE TIME
			;朝　5時～11時
			CASE 5*60 TO 11*60
				KSTR:(K++) = 「……おはよう」
			;昼　11時～18時
			CASE 11*60 TO 18*60
				KSTR:(K++) = 「……こんにちは」
			;夜　それ以外
			CASEELSE
				KSTR:(K++) = 「……こんばんは」
		ENDSELECT
		KSTR:(K++) = 　
		KSTR:(K++) = _呼び名_は本から目を離さぬまま、呟くように挨拶した。
		KSTR:(K++) = 挨拶を返すと、_呼び名_は頷いて、再び読書に戻った……
	;好感度レベルが4以上
	;地の文で「駆け寄ってきて」が追加される好感度
	;パチュリーはおそらく走らない（緋想天・非想天則でもフワフワ浮いてたね）
	ELSEIF MAX(CFLAG:対象キャラ:好感度レベル, CFLAG:対象キャラ:恋慕レベル) > 関係閾値:3
		KSTR:(K++) = 「…………おはよう」
		KSTR:(K++) = 　
		KSTR:(K++) = _呼び名_は魔法を使ってか、空中を滑るように移動し、_主人_に近づいて、隣で本を読み始めた。
		SELECTCASE TIME
			;朝　5時～11時
			CASE 5*60 TO 11*60
				KSTR:(K++) = 立ったままで読みにくくないのだろうか……？
			;昼　11時～18時
			CASE 11*60 TO 18*60
				KSTR:(K++) = おはようには少し遅い時間だが……
			;夜　それ以外
			CASEELSE
				KSTR:(K++) = 今は夜なのだが……
		ENDSELECT
	;好感度がある程度ないと挨拶してくれない（これは最低条件）
	ELSEIF MAX(CFLAG:対象キャラ:好感度レベル, CFLAG:対象キャラ:恋慕レベル) > 関係閾値:1
		KSTR:(K++) = 「…………。」
		KSTR:(K++) = 　
		KSTR:(K++) = _呼び名_は本から一瞬視線を上げ、_主人_を見た。
		KSTR:(K++) = 目礼を返すと、_呼び名_は再び読書に戻った……
	ELSE
		;ここにはこないはずだよ
		;……来るかもだけどパチュリーは普通に無視すると思う
	ENDIF

	KSTR:(K++) = 　

	CALL 口上変数表示(対象キャラ, 0)

	;次のキャラの一文と区別したい場合は、下のコメントアウトを外すこと
	;SIF K > 0
	;	DRAWLINE

;--------------------------------------------------
;●情事目撃時
;--------------------------------------------------
;　情事を目撃されたあと、別の場所で出会うと発生
;　＞パチュリーに先の（さっきヤってた相手）との一件について問い詰められた…
;　……のあとに出るはずの文章。
;　/
;　なお、セフレ以上で、初うふふ済みだと、発見したとき負けじと割り込んでくる。
;　なので必然的に「うふふしたことがない」が条件になる。
;　/
;　たぶん「CFLAG:対象キャラ:情事目撃」で「誰のを見たのか」も取れる。
;--------------------------------------------------
@KOJO_EVENT_情事目撃_1147(対象キャラ)
#DIM 対象キャラ
	CALL 口上変数初期化

	;見た回数をカウント
	;先カウントすると回数とフラグ値が一致するはず……
	特定状況口上用フラグ:対象キャラ:15++

	IF 0
	;５回目以後
	ELSEIF 特定状況口上用フラグ:対象キャラ:15 >= 5
		;『そこまでよ』、古いネタだけど結構好き
		KSTR:(K++) = 「……次に行き会ったら、『そこまでよ』って叫んであげようかしら……」
		KSTR:(K++) = 　
		KSTR:(K++) = _呼び名_はじろりと_主人_を睨み、文句を言ってきた……
	;2.3.4回目（値が2.3.4のとき）
	ELSEIF 特定状況口上用フラグ:対象キャラ:15 >= 2
		KSTR:(K++) = 「サカるのは自由と言ったけれど、相応しい時間と場所でして。
		KSTR:(K++) = 　……まさか図書館でもしていないでしょうね？」
		KSTR:(K++) = 　
		KSTR:(K++) = _呼び名_はじろりと_主人_を睨み、文句を言ってきた……
	;初めて文句を言う場合
	ELSE
		KSTR:(K++) = 「……サカるのは自由だけど、うるさいのは勘弁してほしいわ」
		KSTR:(K++) = 　
		KSTR:(K++) = _呼び名_はじろりと_主人_を睨み、文句を言ってきた……
	ENDIF

;	;知り合いのを見たときは追加メッセージ
;	IF 0
;	;今は仮で、原作が東方projectのキャラの場合
;	;んまあでもなんか納得いかないから封印しておくか……
;	ELSEIF CSTR:(CFLAG:対象キャラ:情事目撃):出演作品 == "東方project"
;		KSTR:(K++) = 　
;		KSTR:(K++) = 「……まさか彼女が身体を許しているなんて……なにか理由があるのかしら……
;		KSTR:(K++) = 　『異変』というべきことが起きている……？」
;		KSTR:(K++) = 　
;		KSTR:(K++) = _呼び名_は小さく呟きながら、考察している……
;	ELSE
;	ENDIF

	CALL 口上変数表示(対象キャラ, 0)


;--------------------------------------------------
;処女喪失時
;--------------------------------------------------
;Vセックスなど各種コマンドで@LOST_VIRGINが呼ばれる
;
;RCVAR:対象キャラ:破瓜で「どの手段で処女を奪われたか」を判定できる
;　=1 チンコ　=2 バイブ　=3 指　=4 触手　=5 ペニスバンド)

;特定状況口上条件分岐.ERB参照
;
;--------------------------------------------------
;@KOJO_EVENT_処女喪失_1147(対象キャラ)
;#DIM 対象キャラ
;CALL 口上変数初期化
;
;	;シチュエーションによる分岐
;	IF 0
;	;うふふ中
;	;通常のＶセックス系、バイブ、触手、指、ペニスバンドで処女喪失の可能性がある
;	ELSEIF NOW_SITUATION(対象キャラ) == "うふふ中"
;		;オーナーが相手の場合
;		IF RCVAR:対象キャラ:破瓜_相手番号 == MASTER
;			;陥落による分岐
;			IF 0
;			;恋慕+セフレの場合
;			;これはセフレ状態で恋慕を取得した場合に限られる
;			ELSEIF GETBIT(陥落チェック(対象キャラ), 0) && GETBIT(陥落チェック(対象キャラ), 1)
;				;処女を奪った手段によって分岐
;				IF 0
;				;オーナーのペニスで処女喪失
;				ELSEIF RCVAR:対象キャラ:破瓜 == 1
;				;バイブで破瓜
;				ELSEIF RCVAR:対象キャラ:破瓜 == 2
;				;指で破瓜
;				ELSEIF RCVAR:対象キャラ:破瓜 == 3
;				;触手で破瓜
;				ELSEIF RCVAR:対象キャラ:破瓜 == 4
;				;ペニバンで破瓜
;				ELSEIF RCVAR:対象キャラ:破瓜 == 5
;				;その他
;				ELSE
;					;ここにはこないはずだよ
;				ELSEIF 
;			;恋慕のみの場合
;			ELSEIF GETBIT(陥落チェック(対象キャラ), 0)
;				;処女を奪った手段によって分岐
;			;セフレのみの場合
;			ELSEIF GETBIT(陥落チェック(対象キャラ), 1)
;				;処女を奪った手段によって分岐
;			;未陥落の場合
;			ELSE
;				;処女を奪った手段によって分岐
;			ENDIF
;		;オーナー以外が相手の場合
;		ELSE
;			;カット
;		ENDIF
;	;夜這い
;	;夜這い条件は下記の通り。
;	;・恋慕またはセフレを持つ（両方持っててももちろんいい）
;	;・酔いすぎ、体力限界ではない、島にいる（当然）
;	;・夜這い済みでない（縁結びとかを行った場合ここで弾かれうる）
;	;・性欲が基準以上（1000を基準に、処女なら+300、性的興味が強いなら-100……と増減させ、それ以上に性欲溜まってるなら夜這いにくる）
;	;・性知識がどっちもない場合は夜這いしない
;	;以上の条件を満たし、ランダムで選出されると部屋にやってくる
;	;部屋にやってきたあと、「対象キャラが自室にいない」と失敗
;	;同、「夜這い経験が少なく、TALENT:経験豊富がなく、RAND2で」まごまごして失敗
;	;/
;	;処女が夜這いしてきた場合、必ず処女を失う。
;	;A処女に関しては、オーナーのA挿入経験、対象キャラのA経験の合計が一定以上である必要がある。
;	;/
;	;テキストは現状こんな感じ
;	;　（夜這い処理開始）
;	;　%CALLNAME:対象キャラ%は性欲が溜まり、むらむらとした気分になっている
;	;　%CALLNAME:夜這い相手%の部屋を訪れ、熱い夜を過ごした……
;	;　絶頂、経験値表示など
;	;　（夜這い処理終了）
;	;　ver20241015時点では、夜這い口上、夜這い時処女喪失口上は呼ばれないので、ここには入ってこない
;	;/
;	;ネタメモ：「いいからチンポ貸しなさい！」とか
;	ELSEIF NOW_SITUATION(対象キャラ) == "夜這い中"
;		;★調査続行、どのくらいの関係度で夜這いにくる？　処女を失う条件などある？
;		;→ver20241015現在、夜這いで口上は呼ばれないようだ。上の調査結果は実装された際に変化する可能性がある。
;	;通常モード
;	;ハーヴィンオナホＶや、性処理業務：Ｖセックスなどでここに入る
;	ELSEIF NOW_SITUATION(対象キャラ) == "通常"
;		IF せれくとこむ＝ハーヴィンオナホV
;		ELSE
;		ENDIF
;	ENDIF
;
;
;	;オーナーが相手の場合
;	IF RCVAR:対象キャラ:破瓜_相手番号 == MASTER
;		IF 0
;		;恋慕+セフレの場合
;		;これはセフレ状態で恋慕を取得した場合に限られる
;		ELSEIF GETBIT(陥落チェック(対象キャラ), 0) && GETBIT(陥落チェック(対象キャラ), 1)
;			;処女を奪った手段によって分岐
;			IF 0
;			;オーナーのペニスで処女喪失
;			ELSEIF RCVAR:対象キャラ:破瓜 == 1
;				KSTR:(K++) = 男根を挿入された%CSTR:二人称%は、震える息を吐き、
;				KSTR:(K++) = 　
;				KSTR:(K++) = 「……いつ、シてくれるのか……少し、不安だったわ」
;				KSTR:(K++) = 
;			
;			
;			ELSEIF バイブで
;			ELSEIF 指で
;			ELSEIF 触手で
;			ELSEIF ペニスバンドで
;			;その他
;			ELSE
;			ENDIF
;
;
;
;;			;その場にベッドがある
;;			IF BEDROOM(CFLAG:PLAYER:現在マップ種別, CFLAG:PLAYER:現在位置)
;;			;ベッドがない
;;			ELSE
;;			ENDIF
;
;		;恋慕のみの場合
;		ELSEIF GETBIT(陥落チェック(対象キャラ), 0)
;		;セフレのみの場合
;		ELSEIF GETBIT(陥落チェック(対象キャラ), 1)
;		;未陥落の場合
;		ELSE
;			KSTR:(K++) = 「ん……っ。
;			KSTR:(K++) = 　ちょっと待って。破瓜の血は回収させて……」
;			KSTR:(K++) = 　
;			KSTR:(K++) = _呼び名_は、痛みによってか、不快そうな顔をしながら言う。
;			;処女を奪った手段によって分岐
;			IF 0
;			;オーナーのペニスで処女喪失
;			ELSEIF RCVAR:対象キャラ:破瓜 == 1
;				KSTR:(K++) = 指先に魔力が宿り、男根を挿入したばかりの股間に光が飛ぶ。
;				KSTR:(K++) = 僅かな量の赤い液体が宙に浮き、
;				KSTR:(K++) = 　
;				KSTR:(K++) = 「……初めて性交をされた女魔法使いはとても弱いのだけど……
;				KSTR:(K++) = 　まあ、%CSTR:二人称%なら問題なさそうね」
;
;			ELSEIF バイブで
;			ELSEIF 指で
;			ELSEIF 触手で
;			ELSEIF ペニスバンドで
;			;その他
;			ELSE
;				;ここにはこないはずだよ
;				;……まあなんかで追加される可能性はあるが……
;			ENDIF
;
;
;		ENDIF
;		
;		
;		
;	;オーナー以外が相手の場合
;	ELSE
;		;カット
;	ENDIF
;	
;
;KSTR:(K++) = 
;
;CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;うふふ終了時
;--------------------------------------------------
;　うふふ終了時に出るテキスト
;　以下の場合に発生
;　・自発終了（[999] 逢引終了　を選択する）
;　　※ただし、連れ込みパターンによっては「離してくれない」場合がある
;　・オーナーが酔いつぶれる
;　・不機嫌にさせる（怒らせてしまう）
;　・サウナから飛び出す
;　・体力ゼロ（ダウン）←これに関しては下の「うふふ体力限界」参照な。
;　・呼び出したメンツが全員ダウンし、「新しい相手を呼び出す」を行わなかった場合（これはどういう処理になるんだろ）
;　※体力ゼロになってのダウン、誰かに見つかっての強制終了では発生しない
;　/
;　口上は「性欲が解消」される前のタイミングで呼び出される。
;　
;　
;　また、300分以上うふふしていると、履歴に残る。
;　/
;　関連して、今回のうふふで満足したか、がある
;　これについては下の「KOJO_EVENT_連れ込み満足_1147」が追加で表示される
;--------------------------------------------------
;@KOJO_EVENT_うふふ終了_114(対象キャラ, 終了原因)
;#DIM 対象キャラ
;#DIMS 終了原因
;#DIM 時間保存
;#DIM 解消後性欲
;	CALL 口上変数初期化
;
;
;IF CFLAG:対象キャラ:体力限界
;	;終了時にダウンしている
;	IF 終了原因 == "全員ダウン"
;		;全員ダウン時
;		KSTR:(K++) = 
;	ELSE
;		;他に生き残りがいる時
;		KSTR:(K++) = 
;	ENDIF
;ELSE
;	;終了時にダウンしていない
;	SELECTCASE 終了原因
;		CASE "通常終了"
;			;逢引終了ボタンでの終了。最も一般的
;			KSTR:(K++) = 
;		CASE "目撃される"
;			;陥落していないキャラにうふふが目撃された
;			KSTR:(K++) = 
;		CASE "サウナ限界"
;			;サウナ内でうふふ中、熱気ゲージがたまりすぎた時
;			KSTR:(K++) = 
;		CASE "あなた泥酔"
;			;あなたが酔いすぎにより終了。"現在発生しないはず"
;		CASE "不機嫌"
;			;キャラが怒って終了。"現在発生しないはず"
;	ENDSELECT
;ENDIF
;
;
;
;	IF 0
;	;オーナーが飲みすぎて酔いつぶれる
;	;（酔いつぶれてしまいました…　一日を終了します）……というテキストが出る
;	ELSEIF CFLAG:MASTER:酔いすぎ == 1
;		KSTR:(K++) = 「あ、ちょっと？」
;		KSTR:(K++) = 　
;		KSTR:(K++) = _呼び名_の声が遠い……
;		KSTR:(K++) = 酒を飲みながら『運動』をしたせいで、酔いが……回ってしまった……ようだ……
;		;恋慕かつ体力が残っていると部屋まで運んでくれる
;		IF GETBIT(陥落チェック(対象キャラ), 0) && BASE:対象キャラ:体力 >= 1
;			KSTR:(K++) = ……ふわふわとするのは、酔いのためか、_呼び名_が魔法で運んでくれているためか……
;		ELSE
;			;陥落していないとなにもしない
;		ENDIF
;	;キレさせた時　発生させたことないなあ……
;	ELSEIF RCVAR:対象キャラ:不機嫌
;		KSTR:(K++) = 「ここまでよ」
;		KSTR:(K++) = 　
;		KSTR:(K++) = _呼び名_は苛立った声で一言残し、_主人_を残し去ってしまった……
;	;サウナ限界！　で飛び出した
;	;「もうだめだー！」で飛び出して、しばらく休んで火照りが収まってきた…ってテキストの後に表示
;	ELSEIF (TALENT:MASTER:サウナ耐性 == 1 && 熱気ゲージ >= 120) || (TALENT:MASTER:サウナ耐性 == 0 && 熱気ゲージ >= 100) || (TALENT:MASTER:サウナ耐性 == -1 && 熱気ゲージ >= 80)
;		KSTR:(K++) = ……サウナを飛び出す際、_呼び名_の「待ちなさい！」という声が聞こえたような気がしたが、悪いことをした気がする……
;	;通常終了……だと思う
;	ELSE
;		;うふふしてた時間を計算
;		時間保存 = (TIME + 1440 * DAY) - CFLAG:対象キャラ:うふふ開始時間記録
;		;解消後の性欲を計算
;		解消後性欲 = BASE:対象キャラ:性欲 - BASE:対象キャラ:満足
;
;		IF 0
;		;長時間うふふ＋満足（解消後の性欲が300未満になる）
;		ELSEIF 時間保存 > 300 && CFLAG:対象キャラ:うふふ開始時間記録 > 0 && 解消後性欲 < 300
;			KSTR:(K++) = 「なが、なが……と……_H_　付き合うのは、もう、こりごり……_H_」
;			KSTR:(K++) = 　
;			KSTR:(K++) = _呼び名_は、長時間の性行為に荒く息を吐いている。
;			KSTR:(K++) = その手指は、ゆるく_主人_の手指を握っている……
;		;長時間うふふ＋満足してない（解消後の性欲が300以上のまま）
;		ELSEIF 時間保存 > 300 && CFLAG:対象キャラ:うふふ開始時間記録 > 0
;			KSTR:(K++) = 「長々と付き合わせたわりに……」
;			KSTR:(K++) = 　
;			KSTR:(K++) = _呼び名_は、じッ……とりとした視線を、_主人_に向けている……
;		;解消後性欲がゼロ
;		;性欲解消しまくって完全にスッキリした！
;		ELSEIF 解消後性欲 == 0
;			KSTR:(K++) = 「はぁ……あ……_H_　今日は、よく眠れそうだわ……」
;			KSTR:(K++) = 　
;			KSTR:(K++) = _呼び名_は、心地よい疲れを滲ませた声で呟いた……
;		;解消後性欲が1～299
;		;まあ満足。
;		ELSEIF 解消後性欲 < 300
;		;解消後性欲が300～499
;		;まあスッキリ。
;		ELSEIF 解消後性欲 < 500
;		;性欲が500以上残っており、ちょっとまだムラムラする……。
;		ELSE
;		ENDIF
;	ENDIF
;
;	CALL 口上変数表示(対象キャラ, 0)



;;--------------------------------------------------
;;体力０時（うふふ中）
;;--------------------------------------------------
;;　うふふ中に体力が０になった直後、眠る前
;;　あくまで「対象の体力がゼロになったとき表示」で、うふふ終了と直結しない
;;　（他にうふふ中のキャラがいたり、他のキャラを呼んだりで、うふふが継続する可能性がある）
;;--------------------------------------------------
;@KOJO_EVENT_うふふ体力限界_1147(対象キャラ)
;#DIM 対象キャラ
;#DIM うふふ合計絶頂回数
;#DIM 生き残り人数
;#DIM 紅魔館住人人数
;
;	CALL 口上変数初期化
;
;	;絶頂回数の合計を見る
;	うふふ合計絶頂回数 = TCVAR:対象キャラ:うふふ中Ｃ絶頂累積 + TCVAR:対象キャラ:うふふ中Ｖ絶頂累積 + TCVAR:対象キャラ:うふふ中Ａ絶頂累積 + TCVAR:対象キャラ:うふふ中Ｂ絶頂累積 + TCVAR:対象キャラ:うふふ中Ｓ絶頂累積
;
;	;うふふ中、かつ、まだ体力が残っている人数……生き残り人数を計算しておく
;	生き残り人数 = GET_うふふTARGETNUM() - GET_ダウンTARGETNUM()
;
;	;紅魔館メンバーが同じ部屋におり、かつうふふ状態であるかを取得
;	;（パチュリーは自分自身なので除外）
;	紅魔館住人人数 = GROUPうふふMATCH_SAMEROOM(キャラ検索("[悪魔の妹]フランドール"), キャラ検索("[永遠に紅い幼き月]レミリア"), キャラ検索("[完全で瀟洒な従者]十六夜咲夜"), キャラ検索("[名もなき小さな悪魔]小悪魔"), キャラ検索("[華人小娘]紅美鈴"))
;
;	IF 0
;	;この場にうふふ中の紅魔館住人が１名以上いて、生き残り人数が２以上
;	;（紅魔館メンバーが先に全員落ちてて……というケースもあるがここでは無視）
;	ELSEIF 紅魔館住人人数 > 0 && 生き残り人数 >= 2
;		KSTR:(K++) = 「あとは……任せたわ……付き合って……られない……」
;	;他にうふふ中のキャラがいる＋全員ダウンしており、パチュリーが最後の生き残り（「他キャラを呼びだす？」が出てくる）
;	;生き残り人数１＝パチュリーのみ、かつそのパチュリーがダウンする瞬間
;	ELSEIF 生き残り人数 == 1
;	;他にうふふ中のキャラがいる＋生き残りがいる（パチュリーがうふふ中にダウンするが、他キャラがいるのでうふふ継続）
;	;生き残り人数が２以上＝パチュリー以外にも誰かが生き残る
;	ELSEIF 生き残り人数 >= 2
;		KSTR:(K++) = 「むきゅー……」
;	;他にキャラがいない
;	ELSE
;		IF 0
;		;†昇天†
;		ELSEIF うふふ合計絶頂回数 > 100
;		;めちゃくちゃにイかされた
;		ELSEIF うふふ合計絶頂回数 > 50
;		;けっこうイかされた
;		ELSEIF うふふ合計絶頂回数 > 30
;		;あんまりイかされてはいない
;		ELSE
;		ENDIF
;	ENDIF
;
;	KSTR:(K++) = 
;
;	CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;恋慕自覚時
;--------------------------------------------------
;　下記条件を満たした際に、遭遇すると（TARGETを対象キャラに切り替えると）発生
;　・まだ恋慕自覚をしていない
;　・告白成功判定に成功（コクれば成功する状態である）
;　　告白成功判定は下記条件。
;　　・既に恋慕状態でない
;　　・対象が、恋慕対象である
;　　・恋慕レベルが50以上である
;　　・陥落不可でない
;　　・既に他のキャラに陥落していない
;　　・その他、口上で独自設定された個別条件を満たしている
;　/
;　これは特に変なことする余地ないかなー……
;--------------------------------------------------
@KOJO_EVENT_恋慕自覚_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;初対面時
;--------------------------------------------------
@KOJO_EVENT_初対面_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

	KSTR:(K++) = 紫色の衣服をまとった、豊満な肉付きの少女が、ふわふわと浮きながら近づいてくる……
	KSTR:(K++) = 彼女は、_主人_を感情の薄い目で見て、問うてきた。
	WSTR:(K++) =  
	KSTR:(K++) = 「……_二人称_がこのリゾートのオーナー？　お世話になるわ。
	KSTR:(K++) = 　図書館はどこにあるかしら。それと、ほかに本がある場所と、本を読むのにちょうどいい、静かな場所は」
	WSTR:(K++) =  
	KSTR:(K++) = ……リゾートに来たというのに、どうやら読書をして過ごすつもりのようだ……。
	KSTR:(K++) = 一応、書籍も娯楽の一環として用意している。
	;★図書室、図書館って途中で増設されるんだっけ？
	KSTR:(K++) = その場所を伝えると、_呼び名_は頷き、近場に座って、まずは、とばかりに手持ちの本を読み始めた。
	KSTR:(K++) = ……既に_主人_はいないものとして扱われているようだ。
	WSTR:(K++) =  
	KSTR:(K++) = _呼び名_は、幻想郷という異界――この空とは違う場所から招いた人物だ。
	KSTR:(K++) = 卓越した魔法使いで、魔法を中心とした様々な知識を持っており、また、収集しているらしい。
	KSTR:(K++) = ただ、どうやら身体が弱いようで、喘息も患っているとのこと。
	KSTR:(K++) = オーナーとしては、このリゾートで静養し、元気になってほしいところだ――
	KSTR:(K++) = ――健康になってもらわねば、『仲良く』なったあとにヤることにも、支障が出かねない。
	WSTR:(K++) = 

	;TALENT変更
	;本当はCSVから弄ったほうがいいが……まあ趣味もあるからねえ。
	;強い意志の表れとして、まず陥没乳首にする
	TALENT:対象キャラ:陥没乳首 = 1

	;３行開けます
	KSTR:(K++) =  
	KSTR:(K++) =  
	KSTR:(K++) =  
	KSTR:(K++) = ……ところで。
	KSTR:(K++) = どうしてだろう。
	KSTR:(K++) = 彼女の非常に豊かな乳房の先端は、陥没している気がする……
;	KSTR:(K++) = BUTTON_[している（確信）。]_ 　　_BUTTON_[いや気のせいだろ……]_
	KSTR:(K++) = BUTTON_[している。間違いなかった。]_ 　　_BUTTON_[いや気のせいだろ……]_
	KSTR:(K++) = 　
	KSTR:(K++) = INPUTS
	CALL 口上変数表示(対象キャラ, 0)
	CALL 口上変数初期化
	IF RESULTS == "[している。間違いなかった。]"
		KSTR:(K++) = 「…………なに？」
		KSTR:(K++) = 胸のあたりを凝視していることに気付いたのか、_呼び名_は首をひねった。
		KSTR:(K++) = 自分の乳房が魅力的であることに気づいていないのだろうか……？
		KSTR:(K++) = ともあれ、実際に陥没しているかは……仲良くなって、確かめることにしよう。
	ELSEIF RESULTS == "[いや気のせいだろ……]"
		KSTR:(K++) = 思い直した瞬間、このリゾートの星晶獣であるeraが、『そういうことになった』、と呟いた気配がした……
		;えぇ～？　陥没乳首にしないのぉ～？
		TALENT:対象キャラ:陥没乳首 = 0
	ENDIF

	WSTR:(K++) = 
	CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;飲み会終了時
;--------------------------------------------------
@KOJO_EVENT_飲み会終了_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;物陰に連れ込み時
;--------------------------------------------------
@KOJO_EVENT_物陰連れ込み_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;「連れ込みパターン」の中身で何が原因で連れ込まれたか分岐可能
;性癖素質パターンは該当の性癖素質が欲求不満だったため

SELECTCASE 連れ込みパターン
	CASE "一般"
		;一般：性欲一定以上＆快楽6000以上
		KSTR:(K++) = 
	CASE "発情期"
		;発情期：超危険日だったため
		KSTR:(K++) = 
	CASE "逆アナル"
		KSTR:(K++) = 
	CASE "搾乳プレイ"
		KSTR:(K++) = 
	CASE "触手プレイ"
		KSTR:(K++) = 
	CASE "精飲"
		KSTR:(K++) = 
	CASE "膣内射精"
		KSTR:(K++) = 
	CASE "腸内射精"
		KSTR:(K++) = 
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;連れ込み満足時
;--------------------------------------------------
@KOJO_EVENT_連れ込み満足_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;「連れ込みパターン」の中身で何が原因で連れ込まれたか分岐可能
;性癖素質パターンは該当の性癖素質が欲求不満だったため

SELECTCASE 連れ込みパターン
	CASE "一般"
		;一般：性欲一定以上＆快楽6000以上
		KSTR:(K++) = 
	CASE "発情期"
		;発情期：超危険日だったため
		KSTR:(K++) = 
	CASE "逆アナル"
		KSTR:(K++) = 
	CASE "搾乳プレイ"
		KSTR:(K++) = 
	CASE "触手プレイ"
		KSTR:(K++) = 
	CASE "精飲"
		KSTR:(K++) = 
	CASE "膣内射精"
		KSTR:(K++) = 
	CASE "腸内射精"
		KSTR:(K++) = 
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;自室訪問承諾時
;--------------------------------------------------
@KOJO_EVENT_自室訪問承諾_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;自室訪問簡易承諾時
;--------------------------------------------------
@KOJO_EVENT_自室訪問簡易承諾_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;自室訪問断り時
;--------------------------------------------------
@KOJO_EVENT_自室訪問断り_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;遊びの誘い承諾時
;--------------------------------------------------
@KOJO_EVENT_遊びの誘い承諾_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;遊びの誘い簡易承諾時
;--------------------------------------------------
@KOJO_EVENT_遊びの誘い簡易承諾_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;遊びの誘い断り時
;--------------------------------------------------
@KOJO_EVENT_遊びの誘い断り_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;仕事の用事訪問時
;--------------------------------------------------
@KOJO_EVENT_仕事訪問_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;うふふお誘い承諾時
;--------------------------------------------------
@KOJO_EVENT_うふふ誘い承諾_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;うふふお誘い断り時
;--------------------------------------------------
@KOJO_EVENT_うふふ誘い断り_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;常駐業務_ロビー受付
;--------------------------------------------------
@KOJO_EVENT_業務訪問_ロビー受付_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;バーテンダー
;--------------------------------------------------
@KOJO_EVENT_業務訪問_バーテンダー_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;司書
;--------------------------------------------------
@KOJO_EVENT_業務訪問_司書_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;プール監視員
;--------------------------------------------------
@KOJO_EVENT_業務訪問_プール監視員_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;道具屋店員
;--------------------------------------------------
@KOJO_EVENT_業務訪問_道具屋店員_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;土産物屋店員
;--------------------------------------------------
@KOJO_EVENT_業務訪問_土産物屋店員_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;食事処店員
;--------------------------------------------------
@KOJO_EVENT_業務訪問_食事処店員_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;装飾品店店員
;--------------------------------------------------
@KOJO_EVENT_業務訪問_装飾品店店員_1147(対象キャラ)
#DIM 対象キャラ
;特定の場所にキャラが従業員として常駐している時、会いに行くと発動
;一日に一回のみ発動

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)


;--------------------------------------------------
;この場おやすみ口上（キャラが現在いる場所で寝る時
;--------------------------------------------------
@KOJO_EVENT_この場おやすみ_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:現在位置 == 303 && CFLAG:対象キャラ:現在マップ種別 == 0
	;メインテントで寝る
	KSTR:(K++) = 
ELSEIF CFLAG:対象キャラ:現在マップ種別 == 999
	;部屋で寝る
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;移動おやすみ口上（キャラがどこかに移動して寝る時
;--------------------------------------------------
@KOJO_EVENT_移動おやすみ_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:現在位置 == 303 && CFLAG:対象キャラ:現在マップ種別 == 0
	;メインテントで寝る
	KSTR:(K++) = 
ELSEIF CFLAG:対象キャラ:現在マップ種別 == 999
	;部屋で寝る
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;おはよう口上（あなたが先に起きていて、キャラが後から起きた時
;--------------------------------------------------
@KOJO_EVENT_おはよう_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;逆おはよう口上（キャラが先に起きていて、あなたが後から起きた時
;--------------------------------------------------
@KOJO_EVENT_逆おはよう_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;恋慕エンディング発生時
;500ZPをeraに献上した際、恋慕素質持ちかつ恋慕レベル100だと呼び出せるエンディング
;--------------------------------------------------
; @キャラ個別エンディング_恋慕_1147(対象キャラ)
; #DIM 対象キャラ
; CALL 口上変数初期化

; KSTR:(K++) = 

; CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;一日終了時のオナニー実行時
;--------------------------------------------------
@KOJO_一日終了時オナニー_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;妊娠発覚時（無知シチュ１）
;--------------------------------------------------
@KOJO_無知_妊娠発覚_1_1147(対象キャラ)
;妊娠発覚したが、キャラ自身は何が起こっているかをあなたに聞きに来たタイミング
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:子の父親 == MASTER
	KSTR:(K++) = 
ELSE
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;妊娠発覚時（無知シチュ２）
;--------------------------------------------------
@KOJO_無知_妊娠発覚_2_1147(対象キャラ)
;正しい性知識を教えたパターン
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:子の父親 == MASTER
	KSTR:(K++) = 
ELSE
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;妊娠発覚時（無知シチュ３）
;--------------------------------------------------
@KOJO_無知_妊娠発覚_3_1147(対象キャラ)
;性知識を教えなかったパターン
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:子の父親 == MASTER
	KSTR:(K++) = 
ELSE
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;妊娠発覚時（恋慕時）
;--------------------------------------------------
@KOJO_恋慕_妊娠発覚_1147(対象キャラ)
;恋慕時口上、優先度は無知シチュの方が上
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:子の父親 == MASTER
	KSTR:(K++) = 
ELSE
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;妊娠発覚時（その他時）
;--------------------------------------------------
@KOJO_その他_妊娠発覚_1147(対象キャラ)
;恋慕でも無知でもない時の口上
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:子の父親 == MASTER
	IF TALENT:対象キャラ:セフレ
		KSTR:(K++) = 
	ELSE
		KSTR:(K++) = 
	ENDIF
ELSE
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;妊娠発覚時（来島時）
;--------------------------------------------------
@KOJO_来島時_妊娠発覚_1147(対象キャラ)
;孕まされてからお腹が大きくなるまでリゾートに来てなかったパターン
;上の妊娠発覚口上とはタイミングが異なり、来島時に表示される
#DIM 対象キャラ
CALL 口上変数初期化

IF CFLAG:対象キャラ:子の父親 == MASTER
	IF TALENT:対象キャラ:恋慕
		KSTR:(K++) = 
	ELSEIF TALENT:対象キャラ:セフレ
		KSTR:(K++) = 
	ELSE
		KSTR:(K++) = 
	ENDIF
ELSE
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;出産_リゾート内で出産時
;--------------------------------------------------
@KOJO_出産_リゾート内_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;初期から出産経験を持つキャラは初産分岐に入ることはないので注意（アリシア、ラルナなど）

IF CFLAG:対象キャラ:子の父親 == MASTER
	IF EXP:対象キャラ:出産経験 == 0
		;初産
		KSTR:(K++) = 
	ELSEIF EXP:対象キャラ:出産経験 == 1
		;2回目
		KSTR:(K++) = 
	ELSE
		;それ以降
		KSTR:(K++) = 
	ENDIF
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;出産_リゾート外で出産時
;--------------------------------------------------
@KOJO_出産_リゾート外_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

;島の外にいるキャラから連絡が来る、というシチュの口上
;初期から出産経験を持つキャラは初産分岐に入ることはないので注意（アリシア、ラルナなど）

IF CFLAG:対象キャラ:子の父親 == MASTER
	IF EXP:対象キャラ:出産経験 == 0
		;初産
		KSTR:(K++) = 
	ELSEIF EXP:対象キャラ:出産経験 == 1
		;2回目
		KSTR:(K++) = 
	ELSE
		;それ以降
		KSTR:(K++) = 
	ENDIF
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;パラメータ上昇_技巧上昇
;--------------------------------------------------
@KOJO_SKILLUP_技巧_1147(対象キャラ)
#DIM 対象キャラ
;奉仕ソースを取得した際に経験値が溜まり、一定値以上で上昇する
;この口上が呼び出されるのは数値が上昇した後。最大値は５

CALL 口上変数初期化
SELECTCASE ABL:対象キャラ:技巧
	CASE 1
		KSTR:(K++) = 
	CASE 2
		KSTR:(K++) = 
	CASE 3
		KSTR:(K++) = 
	CASE 4
		KSTR:(K++) = 
	CASE 5
		KSTR:(K++) = 
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;パラメータ上昇_性知識上昇
;--------------------------------------------------
@KOJO_SKILLUP_性知識_1147(対象キャラ)
#DIM 対象キャラ
;絶頂した際に経験値が溜まり、一定値以上で上昇する
;性知識－１と－２は無知シチュなので上昇しない
;技巧Lvより上には上昇しない
;この口上が呼び出されるのは数値が上昇した後。最大値は３

CALL 口上変数初期化
SELECTCASE 性知識段階表示(知識素質:対象キャラ:性知識, 対象キャラ)
	CASE "必要十分"
		KSTR:(K++) = 
	CASE "有識者"
		KSTR:(K++) = 
	CASE "百戦錬磨"
		KSTR:(K++) = 
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;パラメータ上昇_知識素質上昇
;--------------------------------------------------
@KOJO_SKILLUP_知識素質_1147(対象キャラ, 知識種類)
#DIM 対象キャラ
#DIM 知識種類
;知識種類は知識素質.csv参照のこと
;この口上が呼び出されるのは数値が上昇した後。最大値は３

CALL 口上変数初期化
SELECTCASE ERDNAME(知識素質, 知識種類)
	CASE "調合知識"
		SELECTCASE 知識素質:対象キャラ:調合知識
			CASE 1
				KSTR:(K++) = 
			CASE 2
				KSTR:(K++) = 
			CASE 3
				KSTR:(K++) = 
		ENDSELECT
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;野外オナニー_取得
;--------------------------------------------------
@KOJO_性癖開拓_野外オナニー_1147(対象キャラ, 成否フラグ)
#DIM 対象キャラ
#DIM 成否フラグ
;性癖獲得時の口上
;この口上が呼び出されるのは一日の最後、オナニー判定より前

CALL 口上変数初期化

SELECTCASE 成否フラグ
	CASE -1
		;性知識が0か-1のため、エロ本が理解出来なかったパターン
	CASE 0
		;性癖獲得失敗
	CASE 1
		;性癖獲得成功
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;野外オナニー_成長
;--------------------------------------------------
@KOJO_性癖成長_野外オナニー_1147(対象キャラ)
#DIM 対象キャラ
;性癖成長時の口上
;成長時に即座に呼ばれる（非同室でも呼ばれるのでシチュに注意）
;野外オナニー経験が30で愛好に、100で中毒に

CALL 口上変数初期化

;成長後数値なのでCASE 1は存在しない
SELECTCASE 性癖素質:対象キャラ:野外オナニー
	CASE 2
		;興味＞愛好に成長時
	CASE 3
		;愛好＞中毒に成長時
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)


;--------------------------------------------------
;野外オナニー_欲求不満
;--------------------------------------------------
@KOJO_欲求不満_野外オナニー_1147(対象キャラ)
#DIM 対象キャラ
;野外オナニーが中毒状態の時、一日に3回未満しか野外オナニー出来なかった時に呼ばれる口上
;タイミングは一日終了時オナニーと同じ場所
;同時に性欲が500上昇している

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;逆アナル
;--------------------------------------------------
@KOJO_性癖開拓_逆アナル_1147(対象キャラ, 成否フラグ)
#DIM 対象キャラ
#DIM 成否フラグ
;性癖獲得時の口上
;この口上が呼び出されるのは一日の最後、オナニー判定より前

CALL 口上変数初期化
SELECTCASE 成否フラグ
	CASE -1
		;性知識が0か-1のため、エロ本が理解出来なかったパターン
	CASE 0
		;性癖獲得失敗
	CASE 1
		;性癖獲得成功
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

@KOJO_性癖成長_逆アナル_1147(対象キャラ)
#DIM 対象キャラ
;性癖成長時の口上
;成長時に即座に呼ばれる
;Ｃ性交経験_Ａ挿入経験が100で愛好に、300で中毒に

CALL 口上変数初期化
;成長後数値なのでCASE 1は存在しない
SELECTCASE 性癖素質:対象キャラ:逆アナル
	CASE 2
		;興味＞愛好に成長時
	CASE 3
		;愛好＞中毒に成長時
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;搾乳プレイ
;--------------------------------------------------
@KOJO_性癖開拓_搾乳プレイ_1147(対象キャラ, 成否フラグ)
#DIM 対象キャラ
#DIM 成否フラグ
;性癖獲得時の口上
;この口上が呼び出されるのは一日の最後、オナニー判定より前

CALL 口上変数初期化
SELECTCASE 成否フラグ
	CASE -1
		;性知識が0か-1のため、エロ本が理解出来なかったパターン
	CASE 0
		;性癖獲得失敗
	CASE 1
		;性癖獲得成功
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

@KOJO_性癖成長_搾乳プレイ_1147(対象キャラ)
#DIM 対象キャラ
;性癖成長時の口上
;成長時に即座に呼ばれる
;搾乳快楽経験が100で愛好に、300で中毒に

CALL 口上変数初期化
;成長後数値なのでCASE 1は存在しない
SELECTCASE 性癖素質:対象キャラ:搾乳プレイ
	CASE 2
		;興味＞愛好に成長時
	CASE 3
		;愛好＞中毒に成長時
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;触手プレイ
;--------------------------------------------------
@KOJO_性癖開拓_触手プレイ_1147(対象キャラ, 成否フラグ)
#DIM 対象キャラ
#DIM 成否フラグ
;性癖獲得時の口上
;この口上が呼び出されるのは一日の最後、オナニー判定より前

CALL 口上変数初期化
SELECTCASE 成否フラグ
	CASE -1
		;性知識が0か-1のため、エロ本が理解出来なかったパターン
	CASE 0
		;性癖獲得失敗
	CASE 1
		;性癖獲得成功
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

@KOJO_性癖成長_触手プレイ_1147(対象キャラ)
#DIM 対象キャラ
;性癖成長時の口上
;成長時に即座に呼ばれる
;触手快楽経験が100で愛好に、500で中毒に

CALL 口上変数初期化
;成長後数値なのでCASE 1は存在しない
SELECTCASE 性癖素質:対象キャラ:触手プレイ
	CASE 2
		;興味＞愛好に成長時
	CASE 3
		;愛好＞中毒に成長時
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;精飲性癖
;--------------------------------------------------
@KOJO_性癖開拓_精飲_1147(対象キャラ, 成否フラグ)
#DIM 対象キャラ
#DIM 成否フラグ
;性癖獲得時の口上
;この口上は自動取得に登録されているので、取得時に即座に呼ばれる
;取得条件は「精飲快楽経験が100以上」

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

@KOJO_性癖成長_精飲_1147(対象キャラ)
#DIM 対象キャラ
;性癖成長時の口上
;成長時に即座に呼ばれる
;成長条件は「精飲快楽経験が300以上」

CALL 口上変数初期化
;成長後数値なのでCASE 1と2は存在しない
SELECTCASE 性癖素質:対象キャラ:精飲
	CASE 3
		;愛好＞中毒に成長時
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;膣内射精性癖
;--------------------------------------------------
@KOJO_性癖開拓_膣内射精_1147(対象キャラ, 成否フラグ)
#DIM 対象キャラ
#DIM 成否フラグ
;性癖獲得時の口上
;この口上は自動取得に登録されているので、取得時に即座に呼ばれる
;取得条件は「膣内射精絶頂経験が30以上」

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

@KOJO_性癖成長_膣内射精_1147(対象キャラ)
#DIM 対象キャラ
;性癖成長時の口上
;成長時に即座に呼ばれる
;成長条件は「膣内射精絶頂経験が100以上」

CALL 口上変数初期化

;成長後数値なのでCASE 1と2は存在しない
SELECTCASE 性癖素質:対象キャラ:膣内射精
	CASE 3
		;愛好＞中毒に成長時
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;腸内射精性癖
;--------------------------------------------------
@KOJO_性癖開拓_腸内射精_1147(対象キャラ, 成否フラグ)
#DIM 対象キャラ
#DIM 成否フラグ
;性癖獲得時の口上
;この口上は自動取得に登録されているので、取得時に即座に呼ばれる
;取得条件は「腸内射精絶頂経験が30以上」

CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)

@KOJO_性癖成長_腸内射精_1147(対象キャラ)
#DIM 対象キャラ
;性癖成長時の口上
;成長時に即座に呼ばれる
;成長条件は「腸内射精絶頂経験が100以上」

CALL 口上変数初期化
;成長後数値なのでCASE 1と2は存在しない
SELECTCASE 性癖素質:対象キャラ:腸内射精
	CASE 3
		;愛好＞中毒に成長時
ENDSELECT
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;ミニゲーム内部口上
;--------------------------------------------------
;卓球勝負
;--------------------------------------------------
;ゲームの勝敗ではなく、ゲーム中の１ラウンドに勝利・敗北した際に表示される口上
;ゲームそのものの勝敗による口上は「コマンド実行時」のテンプレートを参照してください

@KOJO_EVENT_卓球勝負中_1147(対象キャラ, 表示モード)
#DIM 対象キャラ
#DIMS 表示モード
CALL 口上変数初期化

SELECTCASE 表示モード
	CASE "TARGET勝利"
		KSTR:(K++) = 
	CASE "あなた勝利_ポロリ無し"
		;そもそもポロリの条件を満たしてない時
		KSTR:(K++) = 
	CASE "あなた勝利_ポロリ成功"
		;ポロリ成功時
		KSTR:(K++) = 
	CASE "あなた勝利_ポロリ失敗"
		;ポロリ失敗時
		KSTR:(K++) = 
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;カード勝負
;--------------------------------------------------

@KOJO_EVENT_カード勝負_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

SELECTCASE RFLAG:コマンド結果受渡し変数３
	CASE -2
		;あなた敗北・罰ゲーム
		KSTR:(K++) = 
	CASE -1
		;あなた敗北・ルピ減少
		KSTR:(K++) = 
	CASE 0
		;賭け有り・引き分けor賭け無し
		SELECTCASE RFLAG:コマンド結果受渡し変数２
			CASE -1
				;賭け無し・あなた敗北
				KSTR:(K++) = 
			CASE 0
				;引き分け
				KSTR:(K++) = 
			CASE 1
				;賭け有り・あなた勝利
				KSTR:(K++) = 
		ENDSELECT
	CASE 1
		;あなた勝利・ルピ増加
		KSTR:(K++) = 
	CASE 2
		;あなた勝利・罰ゲーム
		KSTR:(K++) = 
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)



;--------------------------------------------------
;すごろく
;--------------------------------------------------
;この口上はTARGETでなくとも、すごろく参加者なら全員表示される

@KOJO_EVENT_すごろく_1147(対象キャラ, 表示モード, 分岐変数)
#DIM 対象キャラ
#DIMS 表示モード
#DIM 分岐変数
#DIM 相手キャラ

CALL 口上変数初期化

;相手（ハグで抱きしめる対象など）が必要な場合、これに番号が入ってくる
相手キャラ = RFLAG:コマンド結果受渡し変数２

SELECTCASE 表示モード
	CASE "手番_ダイスロール"
		;分岐変数にはターン数が入る。分岐変数 == 1でゲームスタート直後の開幕ターン
		KSTR:(K++) = 
	CASE "手番_一回休み"
		;分岐変数には何も入らない
		KSTR:(K++) = 
	CASE "ゴール！"
		;分岐変数にはターン数が入る
		;誰かがゴールした時点で終了するので、一位のキャラの口上しか表示されない
		KSTR:(K++) = 
	CASE "全体イベント"
		;全員進むか全員戻るのイベント、分岐変数に移動量が入る
		IF 分岐変数 > 0
			;全員進む時
			KSTR:(K++) = 
		ELSEIF 分岐変数 < 0
			;全員戻る時
			KSTR:(K++) = 
		ENDIF
	CASE "罰ゲームイベント"
		;分岐変数には罰ゲーム種類が入る
		;RFLAG:コマンド結果受渡し変数２には、相手が必要な罰ゲームの場合には相手のキャラ番号が入る
		SELECTCASE 分岐変数
			CASE 0
				;不思議な力で衣装がバニーに
				KSTR:(K++) = 
			CASE 1
				;一発芸を披露する
				KSTR:(K++) = 
			CASE 2
				;不思議な力で衣装がメイド服に
				KSTR:(K++) = 
			CASE 3
				;次のターンまで誰かを膝枕したままプレイする_する側
				KSTR:(K++) = 
			CASE 4
				;誰かから思いっきりくすぐられる_される側
				KSTR:(K++) = 
			CASE 5
				;誰かを思い切りハグする_する側
				KSTR:(K++) = 
		ENDSELECT
	CASE "罰ゲームイベント_反応"
		;分岐変数には罰ゲーム種類が入る
		;相手が必要な罰ゲームイベントの、相手側になった時の口上。罰ゲーム側のキャラ番号は「参加者:行動手番」で引っ張ってこれる
		SELECTCASE 分岐変数
			CASE 3
				;次のターンまで誰かを膝枕したままプレイする_される側
				KSTR:(K++) = 
			CASE 4
				;誰かから思いっきりくすぐられる_する側
				KSTR:(K++) = 
			CASE 5
				;誰かを思い切りハグする_される側
;                ;相手がオーナーの場合
;                ;つまり「オーナーが罰ゲーム：ハグを出した」「ランダムで、このキャラが対象に選ばれた」状況
;                IF 相手キャラ == MASTER
;                    ;恋慕
;                    IF GETBIT(陥落チェック(対象キャラ), 0)
;                        KSTR:(K++) = 抱きしめられて、（対象キャラ）は顔を真っ赤にしている……
;                    ;セフレ
;                    ELSEIF GETBIT(陥落チェック(対象キャラ), 1)
;                        KSTR:(K++) = 抱きしめられて、（対象キャラ）は笑っている……
;                    ;それ以外の場合
;                    ELSE
;                        KSTR:(K++) = 抱きしめられて、（対象キャラ）はちょっと困っている……
;                    ENDIF
;                ;オーナーじゃない場合
;                ELSE
;                    KSTR:(K++) =
;                ENDIF
;				KSTR:(K++) = 
		ENDSELECT
	CASE "有利イベント"
		;分岐変数にはイベント種類が入る
		SELECTCASE 分岐変数
			CASE 0
				;もう一度ダイスを振って進む
				KSTR:(K++) = 
			CASE 1
				;２マス進む
				KSTR:(K++) = 
			CASE 2
				;３マス進む
				KSTR:(K++) = 
			CASE 3
				;４マス進む
				KSTR:(K++) = 
		ENDSELECT
	CASE "不利イベント"
		;分岐変数にはイベント種類が入る
		SELECTCASE 分岐変数
			CASE 0
				;一回休みに
				KSTR:(K++) = 
			CASE 1
				;２マス戻る
				KSTR:(K++) = 
			CASE 2
				;３マス戻る
				KSTR:(K++) = 
			CASE 3
				;４マス戻る
				KSTR:(K++) = 
		ENDSELECT
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)
IF 表示モード == "全体イベント"
	;移動処理が挟まりながら口上が出てくるため、スキップで見逃さないようにFORCEWAITを挟む
	FORCEWAIT
ENDIF

;--------------------------------------------------
;罰ゲーム
;--------------------------------------------------

@KOJO_EVENT_罰ゲーム_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

SELECTCASE RFLAG:コマンド結果受渡し変数３
	CASE 1
		;ルピ賭けあなた勝利
		KSTR:(K++) = 
	CASE -1
		;ルピ賭けキャラ勝利
		KSTR:(K++) = 
	CASE 2
		;罰ゲーム賭けあなた勝利
		SELECTCASE RFLAG:コマンド結果受渡し変数２
			CASE 0
				;でこぴん
				KSTR:(K++) = 
			CASE 1
				;お酒を飲む、TCVAR:対象キャラ:初飲酒フラグ = 1の時、キャラが初めて飲酒した
				IF TCVAR:対象キャラ:初飲酒フラグ
					KSTR:(K++) = 
				ELSE
					KSTR:(K++) = 
				ENDIF
			CASE 2
				;体に触れる
				;セクハラの身体に触れる系コマンドと数字一致
				SELECTCASE RFLAG:コマンド結果受渡し変数４
					CASE 1
						;背中に触れる
						KSTR:(K++) = 
					CASE 2
						;耳を触る
						KSTR:(K++) = 
					CASE 3
						;角を撫でる
						KSTR:(K++) = 
					CASE 4
						;尻尾を撫でる
						KSTR:(K++) = 
					CASE 5
						;尻を撫でる
						KSTR:(K++) = 
					CASE 6
						;お腹を撫でる
						KSTR:(K++) = 
					CASE 7
						;頭を撫でる
						KSTR:(K++) = 
					CASE 8
						;髪を梳く
						KSTR:(K++) = 
					CASE 9
						;脇をくすぐる
						KSTR:(K++) = 
					CASE 10
						;太ももを撫でる
						KSTR:(K++) = 
					CASE 11
						;へそに触れる
						KSTR:(K++) = 
					CASE 12
						;角ブラシ
						KSTR:(K++) = 
					CASE 13
						;尻尾ブラシ
						KSTR:(K++) = 
					CASE 14
						;下腹部圧迫
						KSTR:(K++) = 
				ENDSELECT
			CASE 10
				;下着の色を言う
				KSTR:(K++) = 
			CASE 11
				;セクシーポーズで淫語
				KSTR:(K++) = 
			CASE 12
				;乳首当てゲーム
				IF RFLAG:コマンド結果受渡し変数４ == 1
					;的中
					KSTR:(K++) = 
				ELSEIF RFLAG:コマンド結果受渡し変数４ == -1
					;ハズレ
					KSTR:(K++) = 
				ELSEIF RFLAG:コマンド結果受渡し変数４ == 2
					;的中したが誤魔化したので指をぐりぐりして認めさせる
					KSTR:(K++) = 
				ENDIF
			CASE 13
				;尻を揉む
				KSTR:(K++) = 
			CASE 14
				;胸を揉む
				KSTR:(K++) = 
			CASE 15
				;尻尾の付け根を揉む
				KSTR:(K++) = 
			CASE 16
				;肩組み乳揉み
				KSTR:(K++) = 
			CASE 17
				;乳首ひっかき
				KSTR:(K++) = 
			CASE 18
				;股間を弄る
				KSTR:(K++) = 
		ENDSELECT
	CASE -2
		;罰ゲーム賭けキャラ勝利
		KSTR:(K++) = 
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;初うふふが泥酔ックスだった場合、翌朝に発動するイベント
;--------------------------------------------------

@KOJO_MORNINGEVENT_初うふふ泥酔ックス後_1147(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
;この口上関数が存在すると汎用文章が表示されないので注意

IF 告白成功判定(対象キャラ)
	KSTR:(K++) = 
ELSEIF CFLAG:対象キャラ:好感度レベル > 関係閾値:4
	KSTR:(K++) = 
ELSE
	KSTR:(K++) = 
ENDIF

CALL 口上変数表示(対象キャラ, 0)

