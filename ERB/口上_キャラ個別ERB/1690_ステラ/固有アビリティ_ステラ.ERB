
@固有アビ_1690_1(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名

	アビ名 = 隔たりを砕いた流星
	消費ＭＰ = 50

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>敵全体の攻撃力と防御力を３０％/３Ｔ減少させる。
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用変数:効果割合 = 30
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_不利効果_デバフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用変数:効果割合 = 30
		アビ汎用文字列:バフ・デバフ枠 = 防御力A
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_不利効果_デバフ効果セット
ENDSELECT

@固有アビ_1690_2(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名

	アビ名 = 太陽の祝福と刃の導き
	消費ＭＰ = 50

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>味方全体の攻撃力と防御力を３０％/３Ｔ上昇させる。
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用変数:効果割合 = 30
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用変数:効果割合 = 30
		アビ汎用文字列:バフ・デバフ枠 = 防御力A
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット
ENDSELECT

@固有アビ_1690_3(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 消費ＭＰ
#DIMS アビ名

	アビ名 = 抱いた願い
	消費ＭＰ = 50

SELECTCASE ARGS
	CASE "アビ名"
		TSTR:コマンド名受渡 = %アビ名%
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 = 消費ＭＰ：{消費ＭＰ}<br>味方全体の奥義ゲージを＋２０％する。
		詳細文文字列受け渡し変数 += "<br>味方全体のゲージ上昇効率を２０％/３Ｔ増加させる。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用文字列:バフ・デバフ枠 = ゲージ上昇効率A
		アビ汎用文字列:バフ・デバフ対象能力 = ゲージ上昇効率
		アビ汎用変数:効果割合 = 20
		アビ汎用変数:持続ターン = 3
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		アビ汎用変数:効果量 = 20
		CALL アビテンプレート_有利効果_奥義ゲージUP
ENDSELECT

@固有通常攻撃後処理_キャラ_1690(全滅フラグ, 連撃数)
#DIM キャラ番号
#DIM 連撃数
#DIM 全滅フラグ
#DIM バフ・デバフ行数
#DIM ステラ隊列

SIF 全滅フラグ
	戦闘中カウント:ステラ隊列:与ヒット数合計 = 0
SIF 全滅フラグ
	RETURN 0

ステラ隊列 = キャラ隊列検索(GETCHARA(1690))

IF 連撃数 == 3
	CALL アビテンプレート用_表示メッセージ変換処理
	アビテンプレート用_アビ名表示済フラグ = 0

	アビ汎用文字列:実行時メッセージ１ = 「えい」
	アビ汎用文字列:実行時メッセージ２ = ステラのパワーフリップ！
	CALL アビ汎用変数文字列リセット
	IF 戦闘中カウント:ステラ隊列:0 >= 3
		アビ汎用変数:効果割合 = 50
	ELSEIF 戦闘中カウント:ステラ隊列:0 >= 2
		アビ汎用変数:効果割合 = 40
	ELSEIF 戦闘中カウント:ステラ隊列:0 >= 1
		アビ汎用変数:効果割合 = 30
	ELSE
	ENDIF
		CALL アビ対象選択テンプレート_味方全体_生者のみ
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:持続ターン = 1
		CALL アビテンプレート_有利効果_バフ効果セット
	戦闘中カウント:ステラ隊列:0 += 1
	
	;ここで連続パワフリ数を増やしている。
ELSEIF 連撃数 < 3
	戦闘中カウント:ステラ隊列:0 = 0
ENDIF

@固有戦闘開始時処理_キャラ_1690
#DIM パワーフリップ性能増加
#DIM ステラ隊列
#DIM 対象番号
#DIM 効果数値1
#DIM 効果数値2

;リーダー特性

ステラ隊列 = キャラ隊列検索(GETCHARA(1690))

IF !ステラ隊列
	CALL アビ対象選択テンプレート_味方全体_生者のみ
	CALL アビテンプレート_有利効果_ウェポンバースト
ENDIF


IF BATTLE_STATE:ステラ隊列:Lv >= 30
	効果数値1 = 10
ELSEIF BATTLE_STATE:ステラ隊列:Lv >= 10
	効果数値1 = 5
ELSE
ENDIF

IF BATTLE_STATE:ステラ隊列:Lv >= 60
	効果数値1 = 30
ELSEIF BATTLE_STATE:ステラ隊列:Lv >= 40
	効果数値1 = 20
ELSEIF BATTLE_STATE:ステラ隊列:Lv >= 20
	効果数値1 = 10
ELSE
ENDIF

IF BATTLE_STATE:ステラ隊列:Lv >= 10
	CALL アビ対象選択テンプレート_自己のみ
	アビ汎用文字列:適用範囲 = 味方全体
	アビ汎用文字列:バフ・デバフ枠 = 世界を渡る者
	アビ汎用文字列:バフ・デバフ対象能力 = 最大ＨＰ
	アビ汎用変数:効果割合 = 効果数値1
	アビ汎用変数:持続ターン = -1
	アビ汎用変数:消去不可オプション = 1
	アビ汎用変数:特殊表示オプション = 1
	CALL アビテンプレート_有利効果_パッシブバフ効果セット
ENDIF

IF BATTLE_STATE:ステラ隊列:Lv >= 20
	CALL アビ対象選択テンプレート_自己のみ
	アビ汎用文字列:適用範囲 = 味方全体
	IF BATTLE_STATE:ステラ隊列:Lv >= 60
		アビ汎用文字列:バフ・デバフ枠 = 仲間と共に
	ELSEIF BATTLE_STATE:ステラ隊列:Lv >= 40
		アビ汎用文字列:バフ・デバフ枠 = 同士と共に
	ELSE
		アビ汎用文字列:バフ・デバフ枠 = 友と共に
	ENDIF
	アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
	アビ汎用変数:効果割合 = 効果数値2
	アビ汎用変数:持続ターン = -1
	アビ汎用変数:消去不可オプション = 1
	アビ汎用変数:特殊表示オプション = 1
	CALL アビテンプレート_有利効果_パッシブバフ効果セット
ENDIF

;メッセージ出さない用に保存文字列をリセット
CALL アビテンプレ変数リセット


@バフ・デバフ特殊表示_世界を渡る者(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
#DIM ステラ隊列
ステラ隊列 = キャラ隊列検索(GETCHARA(1690))
VARSET LOCALS

IF BATTLE_STATE:ステラ隊列:Lv >= 30
PRINTFORML 世界を渡る者
PRINTFORML ＨＰ＋１０％
ELSEIF BATTLE_STATE:ステラ隊列:Lv >= 10
PRINTFORML 世界を渡る者
PRINTFORML ＨＰ＋５％
ELSE
ENDIF

@バフ・デバフ特殊表示_友と共に(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
#DIM ステラ隊列
ステラ隊列 = キャラ隊列検索(GETCHARA(1690))
PRINTFORML 友と共に
PRINTFORML 攻撃力＋１０％

@バフ・デバフ特殊表示_同士と共に(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
#DIM ステラ隊列
ステラ隊列 = キャラ隊列検索(GETCHARA(1690))
PRINTFORML 同士と共に
PRINTFORML 攻撃力＋２０％

@バフ・デバフ特殊表示_仲間と共に(隊列番号, バフ・デバフ行数)
#DIM 隊列番号
#DIM バフ・デバフ行数
#DIM ステラ隊列
ステラ隊列 = キャラ隊列検索(GETCHARA(1690))
PRINTFORML 仲間と共に
PRINTFORML 攻撃力＋３０％

;マナボ２表示


;--------------------------------------------------
;戦闘能力画面に表示されるキャラごとの固有処理説明
;--------------------------------------------------
;・使い方
;「XXXX」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;　口上と同じ感覚で使う為に書式を統一しているが、ステータス画面で表示されるので
;　基本的にWAIT系列は使わないことを推奨
;--------------------------------------------------
@口上_ステータス画面_固有特性解説_1690(対象キャラ)
#DIM 対象キャラ

CALL 口上変数初期化
KSTR:(K++) = □ リーダー特性：『見つけた宝物』 □----------------------------------------------------------
KSTR:(K++) = 　◆1番目に編成時、戦闘開始時、味方全員の奥義ゲージを１００％にする。
KSTR:(K++) = 　
KSTR:(K++) = □ 特性：『クロスブルーフリッパー：補助』 □-------------------------------------------
KSTR:(K++) = 　トリプルアタック・奥義発動時、パワーフリップ：補助が発動
KSTR:(K++) = 　◆連続でトリプルアタック時、パワーフリップの性能アップ
KSTR:(K++) = 　
IF 基礎BATTLE_STATE:対象キャラ:Lv >= 30
KSTR:(K++) = □ 特性：『世界を渡る者』 □-------------------------------------------
KSTR:(K++) = 　戦闘開始時、味方全員のＨＰ＋１０％
KSTR:(K++) = 　
ELSEIF 基礎BATTLE_STATE:対象キャラ:Lv >= 10
KSTR:(K++) = □ 特性：『世界を渡る者』 □-------------------------------------------
KSTR:(K++) = 　戦闘開始時、味方全員のＨＰ＋５％
KSTR:(K++) = 　
ELSE
ENDIF
IF 基礎BATTLE_STATE:対象キャラ:Lv >= 60
	KSTR:(K++) = □ 特性：『仲間と共に』 □-------------------------------------------
	KSTR:(K++) = 　戦闘開始時、味方全員の攻撃力＋３０％
	KSTR:(K++) = 　
ELSEIF 基礎BATTLE_STATE:対象キャラ:Lv >= 40
	KSTR:(K++) = □ 特性：『同士と共に』 □-------------------------------------------
	KSTR:(K++) = 　戦闘開始時、味方全員の攻撃力＋２０％
	KSTR:(K++) = 　
ELSEIF 基礎BATTLE_STATE:対象キャラ:Lv >= 20
	KSTR:(K++) = □ 特性：『友と共に』 □-------------------------------------------
	KSTR:(K++) = 　戦闘開始時、味方全員の攻撃力＋１０％
	KSTR:(K++) = 　
ELSE
ENDIF

CALL 口上変数表示(対象キャラ, 1)


;このへん雑多メモ

;優秀な付き人、百獣の王鍵（全体両面バフ）、獅子族の力（デメリット付き攻撃バフ）
;

;12/26
;うお～～～～～アビ名悩む～～～～～～～
;折角のテオきゅんだから凝ったものにしてあげてえ！効果も凝りてえ！
;こちとらテオきゅん実装と同時にワーフリ復帰してそこから終末まで見届けたからな
;限定テオきゅんもしっかりゲットしてLv100にしたんだからな！！

;12/28
;モンエナキメすぎて無気力になっちゃった

;12/29
;きくうしさんのお陰でパワフリが滅茶苦茶整いました
