;--------------------------------------------------
;キャラの絶頂後、あなたの射精への反応など
;--------------------------------------------------
;・使い方
;「1」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;通常絶頂時
;--------------------------------------------------
@KOJO_ORGASM_通常絶頂_1
;RCVAR:ARG:絶頂の強度
	;絶頂強度の合算

;NOWEX:LOCAL:Ｃ絶頂、NOWEX:LOCAL:Ｖ絶頂、NOWEX:LOCAL:Ａ絶頂、NOWEX:LOCAL:Ｂ絶頂、NOWEX:LOCAL:Ｓ絶頂
	;それぞれの絶頂強度が入っている
	;1:絶頂(10000超え)  2:強絶頂(20000超え)  3:超強絶頂(30000超え)  4:最強絶頂(40000超え)  5:究極絶頂(50000超え)
	;この強度の名前ダサいから変えたい……

;TCVAR:LOCAL:うふふ中Ｃ絶頂累積, TCVAR:LOCAL:うふふ中Ｖ絶頂累積, TCVAR:LOCAL:うふふ中Ａ絶頂累積, TCVAR:LOCAL:うふふ中Ｂ絶頂累積, TCVAR:LOCAL:うふふ中Ｓ絶頂累積
	;うふふ終了でリセットされる、絶頂回数を累積カウントする変数
	;当然うふふではないセクハラなどでは変動しないので注意

CALL 口上変数初期化
VARSET LOCAL
LOCAL = FINDCHARA(NO, 1)

;多部位同時絶頂判定
; FOR LOCAL:1, 0, 5
; 	SIF NOWEX:LOCAL:(LOCAL:1)
; 		LOCAL:2 += 1
; NEXT
; SELECTCASE LOCAL:2
; 	CASE 2
; 		;2部位同時絶頂
; 		KSTR:(K++) = 
; 	CASE 3
; 		;3部位同時絶頂
; 		KSTR:(K++) = 
; 	CASE 4
; 		;4部位同時絶頂
; 		KSTR:(K++) = 
; 	CASE 5
; 		;全部位同時絶頂、理論上は存在しうる
; 		KSTR:(K++) = 
; 	CASEELSE
		;1部位絶頂
		IF !CFLAG:LOCAL:うふふ && GET_TARGETNUM() > 1 && !CFLAG:LOCAL:隠密
			KSTR:(K++) = 「ま、待つのじゃ……止まれっ、人前で、そのような……っ！」
			KSTR:(K++) = 小声でアニラが制止してくるのにも構わず、%CALLNAME:PLAYER%は責めを続ける。
			KSTR:(K++) = 「待っ……ぁっ_H_ ッッッ～～～～っ_H_H_H_」
			KSTR:(K++) = 必死に声を我慢しながら、アニラは体を大きく震わせて絶頂した
			SOURCE:LOCAL:露出 += RCVAR:LOCAL:絶頂の強度 * 900
		ELSEIF NOWEX:LOCAL:Ｃ絶頂
			SELECTCASE TCVAR:LOCAL:うふふ中Ｃ絶頂累積
				CASE 0, 1
					KSTR:(K++) = 「あっ_H_　イくッ、イく、のじゃッ_H_H_」
					KSTR:(K++) = 「イっ……～～～～～～っ_H_H_」
					KSTR:(K++) = アニラは足をぴんと伸ばしながら、真っ赤に充血したクリの快楽で絶頂した…
				CASE 2, 3
					KSTR:(K++) = 「はっ_H_　ぁっ_H_　ぉッ、お゛ぉぉ～～～……っ_H_H_H_」
					KSTR:(K++) = アニラは足をぴんと伸ばしながら、真っ赤に充血したクリの快楽で絶頂した…
					KSTR:(K++) = 「ま、またイかされてしもうた……_H_H_　%CSTR:LOCAL:二人称%がクリばかりいじめるからじゃぞ……_H_」
				CASEELSE
					KSTR:(K++) = 「そんな、クリ、ばかり……ッ_H_H_　ぉ゛ッ、んッ、ぉぉお゛ッ_H__H_H_」
					KSTR:(K++) = 「もうイっておる_H_H_　何度も何度も、イっておるのじゃっ_H_H_」
					KSTR:(K++) = 「もうクリはッ、ぁ゛っ、はッ、ぁぁああぁ～～～～ッッ_H_H_H_H_」
					KSTR:(K++) = アニラは涎を垂らしながら、{TCVAR:LOCAL:うふふ中Ｃ絶頂累積}回目のクリ絶頂に浸っている…
			ENDSELECT
		ELSEIF NOWEX:LOCAL:Ｖ絶頂
			KSTR:(K++) = 
		ELSEIF NOWEX:LOCAL:Ａ絶頂
			KSTR:(K++) = 
		ELSEIF NOWEX:LOCAL:Ｂ絶頂
			KSTR:(K++) = 
		ELSEIF NOWEX:LOCAL:Ｓ絶頂
			KSTR:(K++) = 
		ENDIF
; ENDSELECT

CALL 口上変数表示(LOCAL, 0)

;--------------------------------------------------
;キャラ射精時
;--------------------------------------------------
@KOJO_ORGASM_射精_1
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 1)

KSTR:(K++) = 

CALL 口上変数表示(LOCAL, 0)

;--------------------------------------------------
;調教者の射精時
;--------------------------------------------------
@KOJO_ORGASM_被射精_1
;RFLAG:フィニッシュ場所
	;どこに出されたか  
;RCVAR:LOCAL:被射精絶頂の強度
	;１以上だと射精された時にキャラも絶頂
	;現状はフィニッシュ場所が0～3の時しか起こらない
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 1)

SELECTCASE RFLAG:フィニッシュ場所
	CASE 0
		;膣内
		IF RCVAR:LOCAL:被射精絶頂の強度
			;射精による快楽で絶頂した時
			KSTR:(K++) = 
		ELSE
			KSTR:(K++) = 
		ENDIF
	CASE 1
		;腸内
		IF RCVAR:LOCAL:被射精絶頂の強度
			;射精による快楽で絶頂した時
			KSTR:(K++) = 
		ELSE
			KSTR:(K++) = 
		ENDIF
	CASE 2
		;口
		IF RCVAR:LOCAL:精飲フラグ > 0
		;喜んで飲む
			IF RCVAR:LOCAL:被射精絶頂の強度
				;射精による快楽で絶頂した時
				KSTR:(K++) = 
			ELSE
				KSTR:(K++) = 
			ENDIF
		ELSEIF RCVAR:LOCAL:精飲フラグ
		;なんとか飲み込む
			IF RCVAR:LOCAL:被射精絶頂の強度
				;射精による快楽で絶頂した時
				KSTR:(K++) = 
			ELSE
				KSTR:(K++) = 
			ENDIF
		ELSEIF ABL:LOCAL:技巧 > 2
		;ティッシュに吐き出す
			KSTR:(K++) = 
		ELSE
		;吐き出してむせる
			KSTR:(K++) = 
		ENDIF
	CASE 3
		;乳内
		IF RCVAR:LOCAL:被射精絶頂の強度
			;射精による快楽で絶頂した時
			KSTR:(K++) = 
		ELSE
			KSTR:(K++) = 
		ENDIF
	CASE 5
		;顔
		KSTR:(K++) = 
	CASE 6
		;腹
		KSTR:(K++) = 
	CASE 7
		;背中
		KSTR:(K++) = 
	CASE 30
		;汎用射精
		KSTR:(K++) = 
ENDSELECT

CALL 口上変数表示(LOCAL, 0)


