;--------------------------------------------------
;ターン開始時や一日開始時・終了時に条件を満たしていた時表示される文章
;--------------------------------------------------
;・使い方
;「25」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;初対面時
;--------------------------------------------------
@KOJO_EVENT_初対面_25(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 「あなたがここのオーナーさん？ \@ CSTR:対象キャラ:二人称 == "オーナー" ? # ふぅん、%CSTR:対象キャラ:二人称%さんって言うんだ。\@よろしくねっ_H_」
KSTR:(K++) = 「カリオストロはバカンスに来てるだけだから、看板娘にはなってあげられないんだ。ゴメンね？」
IF 知識素質:MASTER:錬金知識 || 知識素質:MASTER:錬金知識経験値 > 100
	KSTR:(K++) = 「_I_なに…… 『開闢の錬金術師カリオストロは男だったはず』だと？ ずいぶんと詳しいじゃねぇか_」
	KSTR:(K++) = 「_I_そんなモンはもう二千年は前の話だ。今のオレ様は、_見ての通りの世界一の美少女だよ？」
	KSTR:(K++) = 「_I_まぁ気が向いたら指導してやってもいいぜ？何、滞在費代わりだ_」
	口上フラグ_25 = 1
ENDIF
CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;カード勝負
;--------------------------------------------------

@KOJO_EVENT_カード勝負_25(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

SELECTCASE RFLAG:コマンド結果受渡し変数３
	CASE -2
		;あなた敗北・罰ゲーム
		KSTR:(K++) = 「あはっ♪ カリオストロの勝ちだね_H_ \@ 口上フラグ_25 + !RAND:10 ? _I_クックックッ さぁて、覚悟は出来てるだろうな？_CALL_カリオストロ本性開示_ # やっちゃうよ～、えいっ\@」
	CASE -1
		;あなた敗北・ルピ減少
		KSTR:(K++) = 「えへっ♪ カリオストロ、勝っちゃった～_H_ \@ 口上フラグ_25 + !RAND:10 ? _I_約束通り、金は頂いていくぜ？_CALL_カリオストロ本性開示_ # %CSTR:対象キャラ:二人称%さん、お小遣いありがとっ\@」
	CASE 0
		;賭け有り・引き分けor賭け無し
		SELECTCASE RFLAG:コマンド結果受渡し変数２
			CASE -1
				;賭け無し・あなた敗北
				IF RAND(1+口上フラグ_25) + !RAND:10
					KSTR:(K++) = 「_I_\@ RAND:2 ? クックックッ、この勝負オレ様の勝ちだなぁ！# ほらよ。オレ様の勝ちは当然だな、この程度の確率計算なんざ朝飯前だ \@_CALL_カリオストロ本性開示_ 」
				ELSE
					KSTR:(K++) = 「\@ RAND:2 ? あはっ♪ カリオストロの勝ちだね_H_ # えへっ♪ カリオストロ、勝っちゃった～_H_ \@」
				ENDIF
			CASE 0
				;引き分け
				KSTR:(K++) = 「引き分けか～、ざぁんねん」
			CASE 1
				;賭け有り・あなた勝利
				IF 口上フラグ_25 + RAND:2
					KSTR:(K++) = 「_I_\@ RAND:2 ? オレ様の負け、だと？ くそっ、これだからランダム性の高いゲームは！# オレ様が負けるだと？ よっぽど悪運が強いようだな、%CSTR:対象キャラ:二人称% \@_CALL_カリオストロ本性開示_ 」
				ELSE
					KSTR:(K++) = 「\@ RAND:2? えーん、カリオストロ負けちゃった～# わぁ、%CSTR:対象キャラ:二人称%さん強～い \@」
				ENDIF
		ENDSELECT
	CASE 1
		;あなた勝利・ルピ増加
		KSTR:(K++) = 「\@ 口上フラグ_25 + RAND:2 ? _I_オレ様の負け、だと？ チッ、持っていきやがれ！_CALL_カリオストロ本性開示_ # %CSTR:対象キャラ:二人称%さん、こんな可憐な美少女からお金とっちゃうの…？ ひっど～い！\@」
	CASE 2
		;あなた勝利・罰ゲーム
		KSTR:(K++) = 「\@ 口上フラグ_25 + RAND:5 ? _I_オレ様が負けるだと？ クソッ、約束は約束だ。だがあんまり変なことするんじゃねぇぞ！？_CALL_カリオストロ本性開示_ # %CSTR:対象キャラ:二人称%さん、あんまり酷いことしないでね……？\@」
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)
