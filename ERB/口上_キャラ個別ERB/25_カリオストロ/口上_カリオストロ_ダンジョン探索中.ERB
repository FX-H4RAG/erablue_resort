;--------------------------------------------------
;ダンジョン探索中に条件を満たしていた時表示される文章
;--------------------------------------------------
;・使い方
;「25」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;「仲間と会話」ボタン押下時
;簡単に何度も見られるので、条件分岐やランダム化で複数パターンの登録を推奨
;--------------------------------------------------
@KOJO_DUNGEON_仲間と会話_25
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 25)
LOCAL:1 = キャラ隊列検索(LOCAL)

SELECTCASE RAND:5
	CASE 0
		WSTR:(K++) = 「んー？ %CSTR:LOCAL:二人称%さん、どぉしたの？」
		KSTR:(K++) = %CALLNAME:LOCAL%は小首をかしげている
	CASE 1
		WSTR:(K++) = %CALLNAME:LOCAL%は周囲を伺っている……
		KSTR:(K++) = 「_I_はてさて、なにか使えそうな素材は……_CALL_カリオストロ本性開示_」
	CASE 2
		WSTR:(K++) = 「_I_おいおい、オレ様にばかり見とれてないで周りも警戒しろよ_CALL_カリオストロ本性開示_」
		KSTR:(K++) = %CALLNAME:LOCAL%は意地の悪そうな笑顔を浮かべている
	CASE 3
		WSTR:(K++) = 「_I_おい%CSTR:LOCAL:二人称%、あんまりオレ様から離れるんじゃねぇぞ_」
		KSTR:(K++) = 「_I_オレ様がついているのに怪我でもされちゃ、沽券に関わるからな_CALL_カリオストロ本性開示_」
	CASE 4
		WSTR:(K++) = %CALLNAME:LOCAL%は憂いを帯びた表情でため息をついている……
		KSTR:(K++) = 「%CSTR:LOCAL:二人称%さん、どうだった？ 今の表情、一味違う可愛さだったでしょ」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:1}_顔", CALLNAME:LOCAL,,0)

;--------------------------------------------------
;奥義発動時
;「（キャラ名）の奥義：（奥義名）！」よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_奥義発動時_25(使用奥義名)
#DIMS 使用奥義名
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 25)
LOCAL:1 = キャラ隊列検索(LOCAL)
IF 基礎BATTLE_STATE:LOCAL:Lv >= 35 && 陥落チェック(LOCAL)
	IF RAND:4
		KSTR:(K++) = 「_I_真理の前に跪け！_」
	ELSE
		KSTR:(K++) = 「_I_あばよ！テメェはここで終身刑だ！！_」
	ENDIF
ELSE
	KSTR:(K++) = 「これが真理のぉ…_I_一撃だ！_」
ENDIF

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:1}_顔", CALLNAME:LOCAL)

;--------------------------------------------------
;戦闘勝利時
;ルピやEXPの取得よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_戦闘勝利時_25
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 25)
LOCAL:1 = キャラ隊列検索(LOCAL)

STRDATA KSTR:(K++)
	DATA 「やぁん、カリオストロ、勝っちゃったぁ_H_」
	DATA 「えへっ、カリオストロの勝ちぃ_H_」
	DATA 「あれあれ～？ もうお終い？」
	DATA 「_I_口ほどにもなかったな_」
	DATA 「_I_オレ様に勝とうなんて、千年早ぇんだよ_」
	DATA 「_I_楽勝だったな！_」
ENDDATA

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:1}_顔", CALLNAME:LOCAL)

;--------------------------------------------------
;全滅時
;--------------------------------------------------
@KOJO_DUNGEON_全滅時_25
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 25)
LOCAL:1 = キャラ隊列検索(LOCAL)


STRDATA KSTR:(K++)
	DATA 「ふぇ～ん、カリオストロたち、負けちゃったぁ」
	DATA 「暴力はんた～い」
	DATA 「_I_嘘だろ、あり得ねぇ…_」
	DATA 「_I_オレ様としたことが……_」
	DATA 「_I_やってくれるじゃねぇか…_」
ENDDATA

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:1}_顔", CALLNAME:LOCAL)

;--------------------------------------------------
;逃走時
;--------------------------------------------------
@KOJO_DUNGEON_逃走時_25
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 25)
LOCAL:1 = キャラ隊列検索(LOCAL)

STRDATA KSTR:(K++)
	DATA 「ばいば～い☆」
	DATA 「これ以上相手してあげられないの、ゴメンね？」
	DATA 「_I_チッ、ここは一旦退くぞ！_」
	DATA 「_I_一時撤退だ、態勢を立て直すぞ！_」
	DATA 「_I_このまま相手するのは分が悪い、仕切り直すぞ_」
ENDDATA

CALL メッセージ欄表示用関数(@"探索用_{LOCAL:1}_顔", CALLNAME:LOCAL)
