;****************************************
;キャラの絶頂後、あなたの射精への反応など
;****************************************
;・使い方
;「26」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;****************************************

;--------------------------------------------------
;通常絶頂時
;--------------------------------------------------
@KOJO_ORGASM_通常絶頂_26(対象キャラ)
#DIM 対象キャラ
#DIM 相手キャラ番号
;NOWEX:対象キャラ:Ｃ絶頂, NOWEX:対象キャラ:Ｖ絶頂, NOWEX:対象キャラ:Ａ絶頂, NOWEX:対象キャラ:Ｂ絶頂, NOWEX:対象キャラ:Ｓ絶頂
	;それぞれの絶頂強度が入っている
	;1:絶頂(10000超え)  2:強絶頂(20000超え)  3:超強絶頂(30000超え)  4:最強絶頂(40000超え)  5:究極絶頂(50000超え)
	;この強度の名前ダサいから変えたい……

;TCVAR:対象キャラ:うふふ中Ｃ絶頂累積, TCVAR:対象キャラ:うふふ中Ｖ絶頂累積, TCVAR:対象キャラ:うふふ中Ａ絶頂累積, TCVAR:対象キャラ:うふふ中Ｂ絶頂累積, TCVAR:対象キャラ:うふふ中Ｓ絶頂累積
;うふふ終了でリセットされる、絶頂回数を累積カウントする変数
;当然非うふふ中のセクハラなどでは変動しないので注意

CALL 口上変数初期化

相手キャラ番号 = 絶頂相手算出(対象キャラ)

IF 相手キャラ番号 == MASTER
	;相手があなたの時
	;多部位同時絶頂判定
	LOCAL:1 = 0
	FOR LOCAL, 0, 5
		SIF NOWEX:対象キャラ:LOCAL
			LOCAL:1 += 1
	NEXT
	SELECTCASE LOCAL:1
		CASE 2
			;2部位同時絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
		CASE 3
			;3部位同時絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
		CASE 4
			;4部位同時絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
		CASE 5
			;全部位同時絶頂、理論上は存在しうる
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
		CASEELSE
			;ちんちん射精以外で絶頂した場合　射精は別枠で
			;1部位絶頂
			
			IF NOWEX:対象キャラ:Ｃ絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
			ELSEIF NOWEX:対象キャラ:Ｖ絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
			ELSEIF NOWEX:対象キャラ:Ａ絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
			ELSEIF NOWEX:対象キャラ:Ｂ絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
			ELSEIF NOWEX:対象キャラ:Ｓ絶頂
				CALL KOJO_クラリス関数_通常喘ぎ
				LOCAL = RAND:3 + 1
				IF LOCAL == 1
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%やぁっ_H_イっちゃうぅぅ！！！」
					KSTR:(K++) = 　
				ELSEIF LOCAL == 2
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%あああ゛っ！！！」
					KSTR:(K++) = 　
				ELSE
					KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%いぃっ_H_しゅごぃぃいいいっ…！！！」
					KSTR:(K++) = 　
				ENDIF
			ENDIF
	ENDSELECT
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;キャラ射精時
;--------------------------------------------------
@KOJO_ORGASM_射精_26(対象キャラ)
#DIM 対象キャラ
#DIM 相手キャラ番号
CALL 口上変数初期化

相手キャラ番号 = RFLAG:フィニッシュ相手番号

IF 相手キャラ番号 == MASTER
	;相手があなたの時
	;クラリスちゃんが射精する場合なので無しでＯＫ
				KSTR:(K++) = 　
				KSTR:(K++) = 　
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;調教者の射精時
;--------------------------------------------------
@KOJO_ORGASM_被射精_26(対象キャラ)
#DIM 対象キャラ
#DIM 相手キャラ番号
;RFLAG:フィニッシュ場所
	;どこに出されたか  
;RCVAR:対象キャラ:被射精絶頂の強度
	;１以上だと射精された時にキャラも絶頂
	;現状はフィニッシュ場所が0～3の時しか起こらない
CALL 口上変数初期化

相手キャラ番号 = RFLAG:口上用射精キャラ番号

IF 相手キャラ番号 == MASTER
	;相手があなたの時
	;射精量を計算　一般男性は3ml 1.4mlでもあれば妊娠は可能らしい 単位はマイクロリットルで
	LOCAL = 500 + RAND:5000 + 1
	
	
	;射精時に絶頂を迎えてないが、直前（コマンド選択からここまで）に迎えている場合のチェック
	;回数もチェックする
	LOCAL:10 = TCVAR:対象キャラ:前ターン絶頂 + NOWEX:対象キャラ:多重絶頂
	;PRINTFORMW 絶頂回数　{LOCAL:10}
	
	
	SELECTCASE RFLAG:フィニッシュ場所
	CASE 0
	;膣内
		口上用変数_26クラリス:3 += LOCAL
		
		;射精による快楽で絶頂した時
		;直前に絶頂を迎えている場合も、みなし同時絶頂として扱う
		IF RCVAR:対象キャラ:被射精絶頂の強度 || LOCAL:10 > 0
			;あなたはクラリスの膣奥でザーメンを放った
			CALL KOJO_クラリス関数_疲労喘ぎ
			KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%……。
			LOCAL = RAND:5 + 1
			IF LOCAL == 1
				KSTR:(K++) = 　精液って、なんか…あったかいなーって……えへ_H_」
				KSTR:(K++) = 　
				KSTR:(K++) = クラリスは膣から溢れ出た精液を指で弄っている…。
			ELSEIF LOCAL == 2
				KSTR:(K++) = 　%CSTR:26:二人称%…だいしゅき……_H_えへへ…_H_」
				KSTR:(K++) = 　
				KSTR:(K++) = クラリスは%CALLNAME:MASTER%に全身を擦り付け甘え始めた…。
					
				KSTR:(K++) = クラリスの疲労が回復するまで、妄言に付き合った…。
				
			ELSEIF LOCAL == 3
				KSTR:(K++) = 　ちょっとだけ…休憩させて……。」
				KSTR:(K++) = クラリスは%CALLNAME:MASTER%の身体に顔を埋め、甘え始めた…。
			ELSEIF LOCAL == 4
				KSTR:(K++) = 　なんかさ…一緒にイケるっていいよねー、って感じがするー。
				KSTR:(K++) = 　しない？そうでもないって…？
				KSTR:(K++) = 　ぶー！するって言ってよー！！」
				KSTR:(K++) = クラリスは%CALLNAME:MASTER%の乳首を抓ろうとしている……。
			ELSE
				KSTR:(K++) = 　おっと！
				KSTR:(K++) = 　今気持ちよすぎてちょっと意識飛んでたかも！
				KSTR:(K++) = 　%CSTR:26:二人称%はどーだった？」
			ENDIF
			
			KSTR:(K++) = 　
			KSTR:(K++) = 二人は暫くいちゃいちゃした。
			KSTR:(K++) = 　
			KSTR:(K++) = ------------------------------------------------------------------------------------------------------------
			LOCAL = RAND:5 + 1
			IF LOCAL == 1
				KSTR:(K++) = 「よっし！
				KSTR:(K++) = 　クラリスちゃんふっかーつ☆
				KSTR:(K++) = 　続きしよ_H_」
			ELSEIF LOCAL == 2
				KSTR:(K++) = 「次こそうちは！おちんちん何かに負けたりしないよっ☆
				KSTR:(K++) = 　へい、かもーん_H_うっふ～んあっは…
				KSTR:(K++) = 　それは要らない？
				KSTR:(K++) = 　えー…頑張ったのになー」
			ELSEIF LOCAL == 3
				KSTR:(K++) = 「当然まだするよね？ね_H_」

			ELSEIF LOCAL == 4
				KSTR:(K++) = 「さって！
				KSTR:(K++) = 　もうちょいやるんだよね？」
				KSTR:(K++) = 　がんばるぞー！ぃぇぃ☆」
			ELSE
				KSTR:(K++) = 「次はどうする？
				KSTR:(K++) = 　とりあえず続きするの？おっけー_H_」
			ENDIF
			
			KSTR:(K++) = 　
			KSTR:(K++) = %CALLNAME:MASTER%はクラリスの膣内に陰茎を挿入しなおした…
		
			

			
		ELSE
		;あなた＝射精　クラリス非絶頂
		;あなたはクラリスの膣奥で大量のザーメンを吐き散らした…
			LOCAL = RAND:5 + 1
			IF LOCAL == 1
				CALL KOJO_クラリス関数_通常喘ぎ
				KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%
				KSTR:(K++) = 　……？
				KSTR:(K++) = 　動かないの？…えっ？もう射精ちゃったって！？」
				KSTR:(K++) = 　
				KSTR:(K++) = 「でもさ！%CSTR:26:二人称%ならまだ出来るって、うち信じてるよっ！
				KSTR:(K++) = 　そだ！またおちんちんが元気になるように応援するね☆」
				;何言ってんだこいつ
			ELSEIF LOCAL == 2
				CALL KOJO_クラリス関数_通常喘ぎ
				KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%
				KSTR:(K++) = 　……？
				KSTR:(K++) = 　動かないの？…えっ？もう射精ちゃった！？
				KSTR:(K++) = 　どんまいどんまい！
				KSTR:(K++) = 　でも、正直うちとしては、もうちょっとお願いしたいなーって…ダメ？」
				KSTR:(K++) = 　
				KSTR:(K++) = クラリスは上目遣いでこちらを見ている……
				
			ELSEIF LOCAL == 3
				CALL KOJO_クラリス関数_通常喘ぎ
				KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%
				KSTR:(K++) = 　……？
				KSTR:(K++) = 　動かないの？…えっ？もう射精ちゃった！？
				KSTR:(K++) = 　それでどーする？これで終わっちゃうのかなー？」
				KSTR:(K++) = 　
				KSTR:(K++) = 　クラリスはまだできるよね？とでも言いたげな眼差しで%CALLNAME:MASTER%を見ている。
				KSTR:(K++) = 　
			ELSEIF LOCAL == 4
				CALL KOJO_クラリス関数_通常喘ぎ
				KSTR:(K++) = 「えへへ…_H_えっとね。
				KSTR:(K++) = 　うちで気持ちよさそーな顔をする%CSTR:26:二人称%を見てると、
				KSTR:(K++) = 　何か幸せだなーって感じがするなぁって」
			ELSE
				CALL KOJO_クラリス関数_通常喘ぎ
				KSTR:(K++) = 「%口上用文字列変数_26クラリス喘ぎ表示%
				KSTR:(K++) = 　……？
				KSTR:(K++) = 　動かないの？…えっ？もう射精ちゃった！？
				KSTR:(K++) = 　どんまいどんまい！
				KSTR:(K++) = 　うちみたいな可憐な美少女が相手なんだからさー！しょーがないって！！」
			ENDIF
		
		ENDIF
	CASE 1
		;腸内
		口上用変数_26クラリス:4 += LOCAL
		IF RCVAR:対象キャラ:被射精絶頂の強度
			;射精による快楽で絶頂した時
			KSTR:(K++) = 
		ELSE
			KSTR:(K++) = 
		ENDIF
	CASE 2
		;口
		IF RCVAR:対象キャラ:精飲フラグ > 1
		;喜んで飲む
		口上用変数_26クラリス:5 += LOCAL
		
			IF RCVAR:対象キャラ:被射精絶頂の強度
				;射精による快楽で絶頂した時
				KSTR:(K++) = 
			ELSE
				KSTR:(K++) = 
			ENDIF
		ELSEIF RCVAR:対象キャラ:精飲フラグ
		;なんとか飲み込む
		口上用変数_26クラリス:5 += LOCAL
			IF RCVAR:対象キャラ:被射精絶頂の強度
			;射精による快楽で絶頂した時
				KSTR:(K++) = 
			ELSE
				KSTR:(K++) = 
			ENDIF
		ELSEIF ABL:対象キャラ:技巧 > 2
		;ティッシュに吐き出す
			;ちょっとは入る
			LOCAL /= 500
			口上用変数_26クラリス:5 += LOCAL
			KSTR:(K++) = 
		ELSE
		;吐き出してむせる
			;念入りに吐くので更に減る
			LOCAL /= 1500
			口上用変数_26クラリス:5 += LOCAL
			KSTR:(K++) = 
		ENDIF
	CASE 3
		;乳内
		口上用変数_26クラリス:6 += LOCAL 
		IF RCVAR:対象キャラ:被射精絶頂の強度
			KSTR:(K++) = 
		ELSE
			KSTR:(K++) = 
		ENDIF
	CASE 5
		;顔
		KSTR:(K++) = 
	CASE 6
		;腹
		KSTR:(K++) = 
	CASE 7
		;背中
		KSTR:(K++) = 
	CASE 30
		IF CFLAG:対象キャラ:うふふ
			;うふふ中汎用射精
			KSTR:(K++) = 
		ELSE
			;非うふふ時の射精、逆セクハラなど
			KSTR:(K++) = 
		ENDIF
	ENDSELECT
ENDIF

CALL 口上変数表示(対象キャラ, 0)


