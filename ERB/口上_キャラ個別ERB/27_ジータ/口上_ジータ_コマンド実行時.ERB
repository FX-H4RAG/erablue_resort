;--------------------------------------------------
;コマンド実行後に表示される文章
;--------------------------------------------------
;・使い方
;「27」をキャラクター番号に置換、コマンド番号の所に任意のコマンド番号を入れ、中身に処理を記述する
;テンプレート中にある分岐は例示としておいてあるものなので、必要な場合は各自でコピペをお願いします
;--------------------------------------------------
;・わかりづらい変数
;・コマンド実行による各部位の快楽量
	;CUP:対象キャラ:快Ｃ
	;CUP:対象キャラ:快Ｖ
	;CUP:対象キャラ:快Ａ
	;CUP:対象キャラ:快Ｂ
	;CUP:対象キャラ:快Ｓ
;
;・合意済みかどうか
	;GETBIT CFLAG:1 , 0

;TCVAR:対象キャラ:弱点コマンドフラグ
	;該当コマンドが弱点かどうか
	;現在弱点コマンドをゲーム中に変更する手段は無く、パラメータ設定ファイルで指定するか、指定の無い場所は開始時にランダムで決定される
	;口上テンプレートのパラメータ設定ファイルで全部弱点指定してしまえば弱点コマンドフラグで分岐する必要がない

;--------------------------------------------------
;汎用コマンド実行時口上関数
;--------------------------------------------------
@KOJO_COM_27_コマンド番号(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

KSTR:(K++) = 

CALL 口上変数表示(対象キャラ, 0)


;--------------------------------------------------
;各コマンド別テンプレート
;--------------------------------------------------

;--------------------------------------------------
;うふふコマンド
;--------------------------------------------------
;--------------------------------------------------
;COM320_尻を揉む
;--------------------------------------------------
@KOJO_COM_27_320(対象キャラ)
#DIM 対象キャラ
;取得快楽：Ａ
;ランダム弱点コマンドの候補

;RFLAG:コマンド結果受渡し変数
	;1:拒絶  2:受け入れ  3:喜び

CALL 口上変数初期化

	;恋慕やセフレを得ていると基本的に「喜び」になるはずなので、反応で分岐するのは陥落素質なしの場合のみで良い
	IF RFLAG:コマンド結果受渡し変数 == 1
		KSTR:(K++) = %CALLNAME:対象キャラ%に密着し、スカートの上から成長期の尻を揉みしだいた……
		KSTR:(K++) = (%CALLNAME:MASTER%さん……？痴漢されてるのかなこれ………)
		KSTR:(K++) = %CALLNAME:対象キャラ%は何も言わずうつむいている…
	ELSEIF RFLAG:コマンド結果受渡し変数 == 2
		KSTR:(K++) = %CALLNAME:対象キャラ%のスカートに手を潜らせ、下着越しに尻肉を鷲掴みした
		KSTR:(K++) = 「ひゃう…ダ……ダメだよ……%CALLNAME:MASTER%さん…」
		KSTR:(K++) = %CALLNAME:対象キャラ%はか細い声で%CALLNAME:MASTER%制止しようとしている…
	ELSEIF RFLAG:コマンド結果受渡し変数 == 3
		KSTR:(K++) = %CALLNAME:対象キャラ%の下着に手を入れ、汗ばんだ生尻を揉みしだいた……
		KSTR:(K++) = 「ひっ…_H_うゔ……_H_もう…すけべなんだから………」
		KSTR:(K++) = (なんで強引にお尻触られて興奮しちゃってるんだろ……？%CALLNAME:MASTER%さんだから……？)
	ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;COM353_性交渉をお願いする
;--------------------------------------------------
@KOJO_COM_27_353(対象キャラ)
#DIM 対象キャラ
;取得快楽：なし
;RFLAG:コマンド結果受渡し変数
	;1:成功  0:失敗
;RFLAG:コマンド結果受渡し変数２
	;今回でどのくらい成功度が蓄積したかを表す  蓄積の累計値が100を越えたら成功
;CFLAG:対象キャラ:お願いックス蓄積値
	;現在どのくらい成功度が蓄積しているかを表す  蓄積の累計値が100を越えたら成功

CALL 口上変数初期化

IF RFLAG:コマンド結果受渡し変数
	;成功
	IF TCVAR:対象キャラ:初うふふフラグ
		;初体験時
	KSTR:(K++) = 「い…いいよ_H_そこまで言うなら………私せっくすでも強いんだから！！覚悟するんだよ！！」
	KSTR:(K++) = (い…勢いで言っちゃった……_H_でも%CALLNAME:MASTER%さんなら勝てるよね…_H_)
	ELSE
		KSTR:(K++) = 「うぅ……またヤるの？……絶対負けないんだからね…_H_」
		KSTR:(K++) = (大丈夫…絶対に勝ってみせるんだから……_H_)
	ENDIF
ELSE
	;失敗
	KSTR:(K++) = 「え？…へ？……そ……それって恋人同士がやることでしょ……？違うの？」
	KSTR:(K++) = (こんなこと頼まれたの初めてだよぉ……%CALLNAME:MASTER%さんと……これからどう接すればいいんだろ……)
ENDIF

CALL 口上変数表示(対象キャラ, 0)


;--------------------------------------------------
;日常コマンド
;--------------------------------------------------
;COM300_会話
;--------------------------------------------------
;RFLAG:コマンド結果受渡し変数
	;-1:失敗  0:通常成功  1:大成功
;ABL:MASTER:話術技能によって効果上昇

@KOJO_COM_27_300(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE -1
		;失敗
		KSTR:(K++) = 「私たちはね、空の果てイスタルシアを目指して旅をしてるんだよ！！」
		KSTR:(K++) = 全ての願いが叶う地、存在すら怪しいおとぎ話に出てくる島を彼女達は目指してるらしい……
		KSTR:(K++) = 「む～……信じてないね？」
	CASE 0
		;通常成功
		KSTR:(K++) = 「団長として、あなたにお礼を言わせてほしいな！！仲間からの評判がとってもいいんだ」
		KSTR:(K++) = (もっと定期的に来てもいいかもなぁ…リゾート地にしては格安だし……)
	CASEELSE
		;大成功
		SELECTCASE RAND:3
		CASE 0
		KSTR:(K++) = 「あのね%CALLNAME:MASTER%さん……騎空団に興味はない？戦えなくてもいいよ」
		KSTR:(K++) = 勧誘だろうか……？%CALLNAME:対象キャラ%は上客だが%CALLNAME:MASTER%には使命がある、お断りだ
		KSTR:(K++) = 「そっかー……」
		CASE 1
		KSTR:(K++) = 「私はね、父さんに会うために旅をしてるんだ。イスタルシアを目指してるのもお父さんがきっとそこに居るからなんだよ」
		KSTR:(K++) = リスクを負って空の果てを目指す動機としてかなり釣り合わないように見えるが、それほどまでに家族という存在に飢えているのだろう……
		KSTR:(K++) = 「%CALLNAME:MASTER%さんは応援してくれる………？」
		KSTR:(K++) = %CALLNAME:MASTER%は黙って頷いた…
		CASE 2
		KSTR:(K++) = 「%CALLNAME:MASTER%さんって～どんな子が好きなの？」
		KSTR:(K++) = %CALLNAME:対象キャラ%は悲しげな顔をしている…質問の意図がわからない……少なくとも恋愛相談の類ではないようだが
		KSTR:(K++) = 「秘密ってことなのかな…？じゃあ私も秘密！！」
		ENDSELECT

ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;COM302_スキンシップ
;--------------------------------------------------
;RFLAG:コマンド結果受渡し変数
	;-1:失敗  0:通常成功  1:大成功

@KOJO_COM_27_302(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE -1
		;失敗
		KSTR:(K++) = %CALLNAME:MASTER%は考え事をしている%CALLNAME:対象キャラ%に触れようとした……
		KSTR:(K++) = 「わぁ！！びっくりしたぁ……曲者かと思っちゃったよ～☆」
		KSTR:(K++) = 捉えることのできない身のこなしで%CALLNAME:MASTER%の手を回避した%CALLNAME:対象キャラ%は恥ずかしそうにしている…
	CASE 0
		;通常成功
		KSTR:(K++) = %CALLNAME:MASTER%は、体操で筋肉をほぐしている%CALLNAME:対象キャラ%の温かい体を抱きしめた…
		KSTR:(K++) = (挨拶なのかなぁ……これ…%CALLNAME:MASTER%さんってちょっとずれてるよね……いい人だけど)
	CASEELSE
			SELECTCASE RAND:3
			CASE 0
		;大成功
		KSTR:(K++) = %CALLNAME:MASTER%がぼーっとしてると%CALLNAME:対象キャラ%が腕を絡ませ肩を寄せてきた……力が強い…
		KSTR:(K++) = 「あのね、腕…借りるね逃げちゃだめだよ？」
		KSTR:(K++) = (私だって%CALLNAME:MASTER%さんに甘えてもいいよね……みんなの悩み聞いてるし…)
		KSTR:(K++) = どうやら若くして大規模な騎空団の団長を務める%CALLNAME:対象キャラ%にも、まだ幼い部分が残っていたようだ……
			CASE 1
		KSTR:(K++) = %CALLNAME:対象キャラ%は悲しげな面持ちで%CALLNAME:MASTER%を、かなり強引に抱きしめた……いたい…
		KSTR:(K++) = 「%CALLNAME:MASTER%………さん、もうちょっと一緒に…いよ？」
		KSTR:(K++) = 幼い頃から夢を追い続けた%CALLNAME:対象キャラ%には、弱みを見せられる相手が少なかったのだろう……
			CASE 2
		KSTR:(K++) = 「%CALLNAME:MASTER%さん疲れてるでしょ…？肩揉んであげるよ座って！！」
		KSTR:(K++) = %CALLNAME:対象キャラ%によって半ば強制的に椅子に座らされた%CALLNAME:MASTER%は、指圧マッサージを受けた……とても痛い……力加減が苦手なのだろう…
		KSTR:(K++) = (あ…あれ……聞いてたのとちがう？なんかミスっちゃったかな？私にも父さんが居れば試せ…………)
		KSTR:(K++) = %CALLNAME:MASTER%は暗い顔をしている%CALLNAME:対象キャラ%にお礼を言った………%CALLNAME:対象キャラ%は怪訝そうに頷いた
			ENDSELECT
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;COM303_口説く
;--------------------------------------------------
;RFLAG:コマンド結果受渡し変数
	;-1:失敗  0:通常成功  1:大成功
;ABL:MASTER:話術技能によって効果上昇

@KOJO_COM_27_303(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化

SELECTCASE RFLAG:コマンド結果受渡し変数
	CASE -1
		;失敗
		KSTR:(K++) = 「え？え…？冗談だよねあはは…」
		KSTR:(K++) = (私のことそういう目で見てるのかなぁ……ナンパってやつ……？)
	CASE 0
		;通常成功
		KSTR:(K++) = 「団長としてうまくやれてるのかなぁ…私って」
		KSTR:(K++) = 名声高く規模の大きさの割には悪い噂をあまり聞くことはない。人として正しい道を歩んだ証だろう
		KSTR:(K++) = 「えへへ…ありがとう優しいね%CALLNAME:MASTER%さん」
	CASEELSE
		;大成功
		KSTR:(K++) = %CALLNAME:MASTER%の可愛らしいところを褒めちぎった
		KSTR:(K++) = 「へ？わ、私ってそんなに子供っぽいかな～？立派な団長なんだよ！？」
		KSTR:(K++) = (%CALLNAME:MASTER%さんに甘えちゃってたのバレてたのかなぁ……？)
		KSTR:(K++) = %CALLNAME:対象キャラ%はかなり複雑な家庭環境で生まれ育ったらしい……身近な人間から年相応の扱いを受けたことがあまりないのだろう……
ENDSELECT

CALL 口上変数表示(対象キャラ, 0)
