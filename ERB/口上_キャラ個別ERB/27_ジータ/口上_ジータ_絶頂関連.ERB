;--------------------------------------------------
;キャラの絶頂後、あなたの射精への反応など
;--------------------------------------------------
;・使い方
;「27」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;通常絶頂時
;--------------------------------------------------
@KOJO_ORGASM_通常絶頂_27(対象キャラ)
#DIM 対象キャラ
#DIM 相手キャラ番号
;NOWEX:対象キャラ:Ｃ絶頂、NOWEX:対象キャラ:Ｖ絶頂、NOWEX:対象キャラ:Ａ絶頂、NOWEX:対象キャラ:Ｂ絶頂、NOWEX:対象キャラ:Ｓ絶頂
	;それぞれの絶頂強度が入っている
	;1:絶頂(10000超え)  2:強絶頂(20000超え)  3:超強絶頂(30000超え)  4:最強絶頂(40000超え)  5:究極絶頂(50000超え)
	;この強度の名前ダサいから変えたい……

CALL 口上変数初期化

相手キャラ番号 = 絶頂相手算出(対象キャラ)

IF 相手キャラ番号 == MASTER
	;相手があなたの時
	;多部位同時絶頂判定
	LOCAL:1 = 0
	FOR LOCAL, 0, 5
		SIF NOWEX:対象キャラ:LOCAL
			LOCAL:1 += 1
	NEXT
	SELECTCASE LOCAL:1
		CASE 2
			;2部位同時絶頂
			KSTR:(K++) = 「いひ_H_わ……たしはイッ……_H_ってないもん！！」
			KSTR:(K++) = (こんなの…だめなのに_H_きもちいいよぉ……_H_)
			KSTR:(K++) = 負けん気の強い%CALLNAME:対象キャラ%は度重なる絶頂に形だけの抵抗を見せている……
		CASE 3
			;3部位同時絶頂
			KSTR:(K++) = 「おぉ…ふ……ま_H_負けにゃ_H_………ぃもん！！私……ひゃ_H_……団長だしぃ………」
			KSTR:(K++) = (こ……こんなことしてるのみんなにバレたら………私………_H_)
			KSTR:(K++) = %CALLNAME:対象キャラ%は%CALLNAME:MASTER%の技巧で無様に潮を吹きイかされ続けている事実を認めないが、開発された無自覚な肉体はとうの昔に屈服している………
		CASE 4
			;4部位同時絶頂
			KSTR:(K++) = 「ぐ……ふ_H_お゛ゔぅ……ごめんな…ひゃい_H_みんなの……団長なのに……ごめん……_H_」
			KSTR:(K++) = 心すら快楽に負けた淫乱な%CALLNAME:対象キャラ%は、あえぎながらうわ言のように仲間に向けて謝罪している…
		CASE 5
			;全部位同時絶頂、理論上は存在しうる
			KSTR:(K++) = 「あ゛ぁ……_H_ゔ……ひ……ぐ_H_パパ……_H_いぃ……にする……ら_H_…ぃ…で……_H_」
			KSTR:(K++) = 成長期の%CALLNAME:対象キャラ%の心身にとって過剰すぎる快楽を与えてしまったらしい、まともに呼吸できず朦朧とする意識の中で幻覚を見ているようだ……
		CASEELSE
			;1部位絶頂
			IF NOWEX:対象キャラ:Ｃ絶頂
				KSTR:(K++) = 「ひゃ_H_……くふ……_H_……イッて……ないもんね………」
				KSTR:(K++) = %CALLNAME:対象キャラ%は脚をがくつかせながら強がっている……
			ELSEIF NOWEX:対象キャラ:Ｖ絶頂
				KSTR:(K++) = 「おなかが……_H_あふ……だ…大丈夫だよ……ひぃ_H_」
				KSTR:(K++) = %CALLNAME:対象キャラ%は尿道から勢いよく潮を吹き、膣での絶頂に身を震わせている……
			ELSEIF NOWEX:対象キャラ:Ａ絶頂
				KSTR:(K++) = 
			ELSEIF NOWEX:対象キャラ:Ｂ絶頂
				KSTR:(K++) = 
			ELSEIF NOWEX:対象キャラ:Ｓ絶頂
				KSTR:(K++) = 
			ENDIF
	ENDSELECT
ENDIF

;ルリアと同位置ではなく1/5の確率で発生
IF CFLAG:対象キャラ:現在位置 != CFLAG:GETCHARA(28):現在位置 && TALENT:対象キャラ:命のリンク
	SELECTCASE RAND:5
	CASE 0
					KSTR:(K++) = _L_
		IF EXP:GETCHARA(28):絶頂経験 <= 30
		KSTR:(K++) = _COLOR_0x4169e1_「ひっ…_H_」
		KSTR:(K++) = _COLOR_0x4169e1_(%CALLNAME:対象キャラ%……？気のせいでしょうか……)
		KSTR:(K++) = _COLOR_0x4169e1_%CALLNAME:対象キャラ%と感覚が共有されている%CALLNAME:GETCHARA(28)%は、人前で急な快感に襲われ動揺している……
		ELSE
			SELECTCASE RAND:3
			CASE 0
			KSTR:(K++) = _COLOR_0x4169e1_「ひゃ……っう……お股が_H_」
			KSTR:(K++) = _COLOR_0x4169e1_(見られて……ないですよね………%CALLNAME:対象キャラ%のために……こ……声を抑えないと……ぅぅ_H_)
			CASE 1
			KSTR:(K++) = _COLOR_0x4169e1_「にゃ……ゔぅ…%CALLNAME:対象キャラ%ぁ_H_」
			KSTR:(K++) = _COLOR_0x4169e1_下腹部を襲う急激な快楽に%CALLNAME:GETCHARA(28)%はへなへなと床にへたり込み、潮を吹いてしまった……
			KSTR:(K++) = _COLOR_0x4169e1_脚を小鹿のようにがくつかせ、ぽたぽたと溢れる愛液を半泣きで掃除してから%CALLNAME:GETCHARA(28)%はその場を去った
			CASE 2
			KSTR:(K++) = _COLOR_0x4169e1_「また……ですか…うぅ…ぅ……_H_」
			KSTR:(K++) = _COLOR_0x4169e1_%CALLNAME:GETCHARA(28)%はいつも着ている白いワンピースを自分の愛液でべちょべちょに濡しながら、快楽に耐えようとしている……
			KSTR:(K++) = _COLOR_0x4169e1_(%CALLNAME:対象キャラ%……お股が…ずきずきするよぉ…おかしくなっちゃったのかな……_H_)
			ENDSELECT
		ENDIF
	ENDSELECT
ENDIF

CALL 口上変数表示(対象キャラ, 0)

;--------------------------------------------------
;調教者の射精時
;--------------------------------------------------
@KOJO_ORGASM_被射精_27(対象キャラ)
#DIM 対象キャラ
#DIM 相手キャラ番号
;RFLAG:フィニッシュ場所
	;どこに出されたか  
;RCVAR:対象キャラ:被射精絶頂の強度
	;１以上だと射精された時にキャラも絶頂
	;現状はフィニッシュ場所が0～3の時しか起こらない
CALL 口上変数初期化

相手キャラ番号 = RFLAG:口上用射精キャラ番号

IF 相手キャラ番号 == MASTER
	;相手があなたの時
	SELECTCASE RFLAG:フィニッシュ場所
		CASE 0
			;膣内
			;現在の体力気力によって分岐
			;(23/10/20追記　気力の削除に応じて条件を変更しました。by開発者きくうし)
			IF RCVAR:対象キャラ:被射精絶頂の強度
				;IF BASE:対象キャラ:気力 <= 300 && BASE:対象キャラ:体力 <= 601
				IF BASE:対象キャラ:体力 <= 201
					KSTR:(K++) = 「あ゛っ…び_H_ゔ_H_お゛……_H_ぅ゛……_H_」
					KSTR:(K++) = 体力が尽き、気絶しかけている%CALLNAME:対象キャラ%は、呻き声のような理性のかけらもない下品なあえぎ声しか出さなくなった
					KSTR:(K++) = %CALLNAME:MASTER%が敗北を認めたら寝させてやると提案すると、ようやくあえぎ声以外の言葉を口にした……
					KSTR:(K++) = 「え゛へ…ひ_H_負け…まぃ゛_H_だ%CALLNAME:MASTER%さ…_H_の大人ち…んゔ…_H_に負け……ぁぃた_H_」
					KSTR:(K++) = 満足していない%CALLNAME:MASTER%は舌を垂らしダブルピースで負けを認めた%CALLNAME:対象キャラ%にのしかかり、成長期の子宮をぶち壊す勢いで突き上げ最奥で射精してあげた……
					KSTR:(K++) = (母さんも…………こんな気持ちだったのかな…………えへ……へ_H_)
				ELSEIF BASE:対象キャラ:体力 <= 601
					KSTR:(K++) = 「ゔ…ぅ_H_い゛っ_H__H__H_…ごめんっぁ……_H_なひゃい_H_イッてるからぁ_H_おなかぁ…_突かないでぇ_H_」
					KSTR:(K++) = 謝罪する%CALLNAME:対象キャラ%の首を腕で締め上げ、窒息によって締まりの良くなった生膣で無責任に中出しした
					KSTR:(K++) = 「かはっ…かふっ…ひぃ゛…ゔぅ゛～_H_あふれちゃってるよぉ_H_」
					KSTR:(K++) = （%CALLNAME:MASTER%さんにたくさん種付けされちゃった……あたまがくらくらする……………_H_）
				ELSE
					KSTR:(K++) = 「いひ…_H_にゃは_H_私は負けてにゃ…_H_%CALLNAME:MASTER%さんの方がぜったっ_H_に弱いんだから………_H_」
					KSTR:(K++) = (ゔぅ_H_おなかが…きもちい_H_こんなの…勝てないよぉ_H_)
					KSTR:(K++) = %CALLNAME:対象キャラ%は%CALLNAME:MASTER%の中出しで脚をがくつかせ無様に膣イキしたのに敗北を認めないようだ……
				ENDIF
			ELSE
				;IF BASE:対象キャラ:気力 <= 300
				IF BASE:対象キャラ:体力 <= 201
				KSTR:(K++) = 「ひっぐ……お…おな…ぁが…あつい…激しっ……ぅぎるよぉ_H_」
				KSTR:(K++) = (お…大人って……毎日こんなことやってたんだ………_H_)
				;KSTR:(K++) = %CALLNAME:対象キャラ%は%CALLNAME:MASTER%との激しい中出し交尾で気力をすり減らし、怯えている……
				KSTR:(K++) = %CALLNAME:対象キャラ%は%CALLNAME:MASTER%との激しい中出し交尾で体力をすり減らし、怯えている……
				ELSE
				KSTR:(K++) = 「あれぇ？出しちゃったんだ……_H_もしかしてせっ…_H_くすも…私のほうがひゃ…強いのかなぁ？_H_……」
				KSTR:(K++) = (私のほうが強いもん……絶対に負けないもん_H_)
				KSTR:(K++) = %CALLNAME:対象キャラ%は喘ぎ声を漏らしながら、射精した%CALLNAME:MASTER%を挑発している… 
				ENDIF
			ENDIF
		CASE 1
			;腸内
			IF RCVAR:対象キャラ:被射精絶頂の強度
				KSTR:(K++) = 「う…ふ……_H_おしりせっくす気持ちいい？わ…私はっ……ぁ_H_それなりかな_H_」
				KSTR:(K++) = (よくわかんないけど………一方的に%CALLNAME:MASTER%さんを射精させるの楽しいなぁ_H_)
			ELSE
				KSTR:(K++) = 「ひっ…ぎ…うぅ……%CALLNAME:MASTER%……さん？へー……私のお尻に出しちゃったんだぁ_H_」
				KSTR:(K++) = %CALLNAME:対象キャラ%は肛門を責める異物感に顔を歪ませていたが、嗜虐心をくすぐられたのだろうか？%CALLNAME:MASTER%があっけなく腸内に射精したことを目を細めながら責め立てた……
			ENDIF
		CASE 2
			;口
			IF EXP:対象キャラ:口淫経験 >= 30
				KSTR:(K++) = 「へろぉ_H_」
				KSTR:(K++) = %CALLNAME:対象キャラ%は下品に口を開き%CALLNAME:MASTER%が出した精液を見せつけ、ゆっくりと味わうように飲み込んだ……
				KSTR:(K++) = 「けぷっ………ふふん……えらいでしょ_H_私は団長だから精液もちゃ～んと飲めちゃうんですよね_H_」
				KSTR:(K++) = 口に陰毛をへばりつかせた%CALLNAME:対象キャラ%はドヤ顔で語っている……
			ELSE
				KSTR:(K++) = 射精しそうな%CALLNAME:MASTER%は%CALLNAME:対象キャラ%の頭を抑え込み、喉奥に白濁を押し流した
				KSTR:(K++) = 「おぇ……ごほっ……ひどいよ！！手加減してよね……ずび…」
				KSTR:(K++) = 瞳を潤わせ、鼻から精液を垂らしながら%CALLNAME:対象キャラ%は抗議した
				ENDIF

		CASE 3
			;乳内
				KSTR:(K++) = 「あ～_H_%CALLNAME:MASTER%さんおっぱいに射精しちゃってる_H_いけないんだぁ_H_」
				KSTR:(K++) = いたずらに微笑む%CALLNAME:対象キャラ%はまだ成長期の乳房で、我慢汁を垂らす%CALLNAME:MASTER%の亀頭をぎゅうぎゅうに密閉し射精させた……

		CASE 5
			;顔
			KSTR:(K++) = 「きゃう……あへぇ_H_汚されちゃった………_H_」
			KSTR:(K++) = 舌を突き出し%CALLNAME:MASTER%の射精を口で受け止めようとした%CALLNAME:対象キャラ%は、不意に顔を汚されたことに興奮している
		CASE 6
			;腹
			KSTR:(K++) = 
		CASE 7
			;背中
			KSTR:(K++) = 
		CASE 30
			IF CFLAG:対象キャラ:うふふ
				;うふふ中汎用射精
				SELECTCASE RAND:3
				CASE 0
				KSTR:(K++) = 「へ……？」
				KSTR:(K++) = %CALLNAME:対象キャラ%は%CALLNAME:MASTER%の尿道から勢いよく放出される大量の白濁に唖然としている……
				KSTR:(K++) = (そ……そんなに……きもち良かったのかな？わかんないよぉ……_H_)
				CASE 1
				KSTR:(K++) = 「こ……こんなに出して大丈夫なの？わ……私のせい？ごめん……_H_」
				KSTR:(K++) = %CALLNAME:対象キャラ%は%CALLNAME:MASTER%の精液を手ですくいまじまじと見つめている…
				CASE 2
				KSTR:(K++) = 「う……ひゃ_H_……私頑張ったよ！！褒めて！！」
				KSTR:(K++) = %CALLNAME:MASTER%の欲情を誘い頑張って射精させてくれた%CALLNAME:対象キャラ%を抱きしめ、頭を撫でた
				KSTR:(K++) = (もっと褒められたい_H_たくさん射精させなきゃ……_H_)
				ENDSELECT
			ELSE
				;非うふふ時の射精、逆セクハラなど
				KSTR:(K++) = 
			ENDIF
	ENDSELECT
ENDIF

CALL 口上変数表示(対象キャラ, 0)
