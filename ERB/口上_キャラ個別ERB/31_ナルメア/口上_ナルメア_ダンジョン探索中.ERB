;--------------------------------------------------
;ダンジョン探索中に条件を満たしていた時表示される文章
;--------------------------------------------------
;・使い方
;「31」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;「仲間と会話」ボタン押下時
;簡単に何度も見られるので、条件分岐やランダム化で複数パターンの登録を推奨
;--------------------------------------------------
@KOJO_DUNGEON_仲間と会話_31(対象キャラ)
#DIM 対象キャラ
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

SELECTCASE RAND:5
	CASE 0
		WSTR:(K++) = 「困ったことがあったら、お姉さんに任せてね」
	CASE 1
		WSTR:(K++) = 「%CALLNAME:MASTER%ちゃん、%CALLNAME:MASTER%ちゃん！お姉さんと一緒に、鍛錬しよっか！」
	CASE 2
		WSTR:(K++) = 「いい日差し……。ね、お姉さんと一緒にひなたぼっこしよっか？」
	CASE 3
		WSTR:(K++) = 「ナルメアだよ！お姉さん、%CALLNAME:MASTER%ちゃんの為なら何だってするからね！」
	CASE 4
		WSTR:(K++) = 「%CALLNAME:MASTER%ちゃんとなら、どこへだって行くよ？」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

;--------------------------------------------------
;奥義発動時
;「（キャラ名）の奥義：（奥義名）！」よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_奥義発動時_31(対象キャラ, 使用奥義名)
#DIMS 使用奥義名
#DIM 対象キャラ

CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)
SELECTCASE RAND:2
	CASE 0
		KSTR:(K++) = 「舞い散りなさい…」
	CASE 1
		KSTR:(K++) = 「我を捨て去り、万有とならん……」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ,,0)

;--------------------------------------------------
;戦闘勝利時
;ルピやEXPの取得よりも前に表示される
;--------------------------------------------------
@KOJO_DUNGEON_戦闘勝利時_31(対象キャラ)
#DIM 対象キャラ
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

SELECTCASE RAND:2
	CASE 0
		KSTR:(K++) = 「さよなら、つまらぬものよ」
	CASE 1
		WSTR:(K++) = 「私は、強い……！」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)
CALL 口上変数初期化

;--------------------------------------------------
;全滅時
;--------------------------------------------------
@KOJO_DUNGEON_全滅時_31(対象キャラ)
#DIM 対象キャラ
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

SELECTCASE RAND:2
	CASE 0
		KSTR:(K++) = 「ああ……私は未だ無力……」
	CASE 1
		WSTR:(K++) = 「一から鍛え直しね……」
ENDSELECT

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)
CALL 口上変数初期化

;--------------------------------------------------
;逃走時
;--------------------------------------------------
@KOJO_DUNGEON_逃走時_31(対象キャラ)
#DIM 対象キャラ
CALL メッセージ欄表示用関数(,,,0)
CALL 口上変数初期化
LOCAL = キャラ隊列検索(対象キャラ)

KSTR:(K++) = 「%CALLNAME:MASTER%ちゃんは無事……？　怪我とかない？」

CALL メッセージ欄表示用関数(@"探索用_{LOCAL}_顔", CALLNAME:対象キャラ)
CALL 口上変数初期化
