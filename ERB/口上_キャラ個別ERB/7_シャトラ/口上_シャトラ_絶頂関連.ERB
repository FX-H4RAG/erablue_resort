;--------------------------------------------------
;キャラの絶頂後、あなたの射精への反応など
;--------------------------------------------------
;・使い方
;「7」をキャラクター番号に置換し、それぞれの関数に処理を入れる
;--------------------------------------------------

;--------------------------------------------------
;通常絶頂時
;--------------------------------------------------
@KOJO_ORGASM_通常絶頂_7
;NOWEX:LOCAL:Ｃ絶頂, NOWEX:LOCAL:Ｖ絶頂, NOWEX:LOCAL:Ａ絶頂, NOWEX:LOCAL:Ｂ絶頂, NOWEX:LOCAL:Ｓ絶頂
	;それぞれの絶頂強度が入っている
	;1:絶頂(10000超え)  2:強絶頂(20000超え)  3:超強絶頂(30000超え)  4:最強絶頂(40000超え)  5:究極絶頂(50000超え)
	;この強度の名前ダサいから変えたい……

;TCVAR:LOCAL:うふふ中Ｃ絶頂累積, TCVAR:LOCAL:うふふ中Ｖ絶頂累積, TCVAR:LOCAL:うふふ中Ａ絶頂累積, TCVAR:LOCAL:うふふ中Ｂ絶頂累積, TCVAR:LOCAL:うふふ中Ｓ絶頂累積
;うふふ終了でリセットされる、絶頂回数を累積カウントする変数
;当然非うふふ中のセクハラなどでは変動しないので注意

CALL 口上変数初期化
VARSET LOCAL
LOCAL = FINDCHARA(NO, 7)

;多部位同時絶頂判定
FOR LOCAL:1, 0, 5
	SIF NOWEX:LOCAL:(LOCAL:1)
		LOCAL:2 += 1
NEXT
SELECTCASE LOCAL:2
	CASE 2
		;2部位同時絶頂
		KSTR:(K++) = 
	CASE 3
		;3部位同時絶頂
		KSTR:(K++) = 
	CASE 4
		;4部位同時絶頂
		KSTR:(K++) = 
	CASE 5
		;全部位同時絶頂、理論上は存在しうる
		KSTR:(K++) = 
	CASEELSE
		;1部位絶頂
		IF NOWEX:LOCAL:Ｃ絶頂
			KSTR:(K++) = 「%CSTR:LOCAL:二人称%_H_に見られながらお塩吹いちゃう_H_うぅ…_H_」
		ELSEIF NOWEX:LOCAL:Ｖ絶頂
			KSTR:(K++) = 「ひ…_H_はしたなくおまんこでいっちゃう…_H_」
		ELSEIF NOWEX:LOCAL:Ａ絶頂
			KSTR:(K++) = 
		ELSEIF NOWEX:LOCAL:Ｂ絶頂
			IF TALENT:LOCAL:母乳体質 >= 1
			KSTR:(K++) = %CALLNAME:TARGET%は勢い良く母乳を噴出し絶頂した
			KSTR:(K++) = 「ひいぃ…_H_おっぱい止まらないよぉ…_H_%CSTR:LOCAL:二人称%_H_」
			ELSE
			KSTR:(K++) = 「ひぐ…_H_おっぱいきもちいいいよぉ…_H_」
			ENDIF
		ELSEIF NOWEX:LOCAL:Ｓ絶頂
			KSTR:(K++) = 
		ENDIF
ENDSELECT

CALL 口上変数表示(LOCAL, 0)

;--------------------------------------------------
;キャラ射精時
;--------------------------------------------------
@KOJO_ORGASM_射精_7
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 7)

KSTR:(K++) = 

CALL 口上変数表示(LOCAL, 0)

;--------------------------------------------------
;調教者の射精時
;--------------------------------------------------
@KOJO_ORGASM_被射精_7
;RFLAG:フィニッシュ場所
	;どこに出されたか  
;RCVAR:LOCAL:被射精絶頂の強度
	;１以上だと射精された時にキャラも絶頂
	;現状はフィニッシュ場所が0～3の時しか起こらない
CALL 口上変数初期化
LOCAL = FINDCHARA(NO, 7)

SELECTCASE RFLAG:フィニッシュ場所
	CASE 0
		;膣内
IF PREGNANCY_SIZE(LOCAL) >= 3
			KSTR:(K++) = 身篭っている%CALLNAME:TARGET%に容赦なく中出しをした…
			KSTR:(K++) = 「%CSTR:LOCAL:二人称%_H_赤ちゃんが精液飲んじゃうよぉ…_H_」
ELSE
	IF TCVAR:LOCAL:膣内精液量 >= 20
	KSTR:(K++) = 「今日の%CSTR:LOCAL:二人称%本気で孕ませる気だ_H_ひいぃ…_H_」
	ELSEIF TCVAR:LOCAL:膣内精液量 >= 10
	KSTR:(K++) = 「無責任だよぉ%CSTR:LOCAL:二人称%…_H_孕んじゃうって…」
	ELSE
	KSTR:(K++) = 「うぅ…ちゃんと奥でお射精しましたね%CSTR:LOCAL:二人称%…_H_」
	ENDIF
ENDIF
	CASE 1
		;腸内
		IF RCVAR:LOCAL:被射精絶頂の強度
			;射精による快楽で絶頂した時
			KSTR:(K++) = 
		ELSE
			KSTR:(K++) = 
		ENDIF
	CASE 2
		;口
		IF RCVAR:LOCAL:精飲フラグ > 0
		;喜んで飲む
			IF RCVAR:LOCAL:被射精絶頂の強度
				;射精による快楽で絶頂した時
				KSTR:(K++) = 
			ELSE
				KSTR:(K++) = 
			ENDIF
		ELSEIF RCVAR:LOCAL:精飲フラグ
		;なんとか飲み込む
			IF RCVAR:LOCAL:被射精絶頂の強度
				;射精による快楽で絶頂した時
				KSTR:(K++) = 
			ELSE
				KSTR:(K++) = 
			ENDIF
		ELSEIF ABL:LOCAL:技巧 > 2
		;ティッシュに吐き出す
			KSTR:(K++) = 
		ELSE
		;吐き出してむせる
			KSTR:(K++) = 
		ENDIF
	CASE 3
		;乳内
			KSTR:(K++) = 「うししし…おっぱいの中に出しちゃったね%CSTR:LOCAL:二人称%_H_」
	CASE 5
		;顔
		KSTR:(K++) = 「むす…出すなら言ってくださいよ%CSTR:LOCAL:二人称%_H_」
	CASE 6
		;腹
		KSTR:(K++) = 
	CASE 7
		;背中
		KSTR:(K++) = 
	CASE 30
		;汎用射精
		KSTR:(K++) = 「%CSTR:LOCAL:二人称%_H_たくさんびゅーびゅーして偉いですね_H_」
ENDSELECT

CALL 口上変数表示(LOCAL, 0)
