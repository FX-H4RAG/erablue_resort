@固有奥義_92(ARGS, キャラ番号)
#DIM キャラ番号
#DIM 奥義威力
#DIM 延長フラグ
#DIMS 奥義名
#DIM バフ番号
#DIM データベース行数

;レベルなどの条件で奥義を強化する場合、奥義名の文字列を条件分岐で変化させる
奥義名 = 炎鳴流奥義・極炎紅脚
奥義威力 = 500


SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = %奥義名%
	CASE "奥義説明文"
		詳細文文字列受け渡し変数 = 奥義威力：{奥義威力}％<br>攻撃前に自身の攻撃力を［10％/累積枠/上限100％］増加させる。
		詳細文文字列受け渡し変数 += @"<br>自身に掛かっているカウンター効果と炎鳴流・陽炎効果の持続回数を［3］増加させる。"
		RETURN 奥義威力
	CASE "奥義前効果"
		;対象決定の後、ダメージよりも前に発生する効果
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力_累積
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:効果割合 = 10
		アビ汎用変数:累積上限_割合 = 100
		アビ汎用変数:持続ターン = -1
		CALL アビテンプレート_有利効果_累積バフ効果セット

		;バフ延長はまだ作ってないので手動で記述
		延長フラグ = 0
		データベース行数 = DT_ROW_LENGTH(@"バフデータベース_{戦闘行動キャラ}")
		FOR バフ番号, 0, データベース行数
			IF DT_CELL_GETS(@"バフデータベース_{戦闘行動キャラ}", バフ番号, "バフ枠") == "炎鳴流・陽炎"
				DT_CELL_SET @"バフデータベース_{戦闘行動キャラ}", バフ番号, "持続回数", DT_CELL_GET(@"バフデータベース_{戦闘行動キャラ}", バフ番号, "持続回数") + 3
				延長フラグ = 1
			ELSEIF DT_CELL_GETS(@"バフデータベース_{戦闘行動キャラ}", バフ番号, "バフ枠") == "カウンター"
				DT_CELL_SET @"バフデータベース_{戦闘行動キャラ}", バフ番号, "持続回数", DT_CELL_GET(@"バフデータベース_{戦闘行動キャラ}", バフ番号, "持続回数") + 3
				延長フラグ = 1
			ENDIF
		NEXT
		IF 延長フラグ
			アビテンプレート用_表示メッセージ格納:1:(A_M_NUM:1++) = アリーザのカウンター回数が増加した！
		ENDIF
	CASE "奥義追加効果"
ENDSELECT
RETURN RESULT
