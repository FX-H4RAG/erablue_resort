

;-------------------------------------------------------------------------------------------
;性欲ゲージ関連処理
;最大値は1000で固定、上昇量を素質で補正すること
;-------------------------------------------------------------------------------------------

@性欲ゲージ増加(ARG)
;基礎値=時間経過分の性欲（一日1440）ABL欲望１につき10%の補正
LOCAL = (10 + ABL:ARG:欲望) * TIME_PROGRESS(TFLAG:行動前時刻) / 10

;性欲素質 1=+20% -1=-20%
LOCAL = LOCAL * (10 + TALENT:ARG:性欲 * 2) / 10

;乱数で-20%～+20%まで上下
LOCAL = LOCAL * (100 + RAND:40 - 19) / 100

BASE:ARG:性欲 = MIN(BASE:ARG:性欲 + LOCAL, MAXBASE:ARG:性欲)
;発情期は常時最低値6000保証。ドラフ系ならば3000保証
IF CFLAG:TARGET:発情期フラグ < 0
	IF TALENT:ARG:種族 == 2 || TALENT:ARG:発情期あり
	BASE:ARG:性欲 = MAX(BASE:ARG:性欲, 6000)
	ELSEIF TALENT:ARG:種族 == 3 || ARG == 11
		BASE:ARG:性欲 = MAX(BASE:ARG:性欲, 3000)
	ENDIF
ENDIF
