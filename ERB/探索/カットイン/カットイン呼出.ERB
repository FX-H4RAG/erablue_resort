;----------カットイン終了と呼び出しはセットで使用する
@カットイン終了
;アニメ停止、画面からの削除
SETANIMETIMER -1
CBGREMOVERANGE -1, 0


@カットイン呼出(ARGS)
;---------カットイン自体オフにできる機能をつけるならここで終わる
;SIF オプション：オフで戻る
;RETURN

CALLFORM %ARGS%カットイン

;アニメが作成されなかったときは終了
SIF RESULT == 0
	RETURN

;アニメ再生
CBGSETSPRITE "カットインアニメ_0", 30, 0, -1,
SETANIMETIMER 30


;---------
@カットイン用カラーマトリクス取得(ARGS)
;カットイン用カラーマトリクス ,5 ,5

SELECTCASE ARGS
	CASE "透明度_20"
		カットイン用カラーマトリクス:0:0 = 256,  0,  0,  0,  0;R
		カットイン用カラーマトリクス:1:0 =   0,256,  0,  0,  0;G
		カットイン用カラーマトリクス:2:0 =   0,  0,256,  0,  0;B
		カットイン用カラーマトリクス:3:0 =   0,  0,  0,205,  0;A
		カットイン用カラーマトリクス:4:0 =   0,  0,  0,  0,256;平行
	CASE "透明度_40"
		カットイン用カラーマトリクス:0:0 = 256,  0,  0,  0,  0;R
		カットイン用カラーマトリクス:1:0 =   0,256,  0,  0,  0;G
		カットイン用カラーマトリクス:2:0 =   0,  0,256,  0,  0;B
		カットイン用カラーマトリクス:3:0 =   0,  0,  0,154,  0;A
		カットイン用カラーマトリクス:4:0 =   0,  0,  0,  0,256;平行
	CASE "透明度_60"
		カットイン用カラーマトリクス:0:0 = 256,  0,  0,  0,  0;R
		カットイン用カラーマトリクス:1:0 =   0,256,  0,  0,  0;G
		カットイン用カラーマトリクス:2:0 =   0,  0,256,  0,  0;B
		カットイン用カラーマトリクス:3:0 =   0,  0,  0,103,  0;A
		カットイン用カラーマトリクス:4:0 =   0,  0,  0,  0,256;平行
	CASE "透明度_80"
		カットイン用カラーマトリクス:0:0 = 256,  0,  0,  0,  0;R
		カットイン用カラーマトリクス:1:0 =   0,256,  0,  0,  0;G
		カットイン用カラーマトリクス:2:0 =   0,  0,256,  0,  0;B
		カットイン用カラーマトリクス:3:0 =   0,  0,  0, 52,  0;A
		カットイン用カラーマトリクス:4:0 =   0,  0,  0,  0,256;平行
	CASEELSE
	;変化なし
		カットイン用カラーマトリクス:0:0 = 256,  0,  0,  0,  0;R
		カットイン用カラーマトリクス:1:0 =   0,256,  0,  0,  0;G
		カットイン用カラーマトリクス:2:0 =   0,  0,256,  0,  0;B
		カットイン用カラーマトリクス:3:0 =   0,  0,  0,256,  0;A
		カットイン用カラーマトリクス:4:0 =   0,  0,  0,  0,256;平行
ENDSELECT


