

@ダンジョン初期処理_名前を亡くした遺跡
;ダンジョン構造の読み込み
;0でない時、そのマスは存在する
#DIM 深度
#DIM 分岐

ダンジョンマス画像URL_伏せ状態 = 壁_遺跡
ダンジョン現在位置:0 = 0
ダンジョン現在位置:1 = 4
ダンジョン背景画像 = 背景_遺跡

;スタート地点は必ず存在
;初期からオープン済みなので3を入れる
;ビット0：存在するか　ビット1：移動できるか　ビット2：マスをオープンするか（ビット１をONにしないと無意味）　ビット3：入れないがオープンする場合に使用
;ビット4以降：自由枠。主に宝箱の開閉やイベント達成フラグなどに使用
IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:0:4") == 0
	SETVAR @"ダンジョン構造配列_%ダンジョン名%:0:4", 3
ENDIF

FOR 深度, 1, 100
	LOCAL = 0
	FOR 分岐, 0, 9
		IF GETVAR(@"ダンジョン構造配列_%ダンジョン名%:{深度}:{分岐}")
			;既にマス情報が入ってるなら飛ばす
			LOCAL = 1
			CONTINUE
		ELSEIF ENUMFUNCBEGINSWITH(@"ダンジョンマス情報_%ダンジョン名%_{深度}_{分岐}")
			LOCAL = 1
			SETVAR @"ダンジョン構造配列_%ダンジョン名%:深度:分岐", 1
		ENDIF
	NEXT
	IF LOCAL
		ダンジョン最大深度 = 深度
	ENDIF
NEXT


@敵討伐後処理_ダンジョン固有_名前を亡くした遺跡(討伐エネミー数)
;ダンジョン内で戦闘した後に呼ばれる関数、主にダンジョンごとのドロップアイテム取得に使用
;まだ敵データはリセットしていないので敵BATTLE_STATEで色々情報は取得可能
#DIM 討伐エネミー数
#DIM ドロップ確率
#DIMS ドロップアイテム

ドロップ確率 = 10 * 討伐エネミー数
ドロップアイテム = 荒野の石材
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 5 * 討伐エネミー数
ドロップアイテム = 星晶の破片
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

ドロップ確率 = 1 * 討伐エネミー数
ドロップアイテム = 赤銅の古紋
CALL ドロップ判定処理(ドロップ確率, ドロップアイテム)

;---------------------------------------------------------------------
;マップ構造
;---------------------------------------------------------------------
;四角形に配置された４つのマップを巡り、ミニイベをクリアしてゆぐゆぐの信頼度を稼ぐ
;稼ぎ終わったら最初のマップから隠された道が開き、ゆぐゆぐがいる場所に行けるようになる
;ボスは一番奥のマップにおり、ゆぐゆぐルートが開く前に接敵する
;---------------------------------------------------------------------
@ダンジョンマス情報_名前を亡くした遺跡_0_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 0
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "1_4")
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = %CALLNAME:PLAYER%は名前を亡くした遺跡へと足を踏み入れた。
			WSTR:(K++) = 星晶獣eraが言うには、ここには創世樹と呼ばれる星晶獣が暮らしているそうだ。
			WSTR:(K++) = 心優しいが社交的ではなく、信頼していない相手には姿を見せないのだとか。
			WSTR:(K++) = COLOR_FFD900_木々や動物を尊重し、大切に扱えば信用してもらえるかもしれない。
			WSTR:(K++) = 蒼の少女や星晶獣の友人に案内してもらう手はあるが、%CALLNAME:PLAYER%自身が認められなければロクに話も出来ないだろう。
			WSTR:(K++) = まずは正攻法で、この遺跡をぐるっと回ってみるとしよう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ELSE
			IF 最奥部出現フラグ_名前を亡くした遺跡
				KSTR:(K++) = 既に星晶獣の住処への道は開いている。
			ELSE
				KSTR:(K++) = この遺跡をぐるっと回ってみるとしよう。
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_1_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 1
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "2_4")
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 遺跡は古く、植物に侵食されて一部が崩れてさえいる。
			WSTR:(K++) = しかし手入れはされているのか瓦礫などは片付けられており、足場はしっかりとしているようだ。
			WSTR:(K++) = 周囲の魔力は土属性が色濃く出ている。住み着いている魔物も土属性が多いだろう。
			WSTR:(K++) = COLOR_FFD900_仲間には耳飾りを使って風属性になってもらうと有利に戦えそうだ。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ELSE
			KSTR:(K++) = 土属性の魔力が色濃い。魔物も土属性が多いだろう。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_2_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "3_1")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "3_2")
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 遺跡を進むと、巨大な人形のような彫刻が鎮座している。
			WSTR:(K++) = 比較的保存状態が良く、表面に細かいヒビがある以外に損傷は見当たらない。
			WSTR:(K++) = 岩肌を生かした荒削りなデザインは、今にも動き出しそうなほどに迫力がある。
			WSTR:(K++) = ……いや、実際に動き出している！　この彫刻は遺跡を守るゴーレムだ！
			CALL メッセージ欄表示用関数(,,,0)

			敵BATTLE_STATE_STR:3:エネミー名 = Lv9_ゴーレム
			CALL 雑魚敵遭遇汎用処理
			IF RESULT == 0
				;勝利時のみ先へ進む
				CALL 口上変数初期化
				WSTR:(K++) = 君たちはゴーレムを打倒した。
				WSTR:(K++) = しかし、打ち砕いた瓦礫は少しずつ集まり、元に戻ろうとしている。
				WSTR:(K++) = 恐らく周囲に魔力がある限り再生するのだろう。
				WSTR:(K++) = 君たちはゴーレムが再生するまでの隙に道を通り抜け、先へと進む。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 接続ルート全開放処理(マス深度, マス分岐)
			ENDIF
		ELSE
			KSTR:(K++) = 敵を探しますか？
			KSTR:(K++) = BUTTON_[はい]
			KSTR:(K++) = BUTTON_[いいえ]
			CALL メッセージ欄表示用関数(,,,0)
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[はい]"
					敵BATTLE_STATE_STR:3:エネミー名 = Lv10_ゴーレム
					CALL 雑魚敵遭遇汎用処理
				CASE "[いいえ]"
					CALL 口上変数初期化
				CASEELSE
					CLEARLINE 1
					GOTO LOOP_MESSAGE
			ENDSELECT
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_3_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 3
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_0")
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 遺跡の通路には時折壁画のようなものが描かれている。
			WSTR:(K++) = 恐ろしい怪物と、武器を持った人々が戦っているような絵柄だ。
			WSTR:(K++) = この遺跡は覇空戦争の頃に作られたと聞く。この壁画も戦争のことを描いているのだろう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ELSE
			KSTR:(K++) = 通路には壁画のようなものが描かれている。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_5_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
	CASE "接続先"
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 遺跡を進むと、倉庫のような場所に出た。
			WSTR:(K++) = めぼしい物は無く、ガラクタばかりが残されていたが……唯一価値のありそうな磁器の壺を見つける。
			WSTR:(K++) = 昔の時代に作られたアンティークであり、売れば１万ルピ程度にはなるだろう。
			WSTR:(K++) = しかし、壺の中にはリスのような動物が巣を作っていた。
			KSTR:(K++) = %CALLNAME:PLAYER%は……
			KSTR:(K++) = BUTTON_[リスを追い出して壺を持っていく]
			KSTR:(K++) = BUTTON_[巣があるならしょうがない。壺を諦める]
			CALL メッセージ欄表示用関数(,,,0)
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[リスを追い出して壺を持っていく]"
					CALL 口上変数初期化
					WSTR:(K++) = しっしっ、とリスを追い払って巣を壺から取り出し、軽く磨く。
					WSTR:(K++) = リゾート経営に金はいくらあっても困らない。帰ったらよろず屋経由で好事家に売ってもらおう。
					WSTR:(K++) = %CALLNAME:PLAYER%は10,000ルピを手に入れた！
					CALL メッセージ欄表示用関数(,,,0)
					MONEY += 10000
				CASE "[巣があるならしょうがない。壺を諦める]"
					CALL 口上変数初期化
					WSTR:(K++) = ルピは欲しいが、わざわざ巣を壊すほどではない。
					WSTR:(K++) = この壺はそっとしておこう。
					SETBIT ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4
					ゆぐゆぐ信頼度_名前を亡くした遺跡 += 10
					CALL メッセージ欄表示用関数(,,,0)
				CASEELSE
					CLEARLINE 1
					GOTO LOOP_MESSAGE
			ENDSELECT
			CALL 口上変数初期化
		ELSE
			IF GETBIT(ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4)
				;リスを見逃したルート
				KSTR:(K++) = 壺の中には小動物の巣がある。
			ELSE
				;壺を拾ったルート
				KSTR:(K++) = もう価値のありそうな物は何もない。
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_3_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 3
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_3")
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			WSTR:(K++) = 通路にはゴブリンの死体が転がっていた。
			WSTR:(K++) = 剣や盾で武装しており、この遺跡に住み着いている個体とは思えない。
			WSTR:(K++) = 障害が増えているのは面倒な状況だが、逆にゴブリンを叩き出せば星晶獣に恩を売れるかもしれない。
			WSTR:(K++) = 見かけたら倒していこう。
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ELSE
			KSTR:(K++) = ゴブリンの死体が転がっている。
		ENDIF
		CALL メッセージ欄表示用関数(,,,0)
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_5_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
		IF GETBIT(ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4)
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
		ELSE
			ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱
		ENDIF
	CASE "接続先"
	CASE "マスイベント"
		CALL 口上変数初期化
		IF GETBIT(ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4)
			;ポーション入手済み
			KSTR:(K++) = もう特に気になるものはない。
			CALL メッセージ欄表示用関数(,,,0)
		ELSEIF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 遺跡の壁際に、妙な植物が群生しているのを発見した。
			CALL 知識技能所持者検索("錬金知識", 1)
			LOCAL = RESULT
			IF LOCAL > -1
				WSTR:(K++) = %CALLNAME:LOCAL%は、その草はポーションの原料になると気づいた。
				WSTR:(K++) = 取り尽くさない程度に採取させてもらい、加工しよう。
				WSTR:(K++) = ポーションを３個手に入れた！
				SETBIT ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4
				CALL アイテム増減汎用処理("ポーション", 3)
			ELSE
				WSTR:(K++) = 見たことのない植物だし、毒があっても面倒だ。
				WSTR:(K++) = 気にせず先に進もう。
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ELSE
			KSTR:(K++) = 妙な植物が群生している。
			CALL 知識技能所持者検索("錬金知識", 1)
			LOCAL = RESULT
			IF LOCAL > -1
				WSTR:(K++) = %CALLNAME:LOCAL%は、その草はポーションの原料になると気づいた。
				WSTR:(K++) = 取り尽くさない程度に採取させてもらい、加工しよう。
				WSTR:(K++) = ポーションを３個手に入れた！
				SETBIT ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4
				CALL アイテム増減汎用処理("ポーション", 3)
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_7_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 7
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 遺跡は奥に進むほど原型を留めているようだ。
			WSTR:(K++) = ここからは魔物だけでなく、遺跡に仕掛けられた罠などにも気をつけた方がいいだろう。
			WSTR:(K++) = COLOR_FFD900_魔法知識_やCOLOR_FFD900_機械知識_があると安全に進めるかもしれない。
			WSTR:(K++) = あるいは、一度引っかかっても撤退して日を改めて進めばいい。慎重に進んでいこう。
			;移動直後はマスイベント発動しないので、移動先のルート開放をここで行う
			CALL 接続ルート全開放処理(8, 6)
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
		ENDIF
		ダンジョン現在位置:0 = 8
		ダンジョン現在位置:1 = 6
		;移動直後はマスイベント発動しないので、移動先のマス開放をここで行う
		CALL 踏破マス開放処理
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_4_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "6_3")
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 遺跡には時折キノコなども生えている。
			WSTR:(K++) = 食用になるものがないかと軽く探してみると、%CALLNAME:PLAYER%の背丈よりも大きなキノコを見つけた！
			WSTR:(K++) = キノコは動き出し、君たちに襲いかかってくる！
			CALL メッセージ欄表示用関数(,,,0)

			敵BATTLE_STATE_STR:0:エネミー名 = Lv9_マイコニド
			敵BATTLE_STATE_STR:2:エネミー名 = Lv9_マイコニド
			CALL 雑魚敵遭遇汎用処理
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 敵を探しますか？
			KSTR:(K++) = BUTTON_[はい]
			KSTR:(K++) = BUTTON_[いいえ]
			CALL メッセージ欄表示用関数(,,,0)
			$LOOP_MESSAGE
			INPUTS
			SELECTCASE RESULTS
				CASE "[はい]"
					敵BATTLE_STATE_STR:0:エネミー名 = Lv9_マイコニド
					敵BATTLE_STATE_STR:2:エネミー名 = Lv9_マイコニド
					CALL 雑魚敵遭遇汎用処理
				CASE "[いいえ]"
					CALL 口上変数初期化
				CASEELSE
					CLEARLINE 1
					GOTO LOOP_MESSAGE
			ENDSELECT
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_6_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 6
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 床_遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "7_1")
	CASE "マスイベント"
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = また覇空戦争の頃の壁画を見つけた。
			WSTR:(K++) = 整備して見学出来るようにすれば、良い観光資源になりそうだが……
			WSTR:(K++) = わざわざ星晶獣の住処をそうするのもリスクが高い。
			WSTR:(K++) = 大人しく探索に戻るとしよう。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 覇空戦争の頃の壁画が並んでいる。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT



@ダンジョンマス情報_名前を亡くした遺跡_2_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		SIF GETBIT(ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4) == 0
			ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "7_4")
	CASE "マスイベント"
		;奥へと続く扉
		CALL 口上変数初期化
		IF GETBIT(ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4)
			;既に扉が開いている
			KSTR:(K++) = 巨大な扉は既に開いている。
			CALL メッセージ欄表示用関数(,,,0)
		ELSEIF ゴブリンのボスを倒したら
			IF 初来訪マス判定用フラグ
				;最初に訪れた時
				WSTR:(K++) = 眼の前には巨大な扉が鎮座している。
				WSTR:(K++) = 扉に触れると、音も立てずひとりでに開いた。
				WSTR:(K++) = まるで奥へと導かれているようだ。先に進んでみよう。
			ELSE
				WSTR:(K++) = 閉じられていた扉に触れると、音も立てずひとりでに開いた。
			ENDIF
			WSTR:(K++) = まるで奥へと導かれているようだ。先に進んでみよう。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
			SETBIT ダンジョン構造配列_名前を亡くした遺跡:マス深度:マス分岐, 4
		ELSE
			IF 初来訪マス判定用フラグ
				;最初に訪れた時
				WSTR:(K++) = 眼の前には巨大な扉が鎮座している。
				WSTR:(K++) = 押しても引いても開きそうにない。何か仕掛けがあるのだろうか。
				WSTR:(K++) = 別の場所を先に探索しよう。
				CALL メッセージ欄表示用関数(,,,0)
				CALL 口上変数初期化
			ELSE
				KSTR:(K++) = 巨大な扉は開きそうにない。
				CALL メッセージ欄表示用関数(,,,0)
			ENDIF
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_2_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 2
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "3_7")
	CASE "マスイベント"
		;こっちは過去に遺跡作った人たちの居住区画
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 他よりも少し狭く作られた道を進む。
			WSTR:(K++) = 石の寝台らしき物が置かれた部屋が幾つか並んでいた。
			WSTR:(K++) = 遺跡に住んでいた住民の生活スペースだったのだろうか。
			WSTR:(K++) = 少し見回ってみたが、既に何者かに荒らされていてめぼしいものは何も無いようだ。
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 遺跡に住んでいた住民の生活スペースのようだ。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_3_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 3
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "4_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_7")
	CASE "マスイベント"
		;ゴブリンいるぞー話
		CALL 口上変数初期化
		IF 初来訪マス判定用フラグ
			;最初に訪れた時
			WSTR:(K++) = 奥に進むにつれ、遺跡の壁に真新しい傷のようなものが多くなってきた。
			CALL 知識技能所持者検索("魔物知識", 1)
			LOCAL = RESULT
			IF LOCAL > -1
				WSTR:(K++) = ……！
				WSTR:(K++) = %CALLNAME:LOCAL%はこの傷は、ゴブリンが縄張りを主張する時の傷に似ていると看破した。
				WSTR:(K++) = 改めて周囲を警戒すると、近くにゴブリンが屯している姿を見つける。
				WSTR:(K++) = %CALLNAME:PLAYER%たちは先手を打って奇襲し、被害なくゴブリンたちを退けることが出来た！_PAGE
				WSTR:(K++) = ゴブリンたちは何やら宝石のようなものを持っていたようだ。
				WSTR:(K++) = %CALLNAME:PLAYER%たちは渦琥珀を手に入れた。
			ELSE
				WSTR:(K++) = %CALLNAME:PLAYER%は持ってきたたいまつに火を付けた。
			ENDIF
			CALL メッセージ欄表示用関数(,,,0)
			CALL 口上変数初期化
			CALL 接続ルート全開放処理(マス深度, マス分岐)
		ELSE
			KSTR:(K++) = 遺跡に住んでいた住民の生活スペースのようだ。
			CALL メッセージ欄表示用関数(,,,0)
		ENDIF
		CALL 画面再描画
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_4_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 4
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "5_5")
	CASE "マスイベント"
		;遺跡の石材置き場
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_5_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		;砕けた石材に混じって宝石が落ちてる
;1万ルピ
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_5_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 5
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "6_8")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "6_6")
	CASE "マスイベント"
		;ゴブリン部隊
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_6_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 6
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
	CASE "マスイベント"
		;えっちイベ
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_6_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 6
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;25-0へ
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_7_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 7
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;33-4へ
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_8_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 8
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "9_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_6")
	CASE "マスイベント"
		;7_1へ
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_9_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 9
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_3")
	CASE "マスイベント"
		;エネミー
;ゴブリン
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_10_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_0")
	CASE "マスイベント"
		;りんごの木
;プレゼントアイテムりんご入手
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_10_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "12_3")
	CASE "マスイベント"
		;罠、機械知識
;HPダメージ
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_10_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 10
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "11_7")
	CASE "マスイベント"
		;分かれ道、イベントなし
;壁画
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_11_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 11
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_5")
	CASE "マスイベント"
		;エネミー
;ゴブリン部隊
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_11_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 11
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_7")
	CASE "マスイベント"
		;罠、魔法知識
;MPダメージ

ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_12_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		;ゆぐゆぐ好感度イベント
;小鳥を巣に戻す
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_12_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "10_1")
	CASE "マスイベント"
		;遺跡の穴からちょっと外に出る感じ
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_12_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 12
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_3")
	CASE "マスイベント"
		;壁画、eraに似てる絵があるきがする

ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_13_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "15_3")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "15_5")
	CASE "マスイベント"
		;分かれ道
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_13_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "13_6")
	CASE "マスイベント"
		;なんもない通路
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_13_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		;回復の泉
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_13_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 13
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		;魔石の鉱脈
;魔石3個
ENDSELECT



@ダンジョンマス情報_名前を亡くした遺跡_15_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 15
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		;戦わなくてもいい強敵
;Lv20くらいを想定
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_15_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 15
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
	CASE "マスイベント"
		;16-0へ
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_16_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 16
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_1")
	CASE "マスイベント"
		
;15-5へ
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_16_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 16
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
	CASE "マスイベント"
		;31-1へ
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_17_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 17
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "17_5")
	CASE "マスイベント"
		;ゴブリン拠点発見、潰す場合は連戦
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_17_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 17
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		;ゴブリンの物資
;どっかから奪ってきた指輪と耳飾り発見
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_18_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_0")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "19_2")
	CASE "マスイベント"
		;分かれ道
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_18_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		;瓦礫に潰されて上手く動けないゴーレム
;助けてあげるとゆぐゆぐ好感度＋
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_18_7(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 18
マス分岐 = 7

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "16_8")
	CASE "マスイベント"
		;ゴブリンの死体とゴーレムの破片
;罠、魔物知識
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_19_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 19
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "20_4")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "17_4")
	CASE "マスイベント"
		;ゴブリン
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_19_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 19
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "21_8")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "18_7")
	CASE "マスイベント"
		;ゴブリン部隊
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_20_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		;ゴブリンの死体と
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_20_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 20
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "21_5")
	CASE "マスイベント"
		;ゴブリンとマイコニドが戦っている
;奇襲すれば全滅出来る
;ゴブリンだけ倒すとマイコニドからお礼のきのこがもらえる
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_21_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 21
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "22_5")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "19_6")
	CASE "マスイベント"
		;強敵がいるけど行く？みたいな前フリとザコ敵
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_21_8(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 21
マス分岐 = 8

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
	CASE "マスイベント"
		;壁画発見
;貴重だけど役には立たないなみたいな
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_22_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 22
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン_赤
	CASE "接続先"
	CASE "マスイベント"
		;ゴブリンエリートと取り巻き
ENDSELECT




@ダンジョンマス情報_名前を亡くした遺跡_25_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 25
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_1")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "26_3")
	CASE "マスイベント"
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_26_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_1")
	CASE "マスイベント"
		;ゴブリン部隊
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_26_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 26
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_5")
	CASE "マスイベント"
		;
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_27_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "27_2")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_0")
	CASE "マスイベント"
		;
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_27_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_3")
	CASE "マスイベント"
		;罠、魔法知識
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_27_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 27
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "28_6")
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_5")
	CASE "マスイベント"
		;ゴブリン部隊
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_28_3(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 3

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_2")
	CASE "マスイベント"
		;
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_28_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 28
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "29_6")
	CASE "マスイベント"
		;鍵が掛かってる
;機械知識か魔法知識で解錠可能
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_29_0(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 0

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = エネミーアイコン
	CASE "接続先"
	CASE "マスイベント"
		
;ゴブリン部隊に襲われる獣たち
;倒すとゆぐゆぐ好感度UP
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_29_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		;向こう側になんかあるけどこっから行けないなー的な
;30-2を表示だけする
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_29_5(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 5

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		;プレゼントアイテム宝石ランク１
ENDSELECT

@ダンジョンマス情報_名前を亡くした遺跡_29_6(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 29
マス分岐 = 6

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 会話アイコン
	CASE "接続先"
	CASE "マスイベント"
		;フィーナとミニゴブ登場

ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_30_2(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 30
マス分岐 = 2

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 宝箱アイコン_木箱_開
	CASE "接続先"
	CASE "マスイベント"
		;
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_31_1(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 31
マス分岐 = 1

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 右アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "30_2")
	CASE "マスイベント"
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_33_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 33
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
		ダンジョンマス画像URL_重ね表示 = 左アイコン
	CASE "接続先"
		CALL ダンジョン分岐線描画(@"{マス深度}_{マス分岐}", "36_4")
	CASE "マスイベント"
		;7-4へ
ENDSELECT


@ダンジョンマス情報_名前を亡くした遺跡_36_4(ARGS)
#DIM マス深度
#DIM マス分岐
マス深度 = 36
マス分岐 = 4

SELECTCASE ARGS
	CASE "マス画像"
		ダンジョンマス画像URL = 名前を亡くした遺跡
	CASE "接続先"
	CASE "マスイベント"
		;ゆぐゆぐ救出、ダンジョンクリア
ENDSELECT

