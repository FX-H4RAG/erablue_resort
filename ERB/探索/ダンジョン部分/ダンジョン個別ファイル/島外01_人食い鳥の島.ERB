

@ダンジョン初期処理_人食い鳥の島
;ダンジョン構造の読み込み
;0でない時、そのマスは存在する
#DIM 深度
#DIM 分岐

ダンジョンマス画像URL_伏せ状態 = 壁_岩
ダンジョン現在位置:0 = 0
ダンジョン現在位置:1 = 0

;スタート地点は必ず存在し、同深度に分岐無し
;初期からオープン済みなので3を入れる
;ビット0：存在するか　ビット1：移動できるか　ビット2：マスをオープンするか（ビット１をONにしないと無意味）　ビット3：入れないがオープンする場合に使用
;ビット4以降：自由枠。主に宝箱の開閉やイベント達成フラグなどに使用
IF ダンジョン構造配列_人食い鳥の島:0:0 == 0
	ダンジョン構造配列_人食い鳥の島:0:0 = 3
ENDIF

FOR 深度, 1, 100
	LOCAL = 0
	FOR 分岐, 0, 9
		IF ダンジョン構造配列_人食い鳥の島:深度:分岐
			;既にマス情報が入ってるなら飛ばす
			LOCAL = 1
			CONTINUE
		ELSEIF ENUMFUNCBEGINSWITH(@"ダンジョンマス情報_人食い鳥の島_{深度}_{分岐}")
			LOCAL = 1
			ダンジョン構造配列_人食い鳥の島:深度:分岐 = 1
		ENDIF
	NEXT
	IF LOCAL
		ダンジョン最大深度 = 深度
	ENDIF
NEXT
