
@奥義名呼び出し(ARG)
TSTR:コマンド名受渡 = 
TRYCCALLFORM 固有奥義_{NO:ARG}("奥義名", ARG)
CATCH
	TRYCCALLFORM 奥義名補正_%DT_CELL_GETS("所持耳飾りデータベース", 装備ステータス補正保存:ARG:装備耳飾り番号, "奥義名補正"), 26, LEFT%
	CATCH
		TRYCALLFORM 汎用奥義_%得意武器数値文字列変換(基礎BATTLE_STATE:ARG:得意武器)%("奥義名")
	ENDCATCH
ENDCATCH

@奥義威力呼び出し(ARG, バフ無しフラグ = 0)
#DIM 奥義威力計算値
#DIM バフ無しフラグ

TRYCCALLFORM 固有奥義_{NO:ARG}("奥義説明文", ARG)
	奥義威力計算値 = RESULT
	SIF RESULT == 0
		RETURN 0
CATCH
	奥義威力計算値 = 300
ENDCATCH

RESULT = 0
IF STRCOUNT(DT_CELL_GETS("所持耳飾りデータベース", 装備ステータス補正保存:ARG:装備耳飾り番号, "奥義補正"), "奥義威力")
	CALLFORM 奥義威力_効果量_%DT_CELL_GETS("所持耳飾りデータベース", 装備ステータス補正保存:ARG:装備耳飾り番号, "耳飾り名")%
	奥義威力計算値 += RESULT
ENDIF

IF バフ無しフラグ
	RESULT = 0
ELSE
	CALL バフ・デバフ測定(隊列算出_味方(ARG), "奥義ダメージ補正_割合")
ENDIF

奥義威力計算値 = 奥義威力計算値 * (RESULT + 100) / 100
IF 奥義威力計算値 > 0 && バフ無しフラグ == 0
	CALL バフ・デバフ測定(隊列算出_味方(ARG), "奥義ダメージ補正_固定値")
	奥義威力計算値 = 奥義威力計算値 + RESULT
ENDIF
RETURN 奥義威力計算値

@奥義追加効果呼び出し(ARG)
VARSET LOCALS

CALL アビ汎用変数文字列リセット
TRYCALLFORM 固有奥義_{NO:ARG}("奥義追加効果", ARG)
SPLIT DT_CELL_GETS("所持耳飾りデータベース", 装備ステータス補正保存:ARG:装備耳飾り番号, "奥義補正"), "_", LOCALS
FOR LOCAL, 0, 10
	DEBUGPRINTFORML %LOCALS:LOCAL%
	SIF LOCALS:LOCAL == ""
		BREAK
	SIF LOCALS:LOCAL == "奥義威力"
		CONTINUE
	CALL アビ汎用変数文字列リセット
	TRYCALLFORM 奥義補正処理関数_%LOCALS:LOCAL%_%DT_CELL_GETS("所持耳飾りデータベース", 装備ステータス補正保存:ARG:装備耳飾り番号, "耳飾り名")%
NEXT


@汎用奥義_剣(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = ワイドブレード
ENDSELECT

@汎用奥義_短剣(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = ファストスライサー
ENDSELECT

@汎用奥義_槍(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = トゥルースラスト
ENDSELECT

@汎用奥義_斧(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = パワースウィング
ENDSELECT

@汎用奥義_杖(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = バニッシュ
ENDSELECT

@汎用奥義_銃(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = スリーバースト
ENDSELECT

@汎用奥義_格闘(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = 正拳突き
ENDSELECT

@汎用奥義_弓(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = ストレートショット
ENDSELECT

@汎用奥義_楽器(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = ペインメロディ
ENDSELECT

@汎用奥義_刀(ARGS)

SELECTCASE ARGS
	CASE "奥義名"
		TSTR:コマンド名受渡 = 一文字斬り
ENDSELECT

