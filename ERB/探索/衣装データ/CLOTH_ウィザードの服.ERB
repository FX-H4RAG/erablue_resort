@衣装関数_ウィザードの服(処理モード)
#DIMS 処理モード
LOCALS = 

SELECTCASE 処理モード
	CASE "衣装種別"
		衣装関連文字列受け渡し = 通常衣装
	CASE "フレーバー"
		LOCALS += "敵をまとめて攻撃する魔術師の服。<br>"
		LOCALS += "全体攻撃や縦列攻撃など範囲魔法が得意。また毒を扱うことも可能。<br>"
		LOCALS += "着ると頭が良くなったような気がする。気がするだけ。<br>"
		詳細文文字列受け渡し変数 = %LOCALS%
ENDSELECT

@CLOTHES_CHANGE_ウィザードの服(対象キャラ)
#DIM 対象キャラ

;一個前の服装を保持
SIF CSTR:対象キャラ:着せ替え服 != "ウィザードの服"
	CSTR:対象キャラ:脱ぐ前の服 = %CSTR:対象キャラ:着せ替え服%

CSTR:対象キャラ:着せ替え服 = ウィザードの服
CSTR:対象キャラ:着せ替え服追加名 = 
TEQUIP:対象キャラ:上半身鎧あり = 0
TEQUIP:対象キャラ:上半身服あり = 1
TEQUIP:対象キャラ:脇出し = 0
TEQUIP:対象キャラ:へそ出し = 0
TEQUIP:対象キャラ:はだけ可 = 0
TEQUIP:対象キャラ:手差し込み可 = 0
TEQUIP:対象キャラ:パイズリ可 = 0
TEQUIP:対象キャラ:上タイツあり = 0
TEQUIP:対象キャラ:上半身下着あり = 1
TEQUIP:対象キャラ:上半身下着抜き取り可 = 0
TEQUIP:対象キャラ:下腹部後鎧あり = 0
TEQUIP:対象キャラ:下腹部前鎧あり = 0
TEQUIP:対象キャラ:下半身服あり = 1
TEQUIP:対象キャラ:スカートめくり可 = 0
TEQUIP:対象キャラ:ずらし可 = 0
TEQUIP:対象キャラ:下タイツあり = 0
TEQUIP:対象キャラ:下半身下着あり = 1
TEQUIP:対象キャラ:下半身下着抜き取り可 = 0
TEQUIP:対象キャラ:上下一体服 = 0
TEQUIP:対象キャラ:上下一体タイツ = 0
TEQUIP:対象キャラ:上タイツ破れ = 0
TEQUIP:対象キャラ:下タイツ破れ = 0

@衣装アビ関数_ウィザードの服_1(処理モード, 対象キャラ)
#DIM 対象キャラ
#DIMS 処理モード
#DIM 消費ＭＰ = 35
LOCALS = 

SELECTCASE 処理モード
	CASE "アビ名"
		TSTR:コマンド名受渡 = エーテルブラスト
	CASE "アビ説明文"
		LOCALS += "■エーテルブラスト<br>"
		LOCALS += @"　消費MP：{消費ＭＰ}<br>"
		LOCALS += "　効果：敵全体に自属性の［攻撃力✕100％］ダメージを与える。"
		詳細文文字列受け渡し変数 = %LOCALS%
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵全体_生者のみ
		アビ汎用変数:効果割合 = 100
		CALL アビテンプレート_ダメージ処理_自属性
ENDSELECT

@衣装アビ関数_ウィザードの服_2(処理モード, 対象キャラ)
#DIM 対象キャラ
#DIMS 処理モード
#DIM 消費ＭＰ = 25
LOCALS = 

SELECTCASE 処理モード
	CASE "アビ名"
		IF 基礎BATTLE_STATE:対象キャラ:得意武器 == 得意武器文字列数値変換("短剣")
			TSTR:コマンド名受渡 = ポイズン
		ELSEIF 基礎BATTLE_STATE:対象キャラ:ステータスタイプ保存 == タイプ文字列数値変換("サポート")
			TSTR:コマンド名受渡 = ポイズン
		ENDIF
	CASE "アビ説明文"
		LOCALS += "■ポイズン（装備者が短剣得意orサポートタイプの時）<br>"
		LOCALS += @"　消費MP：{消費ＭＰ}<br>"
		LOCALS += "　効果：敵単体に闇属性の［攻撃力✕180％］ダメージを与える。<br>"
		LOCALS += "　　　　攻撃後、３ターン毒[50]効果を与える。基礎成功率50％。"
		詳細文文字列受け渡し変数 = %LOCALS%
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵単体
		アビ汎用変数:効果割合 = 180
		CALL アビテンプレート_ダメージ処理_闇属性
		アビ汎用文字列:バフ・デバフ枠 = 毒
		アビ汎用文字列:バフ・デバフ対象能力 = 毒
		アビ汎用変数:効果量 = 50
		アビ汎用変数:効果割合 = 0
		アビ汎用変数:持続ターン = 3
		アビ汎用変数:基礎成功確率 = 50
		CALL アビテンプレート_不利効果_デバフ効果セット
ENDSELECT

@衣装アビ関数_ウィザードの服_3(処理モード, 対象キャラ)
#DIM 対象キャラ
#DIMS 処理モード
#DIM 消費ＭＰ = 35
LOCALS = 

SELECTCASE 処理モード
	CASE "アビ名"
		IF 基礎BATTLE_STATE:対象キャラ:得意武器 == 得意武器文字列数値変換("杖")
			TSTR:コマンド名受渡 = メガファイア
		ELSEIF 基礎BATTLE_STATE:対象キャラ:ステータスタイプ保存 == タイプ文字列数値変換("攻撃")
			TSTR:コマンド名受渡 = メガファイア
		ENDIF
	CASE "アビ説明文"
		LOCALS += "■メガファイア（装備者が杖得意or攻撃タイプの時）<br>"
		LOCALS += @"　消費MP：{消費ＭＰ}<br>"
		LOCALS += "　効果：敵縦列に火属性の［攻撃力✕150％］ダメージを与える。"
		詳細文文字列受け渡し変数 = %LOCALS%
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_敵縦列
		アビ汎用変数:効果割合 = 150
		CALL アビテンプレート_ダメージ処理_火属性
ENDSELECT


