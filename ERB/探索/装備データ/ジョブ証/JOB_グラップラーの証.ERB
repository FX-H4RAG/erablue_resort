@証関数_グラップラーの証(処理モード)
#DIMS 処理モード

SELECTCASE 処理モード
	CASE "ジョブ証種別"
		証関連文字列受け渡し = 通常ジョブ
	CASE "証名"
		TSTR:コマンド名受渡 = グラップラーの証
	CASE "フレーバー"
		詳細文文字列受け渡し変数 '= "武器を捨て己が肉体のみを磨く格闘家の証。<br>"
		詳細文文字列受け渡し変数 += "その道は長く険しいため、志す者は非常に少ない。<br>"
		詳細文文字列受け渡し変数 += "装備すると、武道の心に触れられる気がする。<br>"
ENDSELECT

@証出現率_グラップラーの証(入手タイプ, 装備ランク)
#DIMS 入手タイプ
#DIM 装備ランク

SIF 装備ランク < 2
	RETURN 0
SELECTCASE 入手タイプ
	CASE "輸入"
		RETURN 装備レアリティ_Ｎ
ENDSELECT

@証アビ関数_グラップラーの証_1(処理モード, 対象キャラ)
#DIM 対象キャラ
#DIMS 処理モード
#DIM LEVEL
#DIM CONST 消費ＭＰ = 20
LEVEL = GET_JOBSKILL_LEVEL(対象キャラ)

SELECTCASE 処理モード
	CASE "アビ名"
		TSTR:コマンド名受渡 = 捨身の型
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 '= "■捨身の型<br>"
		詳細文文字列受け渡し変数 += @"　消費ＭＰ：{消費ＭＰ}<br>"
		詳細文文字列受け渡し変数 += "　効果：自身の攻撃力を5ターン［50％/A枠］増加させる。<br>"
		詳細文文字列受け渡し変数 += "　　　　自身の防御力を5ターン［20％/A枠］減少させる。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力A
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:効果割合 = 50
		アビ汎用変数:持続ターン = 5
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 防御力A
		アビ汎用文字列:バフ・デバフ対象能力 = 防御力
		アビ汎用変数:効果割合 = 20
		アビ汎用変数:持続ターン = 5
		アビ汎用変数:弱体耐性貫通オプション = 1
		CALL アビテンプレート_不利効果_デバフ効果セット
ENDSELECT

@証アビ関数_グラップラーの証_2(処理モード, 対象キャラ)
#DIM 対象キャラ
#DIMS 処理モード
#DIM LEVEL
#DIM CONST 消費ＭＰ = 20
LEVEL = GET_JOBSKILL_LEVEL(対象キャラ)

SELECTCASE 処理モード
	CASE "アビ名"
		IF 得意武器判定(対象キャラ, "格闘")
			TSTR:コマンド名受渡 = カウンター
		ELSEIF 基礎BATTLE_STATE:対象キャラ:ステータスタイプ保存 == タイプ文字列数値変換("回避")
			TSTR:コマンド名受渡 = カウンター
		ENDIF
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 '= "■カウンター（装備者が格闘得意or回避タイプの時）<br>"
		詳細文文字列受け渡し変数 += @"　消費ＭＰ：{消費ＭＰ}<br>"
		詳細文文字列受け渡し変数 += "　効果：自身の回避率を攻撃を3回受けるまで［+100％/A枠］する。<br>"
		詳細文文字列受け渡し変数 += "　　　　自身に3回の回避時反撃［攻撃力✕100％］効果を与える。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 回避率A
		アビ汎用文字列:バフ・デバフ対象能力 = 回避率
		アビ汎用変数:効果量 = 100
		アビ汎用変数:持続回数 = 3
		CALL アビテンプレート_有利効果_バフ効果セット

		CALL アビ汎用変数文字列リセット
		アビ汎用文字列:バフ・デバフ枠 = 回避反撃
		アビ汎用文字列:バフ・デバフ対象能力 = 回避反撃
		アビ汎用変数:効果割合 = 100
		アビ汎用変数:持続回数 = 3
		CALL アビテンプレート_有利効果_バフ効果セット
ENDSELECT

@証アビ関数_グラップラーの証_3(処理モード, 対象キャラ)
#DIM 対象キャラ
#DIMS 処理モード
#DIM LEVEL
#DIM CONST 消費ＭＰ = 25
LEVEL = GET_JOBSKILL_LEVEL(対象キャラ)

SELECTCASE 処理モード
	CASE "アビ名"
		IF 得意武器判定(対象キャラ, "格闘")
			TSTR:コマンド名受渡 = 練気
		ELSEIF 基礎BATTLE_STATE:対象キャラ:ステータスタイプ保存 == タイプ文字列数値変換("連撃")
			TSTR:コマンド名受渡 = 練気
		ENDIF
	CASE "アビ説明文"
		詳細文文字列受け渡し変数 '= "■練気（装備者が格闘得意or連撃タイプの時）<br>"
		詳細文文字列受け渡し変数 += @"　消費ＭＰ：{消費ＭＰ}<br>"
		詳細文文字列受け渡し変数 += "　効果：自身の攻撃力を5ターン［10％/独自枠］増加させる。<br>"
		詳細文文字列受け渡し変数 += "　　　　この攻撃力増加は［50％］まで累積できる。"
		RETURN 消費ＭＰ
	CASE "アビ効果"
		CALL アビ対象選択テンプレート_自己のみ
		アビ汎用文字列:バフ・デバフ枠 = 攻撃力_練気
		アビ汎用文字列:バフ・デバフ対象能力 = 攻撃力
		アビ汎用変数:効果割合 = 10
		アビ汎用変数:累積上限_割合 = 50
		アビ汎用変数:持続ターン = 5
		CALL アビテンプレート_有利効果_累積バフ効果セット
ENDSELECT
