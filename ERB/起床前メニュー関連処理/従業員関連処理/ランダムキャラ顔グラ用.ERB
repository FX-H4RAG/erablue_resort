
;CALLNAMEを使ってHASH値をつくる
@NAMEHASH(C_NAME, DIVISOR)
#FUNCTION
#DIMS C_NAME
#DIM DIVISOR
#DIM 文字位置カウンタ
#DIM HASH

HASH = 0
FOR 文字位置カウンタ, 0, STRLENSU(C_NAME)
	HASH ^= ENCODETOUNI(C_NAME, 文字位置カウンタ)
NEXT
RETURNF HASH % DIVISOR + 1

; @ランダムキャラ汎用顔グラ(キャラ番号)
; #DIM キャラ番号
; #DIM 体格種別
; #DIM バスト種別

; ;男性用はない
; SIF TALENT:キャラ番号:性別 == 2
; 	RETURN

; SELECTCASE TALENT:キャラ番号:種族
; 	CASE 1
; 		体格種別 = (TALENT:キャラ番号:体格 <= -2) ? 0 # 1
; 		SELECTCASE TALENT:キャラ番号:バストサイズ
; 			CASE -2
; 				バスト種別 = 0
; 			CASE -1, 0
; 				バスト種別 = 1
; 			CASE 1
; 				バスト種別 = 2
; 			CASE 2, 3
; 				バスト種別 = 3
; 		ENDSELECT
; 		LOCALS = ヒューマン{NAMEHASH(キャラ番号, 3)}_{体格種別}_{バスト種別}
; 	CASE 2
; 		体格種別 = (TALENT:キャラ番号:体格 <= -2) ? 0 # 1
; 		SELECTCASE TALENT:キャラ番号:バストサイズ
; 			CASE -2
; 				バスト種別 = 0
; 			CASE -1, 0
; 				バスト種別 = 1
; 			CASE 1
; 				バスト種別 = 2
; 			CASE 2, 3
; 				バスト種別 = 3
; 		ENDSELECT
; 		LOCALS = エルーン{NAMEHASH(キャラ番号, 3)}_{体格種別}_{バスト種別}
; 	CASE 3
; 		体格種別 = (TALENT:キャラ番号:体格 <= -2) ? 0 # 1
; 		バスト種別 = (TALENT:キャラ番号:バストサイズ <= 2) ? 3 # 4
; 		LOCALS = ドラフ{NAMEHASH(キャラ番号, 3)}_{体格種別}_{バスト種別}
; 	CASE 4
; 		体格種別 = 0
; 		バスト種別 = 0
; 		LOCALS = ハーヴィン{NAMEHASH(キャラ番号, 3)}_{体格種別}_{バスト種別}
; ENDSELECT




