
@性癖取得チェック(キャラ番号)
#DIM キャラ番号
#DIM 取得性癖番号
#DIM 候補性癖数
#DIMS 性癖名取得, 2
;起床前メニュー関連じゃないが、性癖関連をひとまとめにするためこのフォルダに置いている

候補性癖数 = ENUMFUNCBEGINSWITH("自動取得性癖_")
FOR 取得性癖番号, 0, 候補性癖数
	CALLFORM %RESULTS:取得性癖番号%(キャラ番号)
	IF RESULT
		SPLIT RESULTS:取得性癖番号, "_", 性癖名取得
		TRYCALLFORM KOJO_性癖開拓_%性癖名取得:1%_{NO:キャラ番号}(2)
		DRAWLINE
	ENDIF
NEXT


@自動取得性癖_精飲中毒(キャラ番号)
#DIM キャラ番号

;既に取得してるとダメ
SIF 性癖素質:キャラ番号:精飲中毒
	RETURN 0
;経験が足りないとダメ
SIF EXP:キャラ番号:精飲快楽経験 < 100
	RETURN 0

性癖素質:キャラ番号:精飲中毒 = 1

;取得メッセージ
DRAWLINE
PRINTFORML %CALLNAME:キャラ番号%の様子がおかしい……
PRINTL どうやら精液を飲むと、反射的に絶頂する身体になってしまったようだ。
PRINTL 
PRINTFORML %CALLNAME:キャラ番号%は性癖素質[精飲中毒]を取得した
PRINTL

RETURN 1
