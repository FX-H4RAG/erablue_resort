### 24/11/19  
* 一言コメント/解説エディタを実装  
> キャラの追加速度が著しく、どんどん充実していっているが
> どんなキャラか分からないままじゃ魅力も半減だと思うので  
> 比較的お手軽に解説を書けるようにしてみました。途中セーブ＆ロード対応。  
> KSTRで使われる特殊構文のうちよく使われれると思われるあたりの入力補助もあります。  
> 同じERBファイルに記述されているので、一言コメントもついでに加筆できるようにしてあります。  
* CSVエディタ改修  
> 左カラムが一杯一杯だったので全体的に高さをかさ増し  
> それでも素質経験があふれる既存キャラ居たので折りたたみ機能を実装  
> 各項目の表示箇所を整理  
> 知識設定など、分かりにくいところにツールチップで解説追加  
> CSVコピー機能のページ送り機能拡張、フィルタ機能追加  
* 素質：長命者の処理を外見年齢としてのみの使用に変更
> 長くなるので下記参照

<details><summary>「素質:長命者」について</summary>  

> 現状、ERBに記載があるのは
> |ファイル名　|記載内容|個別改修|  
> |:-------|:--|--:|  
> |バージョンアップ関連\VERUP_42.ERB|バージョンアップにより格納されている数値の変更に伴う処理|不要|  
> |リゾートマップ\お祭りリスト\FESTIVAL_クリスマスパーティ.ERB|衣装変更の条件式に外見年齢として使用|不要|  
> |リゾートマップ\お祭りリスト\FESTIVAL_七夕祭り.ERB|衣装変更の条件式に外見年齢として使用|不要|  
> |起床前メニュー関連処理\ZPショップ関連\SHOP_ZP関連_EXキャラ.ERB|@GET_TEXT_年齢()にてGET_年齢文字列()の引数に使用。ただし@GET_年齢文字列()は呼び出し元が存在しない|完了|  
> ||GET_年齢文字列()の処理変更に伴い、引数を変更||  
> |起床前メニュー関連処理\ZPショップ関連\ZPSHOP_キャラ素質.ERB|@ZP_SHOP_種族特徴変換()にてランダム体格()の引数に使用|不要|  
> |起床前メニュー関連処理\ZPショップ関連\ZPSHOP_子供成長.ERB|@子供成長処理()にて無条件で0を代入。おそらく親から引き継いだ場合のリセット処理|不要|  
> |起床前メニュー関連処理\従業員関連処理\従業員素質指定雇用.ERB|従業員雇用時に外見年齢として使用|不要|  
> |起床前メニュー関連処理\CSV個別更新処理.ERB|@肉体情報比較処理()及び@影響低い部分まとめて適用()にてCSVと異なる場合CSVから引用し設定|不要|  
> |PRINT_STATE_TALENT表示関連.ERB|@GET_年齢文字列()にて主にロリババア判定に使用。どのみち「年齢：長命者（若い）」とかって日本語として非常に分かりにくいので変更すべきだったかと。<br>@キャラ見た目年齢()にて外見年齢として使用|完了|  
> ||PRINT_STATE_BASE()の該当箇所の変更に合わせて書式変更||
> |PRINT_STATE.ERB|GET_年齢文字列()の引数に使用|完了|  
> ||年齢の表記方法を変更。「年齢：特殊年齢」「年齢：XX歳」「年齢：若い」「外見：ロリババア」「外見：成人（実年齢：XXX歳）」「外見：若い（実年齢：老年）」の6パターン。||
> |起床前メニュー関連処理\従業員関連処理\従業員雇用.ERB|GET_年齢文字列()、ランダム体格()、ランダム交際経験()の引数として使用|完了|  
> ||ランダムキャラ素質.ERBの各関数にて対応。<br>@従業員雇用()からしか呼び出してないので実年齢＜外見年齢のケースは発生しないため気にしないでOK||
> |起床前メニュー関連処理\従業員関連処理\ランダムキャラ素質.ERB||完了|  
> |@ランダム年齢()にて各0.5％の割合で外見：大人な年齢層：老年orロリババアが設定される。<br>@ランダム交際経験()にて長命者>0の場合問答無用で高年齢扱い。<br>@ランダム体格()にてロリババア判定時体格=-2で固定される（見た目年齢が「幼い」でも長命者フラグがない場合は-2～0と幅がある）<br>@体格_平均()にてロリババア判定時体格=-2固定（子供成長時の体格計算に使用）|||  
> |@ランダム体格()、@体格_平均()はロリババア判定の条件式をきっちりと設定。他の関数は従業員雇用()からしか呼び出されていないので、実年齢＜外見年齢のケースを考慮しなくていいのでそのまま|||  
> |ついでに極稀に亜人や星晶獣がバイトに応募してくるように。もともと0.5％で野生のロリババアがくるくらいだから星晶獣も亜人もくるやろ。|||  

> 以上のことから、ランダムキャラ素質.ERBのみに注意すれば他は外見年齢として扱って問題ないと判断し改修を行いました。
</details>

### 24/10/19  
* CSVから奥義名を設定可能に
> 陥落時、未陥落時それぞれ性能が変動するレベルに応じて3段階ずつ設定可能。  
> 設定可能なのは表示される奥義の名前だけで、性能は汎用奥義のままです。  
> あわせて、CSVエディタにも関連機能を追加。  
> 固有奥義未設定なグラブルキャラに原作から名前を設定。複数の奥義を持つキャラはなんとなくで割り振っています。  
> それ以外にも気になったCSV記述をちょっと手を入れています  
> （アルスピラに非戦闘キャラ追加、コロッサスのタイプをバランス→攻撃に、ミィムの得意武器を剣→杖に）
> ちなみに汎用奥義って今(11/19時点)こんな感じに強化されています。火力だけなら現時点での殆どの固有奥義より高くなる  
> 
> |通常　　|   |   |   |  
> |:-------|:-:|:-:|--:|
> |強化Lv　|  1| 14| 26|  
> |奥義威力|300|400|450|  
> 
> |恋慕　　|  |   |   |  
> |:-------|:-:|:-:|--:|
> |強化Lv　| 38| 62| 74|  
> |奥義威力|550|750|900|  
> |効果数値|130|200|250|  
> |追加効果|敵全体に[効果数値]％の自属性ダメージ| | |  
> 
> |セフレ時|   |   |   |  
> |:-------|:-:|:-:|--:|
> |強化Lv　| 38| 62| 74|  
> |奥義威力|550|750|900|  
> |効果数値|100|150|200|  
> |追加効果|敵全体に[効果数値]％の無属性・防御無視ダメージ| | |  


### 24/06/19  
* 口上イベント「挨拶」「情事目撃」を追加
> 「挨拶」は好感度が一定以上のキャラに、その日最初に遭遇した時に表示されます  
> 「情事目撃」はうふふ現場に乱入して中断させた後、一度別れてから再度遭遇した時に表示されます  
> 正確に言うと、「呼び出されるタイミングは元から有ったが、諸々の仕様変更で無効になっていた」機能を整備し直した形です  

* 口上テンプレートに機能追加  
> 前述の「挨拶」「情事目撃」を追加  
> 呼び名、一人称、二人称の記述が楽になるようReadmeに加筆  
> 元からある機能をReadmeに記述しただけですが、知ってると結構違うんじゃないかなと。  

* カリオストロ口上加筆  
> うさみのさんが加筆されたオナホール実行時口上にインスパイアされました。ありがとうございます。  
> ついでに口上テンプレートVer0.115に移植。バグがあったらごめんなさい。  
> いつの間にかPRE_AUTOCOM2系が消えていた……まぁ対応させてた口上、自分のだけだったしなぁ  
> 前述の「挨拶」イベントもサンプルがてら記述してあります。  

* カリオストロに固有コマンド「肉体再錬成」を追加  
> 陥落時、ZPショップで「外見変化を伴う素質変更」を行うとイベントを経て実行可能になります  
> 60分かかる代わりに、カリオストロの肉体ならZP消費なしで変更し放題！爆乳ハーヴィンもまな板ドラフも思いのまま！！  
> ただし身長は種族の固定概念からは逃れられません。第二のフェディエルは無ぅ理ぃ～  
> そのかわり、陥落前はZPショップでの「外見変化を伴う素質変更」を受け付けません。起床時にキャンセルされ、ZPも当日会えなければ減ったままです  
> 挨拶イベント追加はこの一連の流れのためだったりする  

* https://www.youtube.com/watch?v=1wSFf6jlpII の動画を参考に料理人知識持ちを増量
> 実装済み：ヴィーラ、パーシヴァル、シークフリート、クピタン、ブリジール、リーシャ、シグ、ククル
> 実装済み追記：ビカラ（えとキャンで自炊発言あり）、シャトラ（えとキャンで料理披露）、カリオストロ（季節イベントや錬金術工房で料理をふるまう描写あり）、プロメティア（家柄からも自分で料理してそう）、アズサ（ナルメアに剣以外では全勝できるらしいので）
> 未実装：ファラ、レ・フィーエ、ボレミア、スタン、ウェルダー、レッドラック、ネネ、ドロシー、バウタオーダ、コーデリア、ジェシカ、シュラ、レオナ、ラインハルザ、エルモート、シトリ、イッパツ、ファスティバ、ローアイン
> 保留：ベアトリクス（全部お菓子の味になるのは料理の腕があると言っていいのか）、ゼタ（根拠が弱いかも）

* 差分エフェクトに「妊娠時」を追加
> 起床前画面のOPTIONから機能切り替え→画像関連→妊娠時オーバーレイと進めると切り替えられます  
> 性癖が分かれるところと思われるので、デフォルトは「表示しない」になっています  

### 24/05/19  
* ランダムキャラ名ジェネレータを作成  
> グラブル世界の命名規則に則り、発音可能と思われる音の羅列を作成する機能です。自然に聞こえたらラッキーくらいでガチャってください  
> ランダムにキャラ名を決定するさい、女性器を持たない場合や、既存のキャラ名と重複するため100回やり直しても決定できない場合に使用されるようになるほか  
> CSVエディタから試すこともできます  
* 「覗く」コマンドの画像表示機能をちょっと変更  
> 画像があるキャラが選ばれやすいように  
> 風呂場を除いた時に、湯浴み着画像がない場合全裸画像を表示するように  
> 差分ファイルの命名が厳密な連番仕様ではなくても表示できるように  

### 24/03/19  
* サイド領域：同室者の表示方法を拡充  
> タブをクリックすることで、複数人プレイ時に「１～２人を大きく表示」か「可能な限り短冊表示を並べる」かを切り替え可能に  

* 画像関係をちょこっと改変  
> デフォルト画像の差分表示のルールを変更  
> 一部表示画像にファイル名ポップアップを導入  
> 一部差分エフェクトを改定  

### 24/02/19  
* ミレイユ、リゼットのCSV追加。
> それに伴い、カリオストロ、クラリスの同行者に設定。  

* 広告を出す際、所持金が足りない項目は選択できないように変更
> 実際に使用する金額も選択肢に追記  

* デバッグモード時限定で、性交渉の実行判定に対する素質の影響を可視化してソートできるように

* CSVエディタの機能改修
> 終了時に一度確認画面を出すように設定  
> バストの数値を直接入力していない場合、CSVに書き出さないよう変更  

* ABL:指や舌が一気に上がる可能性がある場合、1度に上がる上限まで上がるように変更

### 23/12/19  
* CSVエディタのデバッグ・機能拡充
> 初期経験を設定した時、経験の名前がおかしくなるバグを修正。  
> CSVエディタでプレゼントの好み、水着のタイプ、同行者候補キャラを設定可能に。  
> ついでに水着のタイプを２種追加。（ショートパンツ型ビキニと胸元の切れ込みが深いワンピース）  
> データ的には、下半身がずらせないビキニとパイズリできるワンピースです。  

### 23/11/19  
* キャラ同士の関係性が変化する機能追加
> キャラ同士で一緒に行動するコマンド（一緒に遊ぶ、お茶を淹れるなど）や  
> パーティを組んで戦闘に勝利する、３P状態でコマンドを実行するなどで関係性が上昇します。  
> 一定値以上上昇することで同行確率が上がったり、新規に同行候補に設定されたりします。  
> また、下記機能追加により、関係性に応じて一日一緒に行動する確率が上がります。  
> 上限人数は100人までで、それ以上増える場合は一番値が低い相手との関係性が削除されます。  
> 追加した関数の詳細については、汎用関数\RELATION.ERBを確認してください。

* キャラの移動ルーチン決定に機能追加
> 全員かっちり同じ時間に動くのは不自然なので、業務以外のルーチンでは±60分の間でゆらぎが発生するように変更。  
> 入浴後ロビーで少しだけくつろぐように変更。  
> 汎用ルーチンの場合、午前と午後で違う行動をとる場合があるように変更。  
> 関係性の値に応じて、他のキャラと一緒に行動する機能を追加。この時、少しだけ双方の関係性が向上します。  
> ~~低確率ですが、業務にべったりくっついて回るヴィーr…クピt…ストーカーも発生します。~~
バグの原因となったためオミット  

* サイド領域に「表示なし」「同行者」を追加
> 同室者が一人だけ、または2人かつ３P中は同行者表示が拡大された短冊表示になります。  

* アビリティ機能追加
> 戦闘中のみ、探索中のみカウントする変数を追加  
> デバフに弱体耐性貫通オプションを追加 

* カリオストロのアビリティ、奥義及び口上加筆  

* グラフィック機能改修
> 差分区分に「表情」を追加  
> 他の差分が表示されないとき、ランダムで表示されることがあります。

### 23/09/19  
* 口上機能追加
> 口内射精時の口上と、飲むか否かを表示する口上の表示タイミングを分離。  
> 将来的に３Pでスペレズさせたいので。 

* 身長・バストを数字で表示する機能を追加 
> オプションから切り替えられます。  
> 設定されていない場合、種族・性別・体型・体格から計算されます。  
> 逆に身長が設定されている場合、そこから体型・体格が計算されます。  

* 素質:体格を追加
> 先のバスト計算の折に使われます。  
> オプションで表示可能。妄想の一助にどうぞ。 

### 23/08/19  
* グラフィック機能改修
> メイン画面での画像表示サイズを変更可能に。画像下のボタンの他、画像を直接クリックしても切り替えられます。  
> 3Pの場合、短冊と同じレイアウトで対象と助手の顔グラを縦に並べて表示できるように。  
> 縦に並べた場合、助手（下に表示されている方）の顔グラをクリックするとメインと助手を入れ替えられるように。  
>  差分区分に「フェラチオ」、「口内射精」、「パイズリ」、「乳内射精」、「顔射」を追加  
> 差分エフェクト機能追加。差分区分に該当する画像ファイルがない場合、対応するエフェクトを被せて表示するように。

* ビカラ陰モードを一日開始時のステータス画面から確認できるように。  
> また、その状態で画像フォルダが選択できるように。  
> (ビカラの好感度または恋慕度が高い場合、直前に選んだモードで起床してきます。)  

* eraTWより、時計画像表示機能を移植
> ・パッチ製作者のなんとなくパッチをつくってる人様に多大なる感謝を。  
> ついでに経過時間も表示されるように。  

### 23/07/19  
* グラフィック機能改修
> 衣装区分に「湯浴み着」を追加  
> 差分ファイルも適応するファイルが複数あればランダム表示するように。
> 差分区分に「正常位」「後背位」他、各種体位を追加

### 23/06/20  
* グラフィック機能改修
> 画像フォルダ選択機能を追加  
> eraTWより性行為アニメーション、受精アニメーションを移植。
> ・バリアント主のeraTWk3.v6様、アニメ作成者のおりすい様に多大なる感謝を。  

* 種付けプレスの実装。特定条件下でボルチオ責めの表示が変わるだけです。  
* パイズリでも特定条件下で口内射精できるように。  

* 他、バグ修正

### 23/06/01  
* グラフィック機能改修
> 画像ファイルのランダム化を（現在存在する）すべての衣装に対応  
> 衣装区分に「部屋着」を追加  
> 「___キャラ画像の入れ方.txt」を改修  
> 画像機能のオプション画面が、表示されている番号と入力する番号が異なっていたので修正  

* 口内射精時の分岐挙動が想定外だったので修正  

### 23/04/14  
* 口上機能追加。今回もサンプルがてらカリオストロの口上を加筆してあります。
> カード勝負を勝ち負けのパターンに応じて記述できるように。  
> 会話、口説くに大失敗（話題がない）パターンを追加。  
> 口内射精時に飲み込むかどうかの判定を一元化し、口上テンプレートに追記  
> 恋慕度の分岐がレベル：経験値テーブルになっていたのを修正

* グラフィックを現在の衣装に応じて切り替わるように（実は前から）。現在対応している画像名は以下の通り(23/08/10更新)  
> また、同種のファイルの後ろに番号があれば、その中からランダムで選択されて表示されるように。  
> 詳細は「___キャラ画像の入れ方.txt」を参照  

> （更新：24/06/19）
> |（顔or短冊）_ ＋	| 解説          |
> | -------------	|:-------------|
> | デフォルト		| 起床後、以下の条件になければ表示される。また、以下のファイルがなければこれが表示される|
> | 水着 			| プールなどで表示される |
> | 湯浴み着		| お風呂で表示される|
> | 全裸 			| 押し倒した後、服をすべて脱がせると表示される。また、湯浴み着がない場合こちらが表示される|
> | 浴衣			| お風呂から出たあとはこれが表示される|
> |おしゃれ着		| 友好度か恋慕度が高い場合、デフォルトの代わりに選択されることがある|
> |バニー服			| イベントやコスプレコマンドで着替えたり、従業員の制服として着た場合に表示される|
> |メイド服			| イベントやコスプレコマンドで着替えたり、従業員の制服として着た場合に表示される|
> |逆バニー			| イベントやコスプレコマンドで着替えたり、従業員の制服として着た場合に表示される|
> |マイクロビキニ	| イベントやコスプレコマンドで着替えたり、従業員の制服として着た場合に表示される|
> |スモック			| イベントやコスプレコマンドで着替えたり、従業員の制服として着た場合に表示される|
> |ミニメイド服		| イベントやコスプレコマンドで着替えたり、従業員の制服として着た場合に表示される|
- 現在対応している差分画像名は以下の通り。上にあるほど優先度が高い  
> *がついている差分区分には差分エフェクトが存在するため、画像ファイルがない場合は差分エフェクトが被せて表示されます。
> |（衣装名）\_差分_ ＋	| 解説          |
> | -------------	|:-------------|
> |	対面座位/側位/屈曲位/駅弁/対面立位/騎乗位 | 対応する体位で性行為を行っている時に表示される|
> |	*正常位		| 正常位の時、あるいは↑の各種体位のファイルが存在しない時に表示される|
> |	寝バック/側位/背面座位/逆駅弁/立ちバック/同時挿入|対応する体位で性行為を行っている時に表示される|
> |	*後背位		| 後背位の時、あるいは↑の各種体位のファイルが存在しない時に表示される|
> |	*膣内射精	| 前のターンで腟内に射精されていた場合に表示される|
> |	腸内射精	| 前のターンで腸内に射精されていた場合に表示される|
> |	*口内射精	| 前のターンで口に射精されていた場合に表示される|
> |	*乳内射精	| 前のターンで乳内に射精されていた場合に表示される|
> |	顔射		| 前のターンで顔に射精されていた場合に表示される|
> |	*パイズリ	| パイズリ中、あるいはパイズリフェラ中に表示される|
> |	*フェラチオ	| フェラチオ中、あるいはシックスナイン中に表示される|
> |	*絶頂		| 前ターンで絶頂していた場合に表示される|
> |	*欲情		| 欲情のPALAMがLv4以上の時に表示される|
> |	表情		| 上記の差分が適応されない場合、ランダムで表示されうる|
- 妊娠時には上記衣装名の前に「妊娠」と記述されたファイルがある場合、そちらが優先的に表示される（例：顔_妊娠デフォルト.png、短冊_妊娠水着_差分_浴場.png など）
> 存在しない場合、「現在の衣装に対応する画像→妊娠デフォルト→デフォルト」の順に探して存在するものが表示されます。  
> また、表示された画像が妊娠に対応していない場合（例：水着はあるが妊娠水着は無い場合）は、妊娠時用の差分エフェクトが被せて表示されます。  
> 妊娠時差分エフェクトは、「起床前画面のOPTION→機能切り替え→画像関連→妊娠時オーバーレイ」で選択できます。  
> デフォルトは「表示しない」となっています。  

* 他、ちょっとしたこと
> プールから一気に遠くまで連れ歩くなどした場合に衣装が正常に切り替わらないバグを修正  
> 世界観に合わせ、浴衣を「ユカタヴィラ」と表示するように。内部処理は浴衣のままです。  

### 23/03/03  
* 好感度の切り替え閾値を定数配列化  
* 最大好感度の種類によって関係性の表記が変わるように  
* 上2つに対応する形で口上テンプレートを修正  
* キャラクター固有好感度に応じた関係性表記も設定できるように  
* 口上テンプレートにキャラ固有好感度での関係名を追加  
* サンプルがてら、カリオストロ口上のパラメータ設定とステータス画面を同梱  
* 経験値テーブルは変動させることは想定外だろうから定数化  

-------------
Ｘ．ライセンス
-------------

	再配布・改変はeraに関する事柄かつ無償提供の範囲内ならご自由にどうぞ  

-------------
Ｚ．履歴
-------------
制作者：Rsp暇人

2023/03/03 新規作成  
2023/04/14 口上機能追加、グラフィック機能改修、他バグとり  
2023/06/01 グラフィック機能改修、画像の入れ方を解説、他バグとり  
2023/06/20 グラフィック機能改修  
2023/07/19 グラフィック機能改修、画像の入れ方を加筆  
2023/08/19 グラフィック機能改修、画像の入れ方を加筆、時計画像表示機能を追加、他バグとり  
2023/09/19 口内射精時と飲むか否かの口上の表示タイミングを分離、身長・バスト(cm)・体型を追加、その他バグとり  
2023/11/19 アビリティ関係にいくつか機能追加、カリオストロ口上加筆、その他バグとり  
2023/12/19 CSVエディタ機能追加
2024/02/19 ミレイユ、リゼットのcsv追加
2024/03/19 サイド領域機能の拡充
2024/05/19 ランダムキャラ名ジェネレータ追加
2024/02/19 カリオストロ口上加筆
2024/03/19 サイド領域：同室者の機能拡張
2024/05/19 ランダムキャラ名ジェネレータを作成
2024/06/19 口上イベント「挨拶」「情事目撃」、カリオストロ固有コマンド「肉体再錬成」追加、料理人知識持ちを増量、妊娠時差分エフェクトを追加